---
about_this_resource_text: <p><strong>Topics covered:</strong> Battery simulation</p><p><strong>Instructor/speaker:</strong>
  James Geraci, Sudarshan Raghunathan, and John Chu</p>
course_id: 6-189-multicore-programming-primer-january-iap-2007
embedded_media:
- id: p2.jpg
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/projects/project-battery-simulation/p2.jpg
  title: Battery Simulation
  type: null
  uid: 52fcb7b4af64fc9986239acb675ff6e7
- id: Video-YouTube-Stream
  media_location: hd4roBsrYA8
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: Video-YouTube-Stream
  type: Video
  uid: 6fadaee875a902a26d4937f5d54acfb9
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/hd4roBsrYA8/default.jpg
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: e0f5dccb36167b4d0856be91a4e1016b
- id: Video-iTunesU-MP4
  media_location: https://itunes.apple.com/us/itunes-u/id341597759
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: Video-iTunes U-MP4
  type: Video
  uid: 90c11ce05065be298ae0de4fe2bdbd3b
- id: Video-InternetArchive-MP4
  media_location: http://www.archive.org/download/MIT6.189IAP07/ocw-6.189-iap07-pro02_300k.mp4
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: Video-Internet Archive-MP4
  type: Video
  uid: dbdbe6b34157d2a55d00914405b2fadf
- id: Thumbnail-OCW-JPG
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: Thumbnail-OCW-JPG
  type: Thumbnail
  uid: e6e5b9b336b3f30df4cb67c1260ab3b6
- id: 3Play-3PlayYouTubeid-MP4
  media_location: hd4roBsrYA8
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: b3384b4d0c84cab456971f3e188b2add
- id: hd4roBsrYA8.srt
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/projects/project-battery-simulation/hd4roBsrYA8.srt
  title: 3play caption file
  type: null
  uid: a859d95a7b755ac0ba26fad47276a0b5
- id: hd4roBsrYA8.pdf
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/projects/project-battery-simulation/hd4roBsrYA8.pdf
  title: 3play pdf file
  type: null
  uid: 15af1952b4c49262295f77c5b9efbd55
- id: Caption-3Play YouTube id-SRT
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: b109391953b898efb6cc564bf146c670
- id: Transcript-3Play YouTube id-PDF
  parent_uid: 0d754d64fa66d01f9f003df58ec15571
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: 65d359cf8bfc116dbbbab637540a2aa4
inline_embed_id: 15252803project:batterysimulation51642878
layout: video
order_index: null
parent_uid: b639672ad9ad956df1d830e6183298ae
related_resources_text: ''
short_url: project-battery-simulation
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/projects/project-battery-simulation
template_type: Tabbed
title: 'Project: Battery Simulation '
transcript: '<p><span m=''40''>The</span> <span m=''170''>following</span> <span m=''610''>content</span>
  <span m=''1200''>is</span> <span m=''1320''>provided</span> <span m=''1760''>under</span>
  <span m=''2040''>a</span> <span m=''2080''>Creative</span> <span m=''2480''>Commons</span>
  <span m=''2890''>license.</span> <span m=''4000''>Your</span> <span m=''4190''>support</span>
  <span m=''4690''>will</span> <span m=''4850''>help</span> <span m=''5090''>MIT</span>
  <span m=''5550''>OpenCourseWare</span> <span m=''6340''>continue</span> <span m=''6850''>to</span>
  <span m=''6930''>offer</span> <span m=''7340''>high</span> <span m=''7580''>quality</span>
  <span m=''8100''>educational</span> <span m=''8730''>resources</span> <span m=''9350''>for</span>
  <span m=''9500''>free.</span> <span m=''10710''>To</span> <span m=''10810''>make</span>
  <span m=''10920''>a</span> <span m=''10960''>donation</span> <span m=''11650''>or</span>
  <span m=''11920''>view</span> <span m=''12360''>additional</span> <span m=''12780''>materials</span>
  <span m=''13320''>from</span> <span m=''13470''>hundreds</span> <span m=''13900''>of</span>
  <span m=''14010''>MIT</span> <span m=''14440''>courses,</span> <span m=''15550''>visit</span>
  <span m=''15770''>MIT</span> <span m=''16190''>OpenCourseWare</span> <span m=''17240''>at</span>
  <span m=''17400''>ocw.mit.edu.</span> </p><p><span m=''23060''>JAMES GERACI: My</span>
  <span m=''23230''>name''s</span> <span m=''23330''>James</span> <span m=''23480''>Geraci.</span>
  <span m=''23970''>I</span> <span m=''24140''>worked</span> <span m=''24583''>with</span>
  <span m=''25026''>Sudarshan</span> <span m=''25470''>and</span> <span m=''25580''>John</span>
  <span m=''25900''>Chu</span> <span m=''26070''>on</span> <span m=''26250''>this</span>
  <span m=''27860''>project.</span> <span m=''28280''>And</span> <span m=''28350''>what</span>
  <span m=''28470''>we</span> <span m=''28590''>did</span> <span m=''28810''>is</span>
  <span m=''28960''>we</span> <span m=''29370''>took</span> <span m=''29620''>a</span>
  <span m=''31110''>numerical</span> <span m=''31500''>simulation,</span> <span m=''32049''>electrochemical</span>
  <span m=''32570''>simulation,</span> <span m=''32990''>of</span> <span m=''33070''>a</span>
  <span m=''33120''>battery</span> <span m=''33610''>and</span> <span m=''34370''>ported</span>
  <span m=''34750''>it</span> <span m=''34910''>to</span> <span m=''35050''>the</span>
  <span m=''35230''>Playstation</span> <span m=''35770''>3.</span> <span m=''38620''>So</span>
  <span m=''39500''>the</span> <span m=''39630''>objective</span> <span m=''40140''>of</span>
  <span m=''40300''>this</span> <span m=''40500''>project</span> <span m=''41000''>for</span>
  <span m=''41150''>this</span> <span m=''41640''>situation</span> <span m=''42070''>was</span>
  <span m=''42170''>to</span> <span m=''42340''>port</span> <span m=''43700''>an</span>
  <span m=''43760''>electrochemical</span> <span m=''44400''>simulation</span> <span
  m=''44670''>to the</span> <span m=''44940''>PlayStation</span> <span m=''45390''>3</span>
  <span m=''45730''>and</span> <span m=''46390''>try</span> <span m=''46510''>to</span>
  <span m=''46620''>take</span> <span m=''46780''>advantage</span> <span m=''47190''>of</span>
  <span m=''47320''>the</span> <span m=''47470''>unique</span> <span m=''47770''>features</span>
  <span m=''48090''>of</span> <span m=''48160''>the</span> <span m=''48230''>cell</span>
  <span m=''48480''>processor</span> <span m=''49600''>to</span> <span m=''49820''>help</span>
  <span m=''50050''>speed</span> <span m=''50300''>up</span> <span m=''50370''>the</span>
  <span m=''50440''>computation</span> <span m=''51146''>of</span> <span m=''51500''>the</span>
  <span m=''52500''>simulation.</span> </p><p><span m=''53660''>So</span> <span m=''53940''>when</span>
  <span m=''54060''>we</span> <span m=''54160''>talk</span> <span m=''54380''>to</span>
  <span m=''54490''>everyone,</span> <span m=''54880''>we</span> <span m=''55010''>talk
  why</span> <span m=''55190''>we''d</span> <span m=''55340''>want</span> <span m=''55560''>to</span>
  <span m=''55780''>do</span> <span m=''55930''>that.</span> <span m=''56730''>We''re
  going to</span> <span m=''56950''>discuss the</span> <span m=''57300''>model.</span>
  <span m=''57710''>We''re going to</span> <span m=''57960''>discuss</span> <span
  m=''58290''>how</span> <span m=''58480''>we</span> <span m=''58920''>solved</span>
  <span m=''59220''>it</span> <span m=''59280''>numerically,</span> <span m=''61010''>look</span>
  <span m=''61160''>at</span> <span m=''61230''>some</span> <span m=''61370''>of</span>
  <span m=''61450''>our</span> <span m=''61540''>performance</span> <span m=''61930''>results,</span>
  <span m=''62370''>and</span> <span m=''62570''>then</span> <span m=''62850''>discuss</span>
  <span m=''63190''>what</span> <span m=''63350''>we</span> <span m=''63500''>wish</span>
  <span m=''63750''>we</span> <span m=''63910''>could</span> <span m=''64099''>have</span>
  <span m=''64390''>implemented.</span> </p><p><span m=''67420''>So</span> <span m=''68170''>the</span>
  <span m=''68260''>justification</span> <span m=''68860''>is</span> <span m=''68960''>basically</span>
  <span m=''69370''>the</span> <span m=''69480''>world</span> <span m=''70500''>needs</span>
  <span m=''70700''>energy,</span> <span m=''71740''>and</span> <span m=''72400''>oil</span>
  <span m=''72750''>has</span> <span m=''72960''>been</span> <span m=''73390''>in</span>
  <span m=''73450''>the</span> <span m=''73520''>news</span> <span m=''73750''>a</span>
  <span m=''73810''>lot</span> <span m=''74070''>and hasn''t</span> <span m=''74390''>been</span>
  <span m=''74990''>as</span> <span m=''75300''>a</span> <span m=''77000''>reliable</span>
  <span m=''77470''>source</span> <span m=''77750''>of</span> <span m=''77820''>energy</span>
  <span m=''78090''>as</span> <span m=''78200''>we''d</span> <span m=''78310''>like.</span>
  <span m=''78950''>So</span> <span m=''79380''>in</span> <span m=''79470''>the</span>
  <span m=''79550''>automotive</span> <span m=''79930''>industry,</span> <span m=''80360''>hybrids</span>
  <span m=''80780''>seem</span> <span m=''80980''>to</span> <span m=''81060''>be</span>
  <span m=''81310''>part</span> <span m=''81600''>of</span> <span m=''81690''>the</span>
  <span m=''81870''>solution</span> <span m=''82340''>to</span> <span m=''82510''>the</span>
  <span m=''84130''>energy</span> <span m=''84430''>needs.</span> </p><p><span m=''85160''>Now,</span>
  <span m=''85420''>one</span> <span m=''85730''>the problems</span> <span m=''85980''>of</span>
  <span m=''86050''>hybrids</span> <span m=''86600''>is</span> <span m=''86840''>how</span>
  <span m=''86980''>much</span> <span m=''87180''>energy</span> <span m=''87480''>is</span>
  <span m=''87590''>in</span> <span m=''87660''>your</span> <span m=''87760''>battery.</span>
  <span m=''88590''>So</span> <span m=''88740''>the</span> <span m=''88850''>more</span>
  <span m=''89020''>sophisticated</span> <span m=''89690''>battery</span> <span m=''89980''>model</span>
  <span m=''90180''>that</span> <span m=''90290''>we</span> <span m=''90360''>can</span>
  <span m=''90470''>put</span> <span m=''90680''>in</span> <span m=''90820''>a</span>
  <span m=''90880''>hybrid,</span> <span m=''91750''>the</span> <span m=''92050''>better</span>
  <span m=''92320''>that</span> <span m=''92480''>we''re</span> <span m=''92600''>going</span>
  <span m=''92690''>to</span> <span m=''92740''>be</span> <span m=''93910''>off.</span>
  <span m=''94280''>So</span> <span m=''96830''>a</span> <span m=''97170''>more</span>
  <span m=''97420''>sophisticated</span> <span m=''97800''>model</span> <span m=''98070''>requires</span>
  <span m=''98390''>more</span> <span m=''98510''>computation,</span> <span m=''99180''>so</span>
  <span m=''99360''>you''re</span> <span m=''99710''>looking</span> <span m=''99950''>at</span>
  <span m=''100060''>having</span> <span m=''100350''>a</span> <span m=''100500''>large</span>
  <span m=''101120''>superscalar</span> <span m=''101610''>processor</span> <span
  m=''102090''>in</span> <span m=''102170''>your</span> <span m=''102360''>car,</span>
  <span m=''102700''>or</span> <span m=''103000''>you</span> <span m=''103180''>could</span>
  <span m=''104020''>see</span> <span m=''104160''>if</span> <span m=''104230''>you</span>
  <span m=''104310''>could</span> <span m=''104440''>get</span> <span m=''105010''>a</span>
  <span m=''105100''>lot</span> <span m=''105240''>of</span> <span m=''105330''>small</span>
  <span m=''105640''>processors</span> <span m=''106160''>to</span> <span m=''106240''>do</span>
  <span m=''106340''>the</span> <span m=''106420''>same</span> <span m=''106630''>amount</span>
  <span m=''106830''>of</span> <span m=''106900''>work.</span> <span m=''107830''>And</span>
  <span m=''108120''>the</span> <span m=''108190''>cell</span> <span m=''108390''>represents</span>
  <span m=''108940''>the</span> <span m=''109560''>first</span> <span m=''109800''>opportunity</span>
  <span m=''110300''>be</span> <span m=''110450''>able</span> <span m=''110620''>to</span>
  <span m=''110700''>test</span> <span m=''110980''>that</span> <span m=''111830''>out.</span>
  </p><p><span m=''113150''>So</span> <span m=''114280''>the</span> <span m=''114440''>simulation</span>
  <span m=''114810''>that</span> <span m=''114920''>we</span> <span m=''115080''>ran</span>
  <span m=''116240''>basically</span> <span m=''116550''>consisted</span> <span m=''117010''>of</span>
  <span m=''117140''>a</span> <span m=''117190''>lead</span> <span m=''117380''>acid</span>
  <span m=''117700''>battery</span> <span m=''118870''>cell.</span> <span m=''119460''>So</span>
  <span m=''119710''>unfortunately,</span> <span m=''120350''>they</span> <span m=''120530''>used</span>
  <span m=''120750''>the</span> <span m=''120830''>word</span> <span m=''121050''>"cell,"</span>
  <span m=''121430''>and</span> <span m=''121700''>we''re</span> <span m=''121890''>also</span>
  <span m=''122070''>using</span> <span m=''122290''>the word</span> <span m=''122470''>"cell."</span>
  <span m=''123210''>So</span> <span m=''123850''>it''s</span> <span m=''124010''>sort</span>
  <span m=''124160''>of</span> <span m=''124240''>like</span> <span m=''124680''>the</span>
  <span m=''124840''>modern</span> <span m=''125210''>day</span> <span m=''125485''>Smurf.</span>
  <span m=''127250''>So</span> <span m=''127490''>in</span> <span m=''127660''>a</span>
  <span m=''127720''>lead-acid</span> <span m=''128139''>battery</span> <span m=''128539''>cell,</span>
  <span m=''129240''>you</span> <span m=''129389''>have</span> <span m=''130020''>a</span>
  <span m=''130160''>lead</span> <span m=''130389''>dioxide</span> <span m=''130850''>electrode,</span>
  <span m=''131400''>which</span> <span m=''131580''>consists</span> <span m=''131890''>of</span>
  <span m=''131980''>a</span> <span m=''132010''>number</span> <span m=''132250''>of</span>
  <span m=''132330''>parts;</span> <span m=''133130''>a</span> <span m=''133240''>lead</span>
  <span m=''133480''>electrode,</span> <span m=''134470''>which</span> <span m=''134740''>also</span>
  <span m=''134980''>consists</span> <span m=''135310''>of</span> <span m=''135390''>a</span>
  <span m=''135430''>number of</span> <span m=''135680''>parts;</span> <span m=''136220''>and
  an</span> <span m=''136370''>electrolyte,</span> <span m=''137000''>which</span>
  <span m=''137160''>is</span> <span m=''137280''>5</span> <span m=''137520''>molar</span>
  <span m=''137850''>sulfuric</span> <span m=''138290''>acid,</span> <span m=''139310''>which</span>
  <span m=''139450''>consists</span> <span m=''139750''>of</span> <span m=''140240''>H2SO4.</span>
  </p><p><span m=''144530''>When</span> <span m=''144710''>you</span> <span m=''144810''>discharge</span>
  <span m=''145390''>the</span> <span m=''145460''>battery,</span> <span m=''147700''>you''re</span>
  <span m=''147830''>going</span> <span m=''148030''>to</span> <span m=''148220''>close</span>
  <span m=''148500''>the</span> <span m=''148570''>circuit.</span> <span m=''149860''>And</span>
  <span m=''150050''>basically,</span> <span m=''150330''>what</span> <span m=''150470''>ends</span>
  <span m=''150610''>up</span> <span m=''150680''>happening</span> <span m=''151220''>is</span>
  <span m=''151410''>you</span> <span m=''151520''>have</span> <span m=''151810''>electrons</span>
  <span m=''153030''>flying</span> <span m=''153350''>on</span> <span m=''153430''>the</span>
  <span m=''153560''>outer</span> <span m=''154040''>loop.</span> <span m=''154520''>And</span>
  <span m=''154790''>between the</span> <span m=''155150''>electrodes,</span> <span
  m=''155610''>you''re</span> <span m=''155660''>going</span> <span m=''155850''>to</span>
  <span m=''155870''>have</span> <span m=''156670''>an</span> <span m=''156810''>ionic</span>
  <span m=''157210''>current.</span> <span m=''158180''>So</span> <span m=''159090''>you</span>
  <span m=''159200''>have</span> <span m=''159360''>a</span> <span m=''159410''>complete</span>
  <span m=''159810''>circuit</span> <span m=''160670''>around</span> <span m=''161040''>your</span>
  <span m=''161130''>loop.</span> <span m=''161900''>And</span> <span m=''162280''>this</span>
  <span m=''162430''>is</span> <span m=''162640''>the</span> <span m=''162800''>effect</span>
  <span m=''163260''>that the</span> <span m=''163700''>simulation</span> <span m=''163970''>is</span>
  <span m=''164240''>trying</span> <span m=''164630''>to</span> <span m=''164750''>simulate.</span>
  </p><p><span m=''166910''>The</span> <span m=''167010''>simulation</span> <span
  m=''167460''>works</span> <span m=''167900''>on</span> <span m=''168230''>a</span>
  <span m=''172880''>very</span> <span m=''173080''>low</span> <span m=''173290''>physical</span>
  <span m=''173620''>level,</span> <span m=''174110''>and it</span> <span m=''174350''>stimulates</span>
  <span m=''174750''>the</span> <span m=''174820''>chemical</span> <span m=''175130''>reactions,</span>
  <span m=''175590''>which</span> <span m=''175790''>at</span> <span m=''175930''>the</span>
  <span m=''176030''>lead dioxide</span> <span m=''176530''>electrode,</span> <span
  m=''176855''>it</span> <span m=''177180''>converts</span> <span m=''177840''>lead</span>
  <span m=''178080''>dioxide</span> <span m=''178335''>into</span> <span m=''178590''>lead</span>
  <span m=''178840''>sulfate</span> <span m=''179500''>during</span> <span m=''179710''>discharge,</span>
  <span m=''180700''>reverses</span> <span m=''181030''>it</span> <span m=''181160''>during</span>
  <span m=''181490''>charge.</span> <span m=''182420''>During</span> <span m=''183580''>discharge,</span>
  <span m=''184000''>the</span> <span m=''184420''>lead</span> <span m=''184700''>electrode</span>
  <span m=''185280''>turns lead</span> <span m=''185760''>into</span> <span m=''185940''>lead</span>
  <span m=''186150''>sulfate.</span> <span m=''186930''>And</span> <span m=''187530''>during</span>
  <span m=''187860''>recharge,</span> <span m=''188420''>it</span> <span m=''188600''>converts</span>
  <span m=''188960''>that</span> <span m=''189190''>back.</span> </p><p><span m=''193810''>To</span>
  <span m=''194100''>implement</span> <span m=''194440''>the</span> <span m=''194500''>model,</span>
  <span m=''194860''>we</span> <span m=''195000''>took</span> <span m=''195300''>basically</span>
  <span m=''196000''>and</span> <span m=''196240''>discretized</span> <span m=''196760''>the</span>
  <span m=''196860''>system</span> <span m=''197290''>and</span> <span m=''198230''>just</span>
  <span m=''198390''>kind</span> <span m=''198510''>of</span> <span m=''198600''>cross-sectioned</span>
  <span m=''199330''>it--</span> <span m=''200590''>took</span> <span m=''200970''>small</span>
  <span m=''201260''>sections</span> <span m=''201620''>and cross-sectioned</span>
  <span m=''202045''>it.</span> <span m=''203980''>We''re going</span> <span m=''204390''>to</span>
  <span m=''204610''>skip this</span> <span m=''204850''>slide.</span> <span m=''205155''>I
  don''t know</span> <span m=''205460''>what that is.</span> <span m=''206090''>But</span>
  <span m=''206230''>basically,</span> <span m=''207100''>to</span> <span m=''207780''>simulate</span>
  <span m=''208170''>the</span> <span m=''208250''>physics,</span> <span m=''208730''>we
  have</span> <span m=''208820''>a</span> <span m=''208870''>bunch</span> <span m=''209150''>of</span>
  <span m=''209270''>nasty,</span> <span m=''210050''>nonlinear</span> <span m=''210540''>coupled</span>
  <span m=''210820''>partial</span> <span m=''211140''>differential</span> <span m=''211620''>equations.</span>
  <span m=''212560''>This</span> <span m=''212720''>is</span> <span m=''212850''>an</span>
  <span m=''212930''>example</span> <span m=''213330''>of</span> <span m=''213470''>two</span>
  <span m=''213690''>of</span> <span m=''213820''>them.</span> </p><p><span m=''214580''>And</span>
  <span m=''215190''>there</span> <span m=''215600''>are</span> <span m=''215890''>a</span>
  <span m=''215970''>number</span> <span m=''216250''>of</span> <span m=''216350''>other</span>
  <span m=''216570''>ones</span> <span m=''216850''>that</span> <span m=''217440''>are</span>
  <span m=''217630''>included</span> <span m=''218010''>in</span> <span m=''218140''>the</span>
  <span m=''218220''>system</span> <span m=''218860''>but</span> <span m=''219640''>not</span>
  <span m=''219950''>really</span> <span m=''220170''>worth</span> <span m=''220670''>seeing.</span>
  <span m=''221270''>Just kind of a</span> <span m=''221540''>feel,</span> <span m=''223170''>you</span>
  <span m=''223330''>see</span> <span m=''224010''>a</span> <span m=''224540''>diffusion</span>
  <span m=''225090''>term.</span> <span m=''226040''>In</span> <span m=''226120''>the</span>
  <span m=''226200''>lower</span> <span m=''226380''>equation,</span> <span m=''226700''>you</span>
  <span m=''226770''>see a</span> <span m=''226920''>diffusion</span> <span m=''227430''>term.</span>
  <span m=''227710''>You see a</span> <span m=''227920''>reaction</span> <span m=''228420''>term.</span>
  <span m=''229280''>And</span> <span m=''230020''>the</span> <span m=''230140''>upper</span>
  <span m=''230310''>equation,</span> <span m=''231100''>you</span> <span m=''231250''>see</span>
  <span m=''232720''>changing</span> <span m=''233050''>of</span> <span m=''233140''>the</span>
  <span m=''233230''>porosity,</span> <span m=''233760''>changing</span> <span m=''234050''>the</span>
  <span m=''234120''>geometry</span> <span m=''234640''>of the</span> <span m=''234740''>system.</span>
  </p><p><span m=''236510''>This is</span> <span m=''236620''>kind</span> <span m=''236810''>of</span>
  <span m=''236980''>the</span> <span m=''237220''>output</span> <span m=''237640''>that</span>
  <span m=''237890''>you</span> <span m=''238000''>could</span> <span m=''238230''>get</span>
  <span m=''238510''>from</span> <span m=''238940''>this</span> <span m=''239260''>type</span>
  <span m=''239430''>of</span> <span m=''239490''>battery</span> <span m=''239860''>simulation.</span>
  <span m=''241910''>And</span> <span m=''242090''>what</span> <span m=''242220''>you''re</span>
  <span m=''242310''>looking</span> <span m=''242560''>at</span> <span m=''242700''>here</span>
  <span m=''242950''>is</span> <span m=''243020''>you''re</span> <span m=''243110''>looking</span>
  <span m=''243380''>at--</span> <span m=''244100''>if</span> <span m=''244360''>the</span>
  <span m=''244820''>left-hand</span> <span m=''245310''>side</span> <span m=''245610''>is</span>
  <span m=''245780''>the</span> <span m=''247010''>electrodes,</span> <span m=''247980''>is</span>
  <span m=''248180''>the</span> <span m=''248250''>top</span> <span m=''248490''>of</span>
  <span m=''248560''>the</span> <span m=''248640''>battery,</span> <span m=''250710''>and</span>
  <span m=''251030''>the</span> <span m=''251190''>height</span> <span m=''251680''>of
  the battery</span> <span m=''252040''>goes</span> <span m=''252250''>along</span>
  <span m=''252620''>that</span> <span m=''252880''>way,</span> <span m=''253670''>you</span>
  <span m=''253760''>see</span> <span m=''253920''>that</span> <span m=''254470''>as</span>
  <span m=''254670''>you</span> <span m=''254750''>discharge,</span> <span m=''255470''>the</span>
  <span m=''255950''>concentration</span> <span m=''257600''>at</span> <span m=''257779''>the</span>
  <span m=''257870''>top</span> <span m=''258130''>of</span> <span m=''258170''>the</span>
  <span m=''258240''>electrodes</span> <span m=''258880''>is</span> <span m=''259019''>much--</span>
  <span m=''259529''>the</span> <span m=''259720''>acid</span> <span m=''259970''>is</span>
  <span m=''260360''>consumed</span> <span m=''260769''>where</span> <span m=''260920''>you''re</span>
  <span m=''261480''>drawing</span> <span m=''261810''>current</span> <span m=''262110''>out</span>
  <span m=''262750''>most</span> <span m=''263050''>readily.</span> <span m=''263410''>So</span>
  <span m=''264350''>physically,</span> <span m=''264770''>the</span> <span m=''264870''>simulation</span>
  <span m=''265230''>kind</span> <span m=''265390''>of</span> <span m=''265440''>makes</span>
  <span m=''265750''>sense,</span> <span m=''266830''>even</span> <span m=''267050''>if
  my</span> <span m=''267410''>speech</span> <span m=''267760''>didn''t.</span> </p><p><span
  m=''269860''>The</span> <span m=''270730''>battery</span> <span m=''271050''>model</span>
  <span m=''271260''>that</span> <span m=''271390''>we</span> <span m=''271510''>used</span>
  <span m=''271810''>is</span> <span m=''271950''>a</span> <span m=''272030''>two-dimensional</span>
  <span m=''272600''>model.</span> <span m=''273350''>It</span> <span m=''273480''>has</span>
  <span m=''273720''>both</span> <span m=''274370''>a</span> <span m=''274500''>lead</span>
  <span m=''274820''>dioxide</span> <span m=''275210''>electrode</span> <span m=''276020''>and</span>
  <span m=''276260''>a lead</span> <span m=''276670''>electrode</span> <span m=''277090''>and
  an</span> <span m=''277280''>electrolyte</span> <span m=''277830''>area.</span>
  <span m=''278500''>This</span> <span m=''278700''>is</span> <span m=''278800''>an</span>
  <span m=''278880''>example</span> <span m=''279260''>of</span> <span m=''279340''>just</span>
  <span m=''279620''>the</span> <span m=''279770''>lead</span> <span m=''280090''>dioxide</span>
  <span m=''280610''>electrode.</span> <span m=''281800''>And</span> <span m=''281990''>if</span>
  <span m=''282080''>we</span> <span m=''282150''>discretize</span> <span m=''282670''>that</span>
  <span m=''282870''>in</span> <span m=''282950''>two</span> <span m=''283080''>dimensions,</span>
  <span m=''283620''>we</span> <span m=''283750''>would</span> <span m=''283890''>get</span>
  <span m=''285730''>a</span> <span m=''285820''>discretization</span> <span m=''286390''>that</span>
  <span m=''286500''>looks</span> <span m=''286680''>like</span> <span m=''286830''>that</span>
  <span m=''287170''>if</span> <span m=''287340''>we</span> <span m=''287470''>were</span>
  <span m=''287600''>to</span> <span m=''287740''>use</span> <span m=''288220''>a</span>
  <span m=''288510''>single-centered</span> <span m=''290320''>finite-volume</span>
  <span m=''290910''>method.</span> </p><p><span m=''291550''>But</span> <span m=''291650''>it</span>
  <span m=''291730''>turns</span> <span m=''291980''>out</span> <span m=''292100''>that</span>
  <span m=''292210''>we</span> <span m=''292300''>have</span> <span m=''292480''>so</span>
  <span m=''292660''>many</span> <span m=''292850''>discontinuities</span> <span m=''293710''>in</span>
  <span m=''293820''>here</span> <span m=''294010''>that</span> <span m=''294190''>it''s</span>
  <span m=''294420''>much</span> <span m=''294630''>better</span> <span m=''294860''>to</span>
  <span m=''294910''>use</span> <span m=''295120''>a</span> <span m=''295170''>staggered</span>
  <span m=''295600''>grid.</span> <span m=''296340''>And</span> <span m=''296560''>so</span>
  <span m=''298630''>we''re</span> <span m=''298760''>using</span> <span m=''298920''>actually</span>
  <span m=''299360''>two</span> <span m=''299650''>different</span> <span m=''300620''>meshes</span>
  <span m=''302230''>to</span> <span m=''302670''>simulate</span> <span m=''303110''>this</span>
  <span m=''303210''>system.</span> <span m=''305270''>Well,</span> <span m=''305490''>on</span>
  <span m=''305640''>a</span> <span m=''305700''>single</span> <span m=''305980''>mesh,</span>
  <span m=''306315''>you</span> <span m=''306650''>would</span> <span m=''306880''>end</span>
  <span m=''307000''>up</span> <span m=''307050''>having</span> <span m=''307330''>four</span>
  <span m=''307600''>corners,</span> <span m=''309000''>four</span> <span m=''309300''>edges</span>
  <span m=''309830''>and a</span> <span m=''310020''>center.</span> <span m=''310370''>So</span>
  <span m=''310480''>you would</span> <span m=''310620''>get</span> <span m=''311810''>nine</span>
  <span m=''312060''>different</span> <span m=''312280''>types</span> <span m=''312460''>of</span>
  <span m=''312570''>objects</span> <span m=''313070''>and</span> <span m=''313260''>one</span>
  <span m=''313420''>electrode</span> <span m=''313780''>alone.</span> <span m=''314650''>And</span>
  <span m=''315110''>you''re</span> <span m=''315240''>talking</span> <span m=''315560''>about</span>
  <span m=''315870''>a</span> <span m=''316250''>rather</span> <span m=''316610''>large</span>
  <span m=''317000''>and</span> <span m=''317370''>nasty</span> <span m=''317890''>simulation.</span>
  </p><p><span m=''319560''>On</span> <span m=''319640''>a</span> <span m=''319690''>small</span>
  <span m=''320030''>scale, the</span> <span m=''320320''>simulation</span> <span
  m=''320620''>would</span> <span m=''320920''>produce</span> <span m=''321410''>a</span>
  <span m=''321490''>very</span> <span m=''321710''>sparse</span> <span m=''322050''>matrix</span>
  <span m=''322430''>that</span> <span m=''322560''>looks</span> <span m=''322800''>something</span>
  <span m=''323200''>like</span> <span m=''323470''>this.</span> <span m=''324480''>And</span>
  <span m=''324940''>Sudarshan</span> <span m=''325360''>will</span> <span m=''325510''>now</span>
  <span m=''326130''>come</span> <span m=''326300''>up</span> <span m=''326470''>and</span>
  <span m=''326620''>talk</span> <span m=''326980''>to</span> <span m=''327310''>you</span>
  <span m=''327560''>about</span> <span m=''328190''>the</span> <span m=''328480''>matrices</span>
  <span m=''328905''>and</span> <span m=''329330''>how</span> <span m=''329760''>we</span>
  <span m=''329800''>solved</span> <span m=''330270''>this</span> <span m=''330670''>system.</span>
  </p><p><span m=''338949''>SUDARSHAN RAGHUNATHAN: [INAUDIBLE]</span> <span m=''339436''>slight
  context</span> <span m=''339923''>[INAUDIBLE]</span> <span m=''340410''>speakers.</span>
  <span m=''343332''>So basically,</span> <span m=''343819''>like John</span> <span
  m=''344306''>said,</span> <span m=''346254''>the</span> <span m=''346741''>problem,</span>
  <span m=''347228''>we are</span> <span m=''347471''>essentially</span> <span m=''347715''>trying
  to</span> <span m=''348202''>parallelize</span> <span m=''348700''>the</span> <span
  m=''349000''>most</span> <span m=''349260''>computationally</span> <span m=''349935''>expensive</span>
  <span m=''350190''>part of</span> <span m=''350490''>this whole</span> <span m=''350790''>simulation,</span>
  <span m=''351100''>this</span> <span m=''351556''>solving</span> <span m=''352470''>for</span>
  <span m=''352660''>the</span> <span m=''352840''>Newton</span> <span m=''355015''>iterations</span>
  <span m=''355785''>during</span> <span m=''356170''>each</span> <span m=''356490''>[?
  lower ?]</span> <span m=''356810''>step.</span> <span m=''357510''>And</span> <span
  m=''357830''>so</span> <span m=''357990''>basically,</span> <span m=''358410''>in</span>
  <span m=''358640''>an</span> <span m=''359160''>abstract--</span> <span m=''359495''>I''m</span>
  <span m=''359830''>sorry.</span> <span m=''360520''>Any</span> <span m=''360660''>questions?</span>
  </p><p><span m=''360980''>AUDIENCE: Speak</span> <span m=''361270''>louder.</span>
  </p><p><span m=''361560''>SUDARSHAN RAGHUNATHAN: Sorry?</span> </p><p><span m=''362298''>AUDIENCE:
  Louder.</span> </p><p><span m=''363254''>AUDIENCE: [INAUDIBLE]. The  microphone</span>
  <span m=''363732''>[INAUDIBLE].</span> </p><p><span m=''364210''>SUDARSHAN RAGHUNATHAN:
  I''ll try,</span> <span m=''364620''>but</span> <span m=''364790''>you''ve</span>
  <span m=''365180''>got to</span> <span m=''365340''>try and</span> <span m=''365730''>listen</span>
  <span m=''365900''>harder</span> <span m=''366380''>too.</span> </p><p><span m=''366510''>PROFESSOR:
  That only works</span> <span m=''366660''>for the</span> <span m=''367148''>TV.</span>
  <span m=''367636''>You have</span> <span m=''368124''>to yell</span> <span m=''368612''>at
  them.</span> </p><p><span m=''369100''>SUDARSHAN RAGHUNATHAN: I got it,</span> <span
  m=''369588''>yeah.</span> <span m=''370076''>Is it</span> <span m=''370564''>any
  better</span> <span m=''371052''>now?</span> </p><p><span m=''371540''>PROFESSOR:
  No, you''ve</span> <span m=''372028''>got to yell</span> <span m=''372516''>at them.</span>
  </p><p><span m=''373004''>SUDARSHAN RAGHUNATHAN: Is it any</span> <span m=''373492''>better
  now?</span> </p><p><span m=''373980''>AUDIENCE: Yeah.</span> </p><p><span m=''374468''>SUDARSHAN
  RAGHUNATHAN: OK,</span> <span m=''374970''>cool.</span> </p><p><span m=''375160''>PROFESSOR:
  Yeah,</span> <span m=''375552''>I can hear.</span> </p><p><span m=''376730''>SUDARSHAN
  RAGHUNATHAN: So--</span> </p><p><span m=''377280''>[LAUGHTER]</span> </p><p></p><p><span
  m=''379228''>Yeah,</span> <span m=''379715''>I always</span> <span m=''380202''>like
  to</span> <span m=''380689''>say I''ll</span> <span m=''381176''>try to</span> <span
  m=''381663''>speak harder.</span> <span m=''382150''>You should try</span> <span
  m=''382637''>to listen</span> <span m=''383124''>harder,</span> <span m=''383367''>too.</span>
  <span m=''383611''>So</span> <span m=''385072''>we meet</span> <span m=''385559''>somewhere</span>
  <span m=''386046''>in between.</span> <span m=''387510''>So</span> <span m=''387740''>basically</span>
  <span m=''388090''>in an</span> <span m=''388470''>abstract</span> <span m=''388915''>sense,</span>
  <span m=''389360''>we are</span> <span m=''389550''>trying to</span> <span m=''389980''>solve</span>
  <span m=''390355''>a</span> <span m=''390730''>system</span> <span m=''391170''>of</span>
  <span m=''391500''>sparse</span> <span m=''391830''>linear</span> <span m=''392030''>equations.</span>
  <span m=''392680''>And</span> <span m=''392860''>for</span> <span m=''393040''>simplicity,</span>
  <span m=''394690''>for the first</span> <span m=''394980''>pass,</span> <span m=''395300''>we</span>
  <span m=''395620''>treated</span> <span m=''395930''>the</span> <span m=''396240''>matrix</span>
  <span m=''396710''>as</span> <span m=''396930''>being</span> <span m=''397220''>dense.</span>
  <span m=''397510''>So we did</span> <span m=''397990''>the</span> <span m=''398200''>whole</span>
  <span m=''398670''>Gauss</span> <span m=''399130''>elimination</span> <span m=''400980''>ignoring</span>
  <span m=''401900''>all</span> <span m=''402130''>the</span> <span m=''402780''>zeroes</span>
  <span m=''403040''>of the</span> <span m=''403385''>matrix.</span> </p><p><span
  m=''404155''>And so</span> <span m=''404580''>the</span> <span m=''404700''>basic</span>
  <span m=''405010''>idea</span> <span m=''405240''>is</span> <span m=''405390''>that</span>
  <span m=''406970''>we</span> <span m=''407240''>do</span> <span m=''407740''>Gauss</span>
  <span m=''407920''>elimination</span> <span m=''408240''>with</span> <span m=''408560''>partial</span>
  <span m=''408870''>pivoting.</span> <span m=''409400''>And</span> <span m=''409780''>it''s</span>
  <span m=''410040''>the</span> <span m=''410150''>forward</span> <span m=''410555''>elimination</span>
  <span m=''410960''>stage</span> <span m=''411320''>of</span> <span m=''411410''>the</span>
  <span m=''411500''>Gauss</span> <span m=''411870''>elimination</span> <span m=''412240''>that</span>
  <span m=''412470''>[? Rn cubed ?]</span> <span m=''413040''>that</span> <span m=''413170''>is</span>
  <span m=''413430''>most</span> <span m=''413760''>expensive.</span> <span m=''414390''>And</span>
  <span m=''414690''>that is the</span> <span m=''414760''>thing</span> <span m=''415140''>we''ve</span>
  <span m=''415490''>tried</span> <span m=''415640''>to</span> <span m=''415750''>parallelize</span>
  <span m=''416390''>between</span> <span m=''416620''>among the</span> <span m=''416920''>SPUs.</span>
  <span m=''419020''>And</span> <span m=''419310''>the</span> <span m=''419420''>partial</span>
  <span m=''419670''>pivoting</span> <span m=''419965''>and the</span> <span m=''420260''>back
  subs</span> <span m=''420520''>are</span> <span m=''420780''>done on</span> <span
  m=''421080''>the</span> <span m=''421380''>PPUs</span> <span m=''421940''>because</span>
  <span m=''422230''>that</span> <span m=''422360''>turned</span> <span m=''422500''>out</span>
  <span m=''422815''>to</span> <span m=''423130''>be</span> <span m=''423550''>much</span>
  <span m=''423770''>faster.</span> </p><p><span m=''428660''>So</span> <span m=''428770''>this</span>
  <span m=''428890''>is</span> <span m=''429110''>the</span> <span m=''430190''>matrix</span>
  <span m=''430560''>that</span> <span m=''431630''>we</span> <span m=''431800''>are</span>
  <span m=''432020''>considering</span> <span m=''432530''>during</span> <span m=''432760''>each</span>
  <span m=''432880''>step</span> <span m=''433260''>for</span> <span m=''433520''>the</span>
  <span m=''433730''>random</span> <span m=''434130''>entries</span> <span m=''434500''>and</span>
  <span m=''434760''>for</span> <span m=''434940''>the</span> <span m=''435150''>random</span>
  <span m=''436390''>right-hand</span> <span m=''436710''>side.</span> <span m=''438922''>And</span>
  <span m=''439380''>then</span> <span m=''440300''>so</span> <span m=''440660''>the</span>
  <span m=''441020''>way</span> <span m=''441100''>Gauss</span> <span m=''441470''>elimination</span>
  <span m=''441760''>works</span> <span m=''442040''>is</span> <span m=''442170''>that</span>
  <span m=''443370''>we</span> <span m=''443530''>start</span> <span m=''443870''>off</span>
  <span m=''444030''>with</span> <span m=''444830''>one</span> <span m=''445000''>of</span>
  <span m=''445070''>the</span> <span m=''445180''>rows that</span> <span m=''445540''>you</span>
  <span m=''445680''>call the</span> <span m=''445930''>base row,</span> <span m=''446430''>which</span>
  <span m=''446820''>is where</span> <span m=''447080''>the pivots</span> <span m=''447505''>come
  from.</span> </p><p><span m=''451260''>And</span> <span m=''451710''>then</span>
  <span m=''452010''>we</span> <span m=''452080''>eliminate</span> <span m=''452330''>the</span>
  <span m=''452760''>variable</span> <span m=''453030''>corresponding</span> <span
  m=''453630''>to</span> <span m=''453720''>base</span> <span m=''454090''>row</span>
  <span m=''454170''>from</span> <span m=''454400''>all the</span> <span m=''454610''>subsequent</span>
  <span m=''455610''>elimination</span> <span m=''456110''>rows.</span> <span m=''456610''>And</span>
  <span m=''456880''>all</span> <span m=''457050''>these</span> <span m=''457210''>eliminations</span>
  <span m=''457810''>can</span> <span m=''457950''>be</span> <span m=''458050''>done</span>
  <span m=''458370''>in parallel.</span> <span m=''458770''>And that''s</span> <span
  m=''459030''>what</span> <span m=''459230''>we have</span> <span m=''459490''>tried
  to</span> <span m=''459630''>parallelize.</span> <span m=''460280''>So</span> <span
  m=''460560''>each</span> <span m=''461170''>SPU</span> <span m=''462961''>grabs</span>
  <span m=''463390''>hold of</span> <span m=''463660''>the</span> <span m=''463930''>next</span>
  <span m=''464280''>available</span> <span m=''464850''>elimination</span> <span
  m=''465010''>row,</span> <span m=''465290''>eliminates</span> <span m=''465570''>it,</span>
  <span m=''465940''>and</span> <span m=''466170''>writes</span> <span m=''466640''>a</span>
  <span m=''466910''>result</span> <span m=''467260''>back</span> <span m=''467860''>on
  to</span> <span m=''468080''>the main</span> <span m=''468480''>memory.</span> </p><p><span
  m=''469470''>So</span> <span m=''469780''>if,</span> <span m=''470090''>for example,</span>
  <span m=''470568''>if we</span> <span m=''471046''>consider</span> <span m=''471524''>the
  situation with</span> <span m=''472002''>the two</span> <span m=''472480''>SPUs,</span>
  <span m=''474240''>what</span> <span m=''474400''>we do</span> <span m=''474810''>is</span>
  <span m=''475220''>that</span> <span m=''478525''>we</span> <span m=''478960''>stream
  the</span> <span m=''479395''>elimination</span> <span m=''479830''>rows</span>
  <span m=''480000''>across all</span> <span m=''480450''>the</span> <span m=''480795''>SPUs.</span>
  <span m=''481140''>Each</span> <span m=''481400''>SPU</span> <span m=''481900''>performs
  the</span> <span m=''482367''>elimination</span> <span m=''482834''>and writes</span>
  <span m=''483301''>the result</span> <span m=''483768''>back</span> <span m=''484235''>to</span>
  <span m=''485640''>main</span> <span m=''486140''>memory,</span> <span m=''486350''>as
  you</span> <span m=''486440''>can</span> <span m=''486580''>see.</span> </p><p><span
  m=''487810''>And</span> <span m=''488390''>this</span> <span m=''488710''>happens</span>
  <span m=''488850''>for</span> <span m=''489020''>every</span> <span m=''491180''>row.</span>
  <span m=''492010''>So</span> <span m=''492480''>in</span> <span m=''492630''>this</span>
  <span m=''492920''>simulation,</span> <span m=''493210''>the</span> <span m=''493490''>first</span>
  <span m=''494070''>variable</span> <span m=''494250''>has been</span> <span m=''494530''>eliminated.</span>
  <span m=''495620''>As</span> <span m=''495780''>you</span> <span m=''495870''>can</span>
  <span m=''496000''>see,</span> <span m=''496120''>there are</span> <span m=''496400''>zeroes</span>
  <span m=''496690''>along</span> <span m=''496900''>the</span> <span m=''496990''>first</span>
  <span m=''497290''>column.</span> <span m=''497910''>And</span> <span m=''498880''>the</span>
  <span m=''498960''>process</span> <span m=''499410''>is</span> <span m=''500010''>recursive.</span>
  <span m=''500680''>After</span> <span m=''501230''>the</span> <span m=''501320''>first</span>
  <span m=''501940''>variable</span> <span m=''502130''>is</span> <span m=''502510''>completed,</span>
  <span m=''503050''>it</span> <span m=''503230''>moves</span> <span m=''503470''>on</span>
  <span m=''503600''>to</span> <span m=''503680''>the</span> <span m=''503800''>next</span>
  <span m=''504565''>variable.</span> </p><p><span m=''506540''>And</span> <span m=''506810''>the
  way</span> <span m=''507120''>the</span> <span m=''508370''>elimination</span> <span
  m=''508900''>rows</span> <span m=''509240''>are</span> <span m=''509550''>returned,</span>
  <span m=''509940''>they''re</span> <span m=''510190''>delivered</span> <span m=''510510''>in
  a</span> <span m=''510800''>cyclical</span> <span m=''511090''>fashion.</span> <span
  m=''511395''>So there</span> <span m=''511700''>is no</span> <span m=''512559''>serial</span>
  <span m=''513001''>bottleneck.</span> <span m=''514327''>It''s all</span> <span
  m=''514770''>perfectly</span> <span m=''515133''>load</span> <span m=''515496''>balanced.</span>
  </p><p><span m=''515860''>PROFESSOR: Have you--</span> </p><p><span m=''517000''>SUDARSHAN
  RAGHUNATHAN: I''m</span> <span m=''517020''>sorry?</span> </p><p><span m=''517330''>PROFESSOR:
  --change?</span> </p><p><span m=''518460''>SUDARSHAN RAGHUNATHAN: I''m sorry?</span>
  </p><p><span m=''518809''>PROFESSOR: If you</span> <span m=''519287''>eliminate</span>
  <span m=''519765''>something lower,</span> <span m=''520243''>doesn''t the</span>
  <span m=''520721''>pivot value</span> <span m=''521199''>change?</span> <span m=''521677''>I''m</span>
  <span m=''522633''>completely not</span> <span m=''523111''>getting what</span>
  <span m=''523589''>you are</span> <span m=''524067''>saying.</span> <span m=''524545''>That''s
  my</span> <span m=''525023''>first question.</span> </p><p><span m=''525510''>SUDARSHAN
  RAGHUNATHAN: Yes.</span> </p><p><span m=''525920''>PROFESSOR: Second</span> <span
  m=''526412''>question is,</span> <span m=''526904''>is this</span> <span m=''527396''>sparse
  or</span> <span m=''527888''>dense?</span> <span m=''528380''>What''s</span> <span
  m=''528660''>your</span> <span m=''528780''>matrix</span> <span m=''529250''>representation?</span>
  </p><p><span m=''529750''>SUDARSHAN RAGHUNATHAN: The</span> <span m=''530040''>matrix</span>
  <span m=''530510''>representation</span> <span m=''530790''>currently</span> <span
  m=''531070''>is</span> <span m=''531320''>dense.</span> </p><p><span m=''532460''>PROFESSOR:
  OK.</span> </p><p><span m=''533320''>SUDARSHAN RAGHUNATHAN: Yeah,</span> <span m=''533560''>so</span>
  <span m=''533890''>we''ve--</span> </p><p><span m=''534260''>PROFESSOR: Doesn''t
  the</span> <span m=''534752''>pivot value</span> <span m=''535244''>keep</span>
  <span m=''535736''>changing when</span> <span m=''536228''>you eliminate?</span>
  <span m=''536720''>So if</span> <span m=''537212''>it''s completely</span> <span
  m=''537704''>parallel,</span> <span m=''538196''>and doesn''t</span> <span m=''538688''>that</span>
  <span m=''539180''>[INAUDIBLE]?</span> </p><p><span m=''543390''>SUDARSHAN RAGHUNATHAN:
  So</span> <span m=''544400''>all</span> <span m=''544685''>the</span> <span m=''544970''>subsequent</span>
  <span m=''545225''>variables</span> <span m=''545920''>that</span> <span m=''546290''>are</span>
  <span m=''546700''>eliminated</span> <span m=''548230''>for</span> <span m=''548620''>each</span>
  <span m=''548860''>variable,</span> <span m=''550213''>all can</span> <span m=''550664''>be
  done</span> <span m=''551115''>in parallel.</span> <span m=''552020''>But</span>
  <span m=''552436''>after</span> <span m=''552852''>one</span> <span m=''553270''>variable</span>
  <span m=''553310''>has been</span> <span m=''553560''>eliminated,</span> <span m=''553940''>there''s
  a</span> <span m=''554320''>synchronization</span> <span m=''555000''>step</span>
  <span m=''555290''>where</span> <span m=''555580''>all the</span> <span m=''556810''>SPUs</span>
  <span m=''557545''>have to</span> <span m=''557860''>synchronize.</span> <span m=''558770''>There''s</span>
  <span m=''558890''>a</span> <span m=''559220''>barrier</span> <span m=''559500''>after
  each</span> <span m=''560510''>row</span> <span m=''560650''>has been</span> <span
  m=''561013''>eliminated.</span> </p><p><span m=''563114''>PROFESSOR: OK.</span>
  </p><p><span m=''564490''>SUDARSHAN RAGHUNATHAN: Yeah,</span> <span m=''564800''>so</span>
  <span m=''564990''>you</span> <span m=''565380''>start</span> <span m=''565830''>it--</span>
  <span m=''566130''>so</span> <span m=''566310''>there''s</span> <span m=''566500''>a</span>
  <span m=''566840''>totally</span> <span m=''567300''>[INAUDIBLE],</span> <span m=''567800''>if
  you</span> <span m=''567940''>write the</span> <span m=''568310''>algorithm</span>
  <span m=''568680''>down.</span> <span m=''570160''>And</span> <span m=''570505''>then</span>
  <span m=''571130''>it''s</span> <span m=''571445''>the</span> <span m=''571760''>inner</span>
  <span m=''572180''>two loops</span> <span m=''572570''>that are</span> <span m=''573066''>totally
  parallelized</span> <span m=''573562''>with.</span> <span m=''574058''>And  the</span>
  <span m=''574554''>second loop</span> <span m=''575050''>is what</span> <span m=''575546''>we''re
  trying to</span> <span m=''576042''>parallelize.</span> </p><p><span m=''577530''>PROFESSOR:
  OK.</span> </p><p><span m=''578026''>SUDARSHAN RAGHUNATHAN: Is</span> <span m=''578522''>that
  a</span> <span m=''579018''>little clearer?</span> <span m=''579514''>Yeah.</span>
  <span m=''580010''>So</span> <span m=''581002''>this</span> <span m=''581498''>is
  the</span> <span m=''581994''>basic</span> <span m=''582490''>algorithm.</span>
  <span m=''583482''>And</span> <span m=''584474''>I''ll</span> <span m=''584970''>let</span>
  <span m=''585466''>John</span> <span m=''585962''>talk about</span> <span m=''586458''>some
  of</span> <span m=''586954''>the performance</span> <span m=''587450''>numbers</span>
  <span m=''587946''>we''ve</span> <span m=''588442''>got.</span> <span m=''588938''>But</span>
  <span m=''590430''>some</span> <span m=''590650''>of</span> <span m=''590780''>the</span>
  <span m=''590900''>optimizations</span> <span m=''591260''>that</span> <span m=''592500''>we</span>
  <span m=''592940''>haven''t done</span> <span m=''593820''>are</span> <span m=''594260''>the</span>
  <span m=''594700''>use of</span> <span m=''594890''>the</span> <span m=''595150''>[?
  last three ?]</span> <span m=''595590''>operations,</span> <span m=''596070''>like</span>
  <span m=''596380''>extreme</span> <span m=''596726''>multiple rows</span> <span
  m=''597072''>at a</span> <span m=''597420''>time</span> <span m=''597907''>and</span>
  <span m=''599368''>use</span> <span m=''599855''>of</span> <span m=''600342''>[INAUDIBLE]</span>
  <span m=''600829''>operations.</span> <span m=''601316''>But I''ll</span> <span
  m=''601803''>let John</span> <span m=''602290''>talk about</span> <span m=''602777''>the</span>
  <span m=''603264''>performance numbers.</span> </p><p><span m=''616930''>JOHN CHU:
  Computation</span> <span m=''617210''>of the</span> <span m=''617490''>current</span>
  <span m=''617890''>elimination</span> <span m=''618340''>row</span> <span m=''618790''>with</span>
  <span m=''619240''>the</span> <span m=''619690''>fetching</span> <span m=''620140''>of
  the</span> <span m=''620240''>next</span> <span m=''620660''>elimination</span>
  <span m=''621040''>row,</span> <span m=''622190''>we</span> <span m=''622300''>get</span>
  <span m=''622480''>roughly a</span> <span m=''622880''>30%</span> <span m=''623590''>speedup.</span>
  <span m=''624550''>So</span> <span m=''624800''>here''s a</span> <span m=''625125''>graph</span>
  <span m=''626866''>to see</span> <span m=''627338''>how</span> <span m=''627810''>both
  the</span> <span m=''628282''>unbuffered</span> <span m=''628754''>and</span> <span
  m=''629226''>buffered</span> <span m=''629698''>version</span> <span m=''630650''>perform</span>
  <span m=''633124''>scattered with</span> <span m=''633602''>a number of</span> <span
  m=''634080''>SPUs.</span> <span m=''635040''>So as</span> <span m=''635250''>you
  can</span> <span m=''635490''>see,</span> <span m=''635710''>both look</span> <span
  m=''636190''>roughly</span> <span m=''636672''>pretty</span> <span m=''637154''>linear.</span>
  <span m=''639570''>And</span> <span m=''641510''>that</span> <span m=''641670''>makes</span>
  <span m=''641870''>sense</span> <span m=''642220''>because</span> <span m=''644034''>the--</span>
  </p><p><span m=''654740''>So</span> <span m=''654870''>here''s</span> <span m=''655360''>another</span>
  <span m=''655610''>graph</span> <span m=''655760''>of</span> <span m=''659718''>how
  we</span> <span m=''660210''>scaled</span> <span m=''660702''>with</span> <span
  m=''661200''>the</span> <span m=''661380''>size of</span> <span m=''661750''>the</span>
  <span m=''661930''>matrix</span> <span m=''662290''>that</span> <span m=''662420''>we''re</span>
  <span m=''662550''>working</span> <span m=''662790''>with.</span> <span m=''663640''>So</span>
  <span m=''664270''>the smaller</span> <span m=''664440''>the</span> <span m=''664705''>matrix,</span>
  <span m=''665410''>the</span> <span m=''665470''>higher</span> <span m=''665750''>the</span>
  <span m=''665880''>communication/computation</span> <span m=''667270''>ratio.</span>
  <span m=''668150''>So</span> <span m=''668230''>the</span> <span m=''668700''>communication</span>
  <span m=''669185''>latency</span> <span m=''669670''>should</span> <span m=''669890''>be
  more</span> <span m=''670230''>apparent.</span> <span m=''670570''>But as</span>
  <span m=''670960''>you can</span> <span m=''671350''>see,</span> <span m=''673670''>even</span>
  <span m=''673850''>as</span> <span m=''674130''>you get</span> <span m=''674450''>smaller,</span>
  <span m=''678322''>the</span> <span m=''678806''>computations</span> <span m=''679290''>is</span>
  <span m=''679774''>still pretty</span> <span m=''680258''>linear.</span> <span m=''682680''>So--</span>
  </p><p><span m=''683120''>PROFESSOR: Yeah,</span> <span m=''683618''>it''s</span>
  <span m=''684116''>linear.</span> <span m=''684614''>But</span> <span m=''690092''>it''s  not</span>
  <span m=''690590''>just</span> <span m=''691088''>[INAUDIBLE].</span> <span m=''691586''>It''s
  not</span> <span m=''692084''>running at</span> <span m=''692582''>2x</span> <span
  m=''693578''>performance</span> <span m=''694076''>improvement.</span> <span m=''695072''>But</span>
  <span m=''695570''>[INAUDIBLE]</span> <span m=''697064''>now.</span> <span m=''697562''>So
  when</span> <span m=''698060''>you put 16</span> <span m=''698558''>there,</span>
  <span m=''699554''>why is</span> <span m=''700052''>it only</span> <span m=''700550''>30%?</span>
  <span m=''701546''>Why is</span> <span m=''702044''>it not</span> <span m=''703040''>leading
  to</span> <span m=''703538''>2x performance</span> <span m=''704036''>improvement?</span>
  <span m=''704534''>So is</span> <span m=''705032''>it because</span> <span m=''705530''>of</span>
  <span m=''706028''>underclock?</span> <span m=''706526''>Because if</span> <span
  m=''707024''>it''s underclocked,</span> <span m=''708020''>your graph</span> <span
  m=''708518''>shouldn''t have</span> <span m=''709016''>this</span> <span m=''709514''>kind
  of</span> <span m=''710012''>a pattern.</span> <span m=''710510''>It should</span>
  <span m=''711008''>have</span> <span m=''711506''>a more</span> <span m=''712004''>exponential</span>
  <span m=''712502''>type pattern.</span> <span m=''713000''>[INAUDIBLE].</span> </p><p><span
  m=''716486''>PROFESSOR: Did you</span> <span m=''716984''>understand the</span>
  <span m=''717482''>question?</span> </p><p><span m=''717980''>JOHN CHU: Yep.</span>
  </p><p><span m=''719720''>PROFESSOR: So why</span> <span m=''719850''>aren''t you</span>
  <span m=''720240''>getting a</span> <span m=''720630''>2x</span> <span m=''721036''>speedup?</span>
  <span m=''723740''>I mean,</span> <span m=''723960''>your</span> <span m=''724160''>line</span>
  <span m=''724415''>is</span> <span m=''724670''>straight,</span> <span m=''725250''>but
  it''s</span> <span m=''725742''>not increasing</span> <span m=''726726''>proportional
  to</span> <span m=''727218''>the number of</span> <span m=''727710''>SPUs you''re</span>
  <span m=''728202''>increasing.</span> <span m=''728694''>So your</span> <span m=''729186''>efficiency
  might</span> <span m=''729678''>not be at</span> <span m=''730170''>100%.</span>
  <span m=''730662''>Any</span> <span m=''731160''>idea</span> <span m=''731410''>why?</span>
  </p><p><span m=''732650''>JAMES GERACI: Yeah,</span> <span m=''733120''>that</span>
  <span m=''733590''>[? looks ?]</span> <span m=''734060''>horrible.</span> </p><p><span
  m=''736326''>JOHN CHU: The 2x</span> <span m=''736730''>is only--</span> <span m=''737025''>this
  is</span> <span m=''737320''>[INAUDIBLE]</span> <span m=''737675''>[? laptop ?],</span>
  <span m=''738484''>so</span> <span m=''739392''>two would</span> <span m=''739846''>only
  shift</span> <span m=''740300''>it up</span> <span m=''740754''>and down,</span>
  <span m=''741208''>right?</span> </p><p><span m=''742570''>PROFESSOR: So</span>
  <span m=''742690''>it looks</span> <span m=''743180''>like you''re</span> <span
  m=''743590''>not operating</span> <span m=''744006''>at 100%</span> <span m=''744422''>efficiency,</span>
  <span m=''745670''>right?</span> </p><p><span m=''746967''>JAMES GERACI: Oh,</span>
  <span m=''747404''>definitely not.</span> </p><p><span m=''747841''>JOHN CHU: Yeah.</span>
  </p><p><span m=''748280''>PROFESSOR: So I</span> <span m=''748700''>think to--</span>
  </p><p><span m=''749199''>PROFESSOR: [INAUDIBLE]</span> <span m=''749698''>conversation</span>
  <span m=''750197''>going on</span> <span m=''750696''>there.</span> <span m=''751195''>But
  this</span> <span m=''751694''>a</span> <span m=''752193''>strange</span> <span
  m=''752692''>type of</span> <span m=''753191''>a graph</span> <span m=''753690''>because</span>
  <span m=''754189''>if</span> <span m=''754688''>[INAUDIBLE]</span> <span m=''759179''>as
  you</span> <span m=''759678''>get a</span> <span m=''760177''>very nice</span> <span
  m=''760676''>linear</span> <span m=''760925''>[INAUDIBLE].</span> <span m=''761175''>If
  you</span> <span m=''761674''>have</span> <span m=''762173''>[? undersize ?]</span>
  <span m=''763171''>coordinate,</span> <span m=''763670''>what you</span> <span m=''764169''>get
  is</span> <span m=''764668''>you have</span> <span m=''765167''>a good</span> <span
  m=''765666''>speed</span> <span m=''766165''>at</span> <span m=''766664''>very</span>
  <span m=''766863''>beginning,</span> <span m=''766963''>and</span> <span m=''767063''>then</span>
  <span m=''767163''>you slow down.</span> <span m=''767662''>You get a</span> <span
  m=''768660''>[INAUDIBLE]</span> <span m=''769159''>type of</span> <span m=''769658''>a
  graph.</span> <span m=''770157''>So it''s</span> <span m=''770656''>very much--</span>
  <span m=''771155''>I haven''t</span> <span m=''771654''>seen</span> <span m=''772153''>things
  like</span> <span m=''773151''>a</span> <span m=''773650''>strange</span> <span
  m=''773899''>line,</span> <span m=''774648''>but not</span> <span m=''775147''>as</span>
  <span m=''776644''>[INAUDIBLE]</span> <span m=''778141''>on your</span> <span m=''778640''>graph.</span>
  <span m=''779139''>This is kind</span> <span m=''779638''>of a strange thing.</span>
  <span m=''780137''>[INAUDIBLE]</span> <span m=''780636''>to</span> <span m=''781135''>see
  where</span> <span m=''781634''>and why</span> <span m=''782133''>does it</span>
  <span m=''782632''>happen.</span> </p><p><span m=''783630''>JOHN CHU: OK.</span>
  <span m=''785130''>Well,</span> <span m=''785540''>yeah,</span> <span m=''786290''>so</span>
  <span m=''786580''>I''ll just</span> <span m=''786870''>move on.</span> <span m=''788720''>So</span>
  <span m=''789390''>I''ll talk</span> <span m=''789740''>about</span> <span m=''790000''>some</span>
  <span m=''790100''>of</span> <span m=''790160''>the</span> <span m=''790260''>further</span>
  <span m=''790610''>work we''re</span> <span m=''790950''>trying</span> <span m=''791150''>to</span>
  <span m=''791230''>do.</span> </p><p><span m=''792343''>PROFESSOR: John?</span>
  </p><p><span m=''792816''>JOHN CHU: Yeah?</span> </p><p><span m=''793289''>PROFESSOR:
  Can you</span> <span m=''793762''>clip the</span> <span m=''794235''>mic</span>
  <span m=''794708''>to your--</span> <span m=''796127''>yeah,</span> <span m=''796600''>that''ll</span>
  <span m=''797073''>work.</span> </p><p><span m=''799440''>JOHN CHU: So</span> <span
  m=''801010''>we''ve</span> <span m=''801160''>also</span> <span m=''801370''>tried</span>
  <span m=''801560''>to</span> <span m=''801920''>triple</span> <span m=''802110''>buffer</span>
  <span m=''803030''>by</span> <span m=''804200''>pipelining</span> <span m=''804790''>the</span>
  <span m=''804950''>fetching</span> <span m=''805400''>of</span> <span m=''806640''>the</span>
  <span m=''806990''>next</span> <span m=''807290''>row</span> <span m=''807900''>with</span>
  <span m=''808070''>the</span> <span m=''808160''>computation</span> <span m=''808430''>of</span>
  <span m=''808700''>the</span> <span m=''808790''>current</span> <span m=''809070''>row</span>
  <span m=''809650''>with</span> <span m=''810030''>the</span> <span m=''810690''>sending</span>
  <span m=''811260''>of</span> <span m=''811510''>the</span> <span m=''811760''>previous</span>
  <span m=''812270''>row.</span> <span m=''813350''>We</span> <span m=''813520''>did</span>
  <span m=''813730''>this,</span> <span m=''813960''>but</span> <span m=''814310''>it</span>
  <span m=''814380''>didn''t</span> <span m=''814530''>actually</span> <span m=''814790''>give</span>
  <span m=''815140''>us</span> <span m=''815370''>the</span> <span m=''815460''>speedup</span>
  <span m=''815830''>that</span> <span m=''816750''>we</span> <span m=''817120''>thought</span>
  <span m=''817320''>we</span> <span m=''817420''>would</span> <span m=''817570''>get.</span>
  </p><p><span m=''819136''>But</span> <span m=''819578''>what we''re</span> <span
  m=''820020''>working</span> <span m=''820462''>on how</span> <span m=''820910''>is</span>
  <span m=''821200''>SIMDizing</span> <span m=''822100''>the</span> <span m=''822200''>computation</span>
  <span m=''822850''>stage.</span> <span m=''823660''>So</span> <span m=''824420''>right</span>
  <span m=''824550''>now,</span> <span m=''824710''>we</span> <span m=''824800''>treat</span>
  <span m=''827130''>all</span> <span m=''827280''>the</span> <span m=''827360''>doubles</span>
  <span m=''827660''>in</span> <span m=''827740''>the</span> <span m=''827820''>rows
  as</span> <span m=''828110''>scalars.</span> <span m=''829010''>But</span> <span
  m=''830980''>by</span> <span m=''831240''>SIMDizing,</span> <span m=''831490''>hopefully</span>
  <span m=''831800''>we</span> <span m=''831880''>can</span> <span m=''832010''>get</span>
  <span m=''832540''>a</span> <span m=''832650''>speedup</span> <span m=''833790''>by</span>
  <span m=''833930''>a</span> <span m=''833980''>factor</span> <span m=''834310''>of</span>
  <span m=''834410''>two.</span> </p><p><span m=''835690''>And</span> <span m=''835710''>also</span>
  <span m=''836165''>right</span> <span m=''836620''>now,</span> <span m=''836960''>our</span>
  <span m=''837410''>LU</span> <span m=''837760''>algorithm</span> <span m=''838390''>isn''t</span>
  <span m=''839580''>very</span> <span m=''839840''>smart</span> <span m=''840300''>in</span>
  <span m=''840370''>that</span> <span m=''840980''>when</span> <span m=''841110''>we</span>
  <span m=''841220''>fetch</span> <span m=''841490''>the</span> <span m=''841590''>elimination</span>
  <span m=''841880''>row,</span> <span m=''842710''>as</span> <span m=''842900''>we</span>
  <span m=''843010''>go</span> <span m=''843250''>on</span> <span m=''843510''>through</span>
  <span m=''843820''>the</span> <span m=''844340''>algorithm,</span> <span m=''844990''>part</span>
  <span m=''845180''>of</span> <span m=''845260''>the</span> <span m=''845330''>elimination</span>
  <span m=''845820''>row</span> <span m=''846030''>becomes</span> <span m=''846970''>zeroes</span>
  <span m=''847550''>as</span> <span m=''847780''>we</span> <span m=''847890''>move</span>
  <span m=''848060''>down.</span> <span m=''848750''>So</span> <span m=''851130''>we</span>
  <span m=''851260''>don''t</span> <span m=''851440''>really</span> <span m=''851590''>need</span>
  <span m=''851730''>to</span> <span m=''851820''>fetch</span> <span m=''852130''>the</span>
  <span m=''852230''>entire</span> <span m=''852730''>elimination</span> <span m=''853100''>row.</span>
  <span m=''853860''>And</span> <span m=''854190''>so</span> <span m=''854410''>by</span>
  <span m=''854570''>taking</span> <span m=''854860''>that</span> <span m=''855000''>into</span>
  <span m=''855240''>account,</span> <span m=''858210''>our</span> <span m=''858410''>DMA</span>
  <span m=''858520''>transfers</span> <span m=''859240''>are</span> <span m=''859350''>smaller.</span>
  <span m=''860110''>And</span> <span m=''860210''>maybe</span> <span m=''860410''>that</span>
  <span m=''860870''>will help</span> <span m=''861307''>speed up</span> <span m=''861744''>things
  a bit.</span> </p><p><span m=''863055''>PROFESSOR: So is</span> <span m=''863492''>the
  whole</span> <span m=''863930''>thing using</span> <span m=''864320''>double precision?</span>
  </p><p><span m=''865206''>JOHN CHU: Yes.</span> <span m=''865702''>It''s in</span>
  <span m=''866198''>double</span> <span m=''866694''>precision.</span> </p><p><span
  m=''868182''>AUDIENCE: Do you have</span> <span m=''868678''>any</span> <span m=''869174''>megaflops</span>
  <span m=''869670''>you''re getting?</span> </p><p><span m=''870662''>JAMES GERACI:
  We</span> <span m=''871158''>have</span> <span m=''871654''>gigaflops.</span> <span
  m=''872150''>I think</span> <span m=''872646''>we''re getting</span> <span m=''873142''>around
  2</span> <span m=''873638''>gigaflops.</span> </p><p><span m=''874630''>JOHN CHU:
  So here''s</span> <span m=''875126''>the</span> <span m=''875622''>gigaflops</span>
  <span m=''876118''>graph.</span> </p><p><span m=''879590''>AUDIENCE: Do you</span>
  <span m=''880086''>know what the</span> <span m=''880582''>expected</span> <span
  m=''881078''>for</span> <span m=''881574''>[INAUDIBLE]?</span> </p><p><span m=''883558''>JAMES
  GERACI: [INAUDIBLE]</span> <span m=''884550''>algorithm</span> <span m=''885046''>bias,</span>
  <span m=''885542''>just</span> <span m=''886038''>[INAUDIBLE].</span> </p><p><span
  m=''890530''>AUDIENCE: This is</span> <span m=''890820''>a linear</span> <span m=''890960''>scalar</span>
  <span m=''891520''>on</span> <span m=''891840''>the</span> <span m=''891900''>y-axis?</span>
  </p><p><span m=''892712''>JAMES GERACI: Yeah,</span> <span m=''893204''>it''s</span>
  <span m=''893696''>[INAUDIBLE].</span> </p><p><span m=''897632''>AUDIENCE: Any idea</span>
  <span m=''898124''>why</span> <span m=''898616''>you have this</span> <span m=''899108''>[INAUDIBLE]</span>
  <span m=''899600''>at</span> <span m=''900092''>3 SGUs?</span> <span m=''901076''>Your</span>
  <span m=''901568''>double</span> <span m=''902060''>buffering</span> <span m=''902552''>result</span>
  <span m=''903536''>just</span> <span m=''905012''>drops.</span> </p><p><span m=''908948''>JAMES
  GERACI: Actually, we</span> <span m=''909440''>have no</span> <span m=''909932''>idea.</span>
  <span m=''910916''>[INAUDIBLE].</span> <span m=''912392''>I don''t know</span> <span
  m=''912884''>if we</span> <span m=''913868''>consistently</span> <span m=''914852''>checked</span>
  <span m=''915344''>[INAUDIBLE].</span> </p><p><span m=''915836''>AUDIENCE: You</span>
  <span m=''916328''>might want to</span> <span m=''916820''>run it</span> <span m=''917312''>a
  few</span> <span m=''917804''>more</span> <span m=''918296''>times.</span> <span
  m=''919100''>There</span> <span m=''919400''>is</span> <span m=''920380''>a</span>
  <span m=''920870''>recent</span> <span m=''921360''>series of</span> <span m=''921850''>papers</span>
  <span m=''922340''>by</span> <span m=''922830''>Jack</span> <span m=''923320''>Dongarra''s</span>
  <span m=''923810''>group</span> <span m=''925280''>aimed at</span> <span m=''925620''>double-precision</span>
  <span m=''926400''>computations.</span> <span m=''928392''>They</span> <span m=''928890''>used</span>
  <span m=''929388''>single</span> <span m=''929886''>precision,</span> <span m=''930882''>did
  an</span> <span m=''931380''>approximate</span> <span m=''931878''>guess,</span>
  <span m=''932874''>and</span> <span m=''933372''>then did</span> <span m=''933870''>a
  few</span> <span m=''934368''>iterations</span> <span m=''934866''>of an</span>
  <span m=''935364''>iterative</span> <span m=''935862''>approach</span> <span m=''936360''>to
  get</span> <span m=''936858''>a</span> <span m=''937356''>double-precision</span>
  <span m=''937854''>result.</span> </p><p><span m=''938352''>JAMES GERACI: Yeah,
  those</span> <span m=''938850''>don''t work</span> <span m=''939348''>very well
  for</span> <span m=''939846''>[INAUDIBLE].</span> <span m=''942834''>And this is</span>
  <span m=''943332''>conditioned around</span> <span m=''943830''>10 to the</span>
  <span m=''944328''>8.</span> <span m=''945324''>So that''s</span> <span m=''945822''>kind
  of</span> <span m=''946320''>out of</span> <span m=''946818''>the</span> <span m=''947316''>ballpark
  of</span> <span m=''947814''>the</span> <span m=''948312''>[INAUDIBLE].</span> </p><p><span
  m=''950304''>SUDARSHAN RAGHUNATHAN: And</span> <span m=''951798''>the</span> <span
  m=''952296''>particle</span> <span m=''952794''>[INAUDIBLE]</span> <span m=''953790''>that
  they</span> <span m=''954288''>do,</span> <span m=''954786''>they tried</span> <span
  m=''955284''>to do</span> <span m=''955782''>[INAUDIBLE]</span> <span m=''956280''>computation.</span>
  <span m=''956778''>And the main</span> <span m=''957276''>reason they do</span>
  <span m=''957774''>[INAUDIBLE]</span> <span m=''958272''>because they</span> <span
  m=''958770''>say</span> <span m=''959268''>[INAUDIBLE].</span> <span m=''966240''>And
  then</span> <span m=''966738''>in</span> <span m=''967236''>doing this,</span> <span
  m=''968730''>the</span> <span m=''969020''>hope</span> <span m=''969230''>is</span>
  <span m=''969380''>to</span> <span m=''969920''>generalize</span> <span m=''970340''>this</span>
  <span m=''970530''>to</span> <span m=''970960''>sparse</span> <span m=''971240''>matrices</span>
  <span m=''971620''>later</span> <span m=''971900''>on.</span> <span m=''972430''>And</span>
  <span m=''975224''>I</span> <span m=''975646''>think they</span> <span m=''976070''>are
  trying</span> <span m=''976400''>to do</span> <span m=''976690''>some work</span>
  <span m=''976810''>with</span> <span m=''977390''>sparse</span> <span m=''977750''>matrices,</span>
  <span m=''978180''>but they</span> <span m=''978657''>haven''t</span> <span m=''979134''>gotten
  there.</span> </p><p><span m=''982950''>AUDIENCE: One</span> <span m=''983200''>additional</span>
  <span m=''983400''>question.</span> <span m=''983790''>Just</span> <span m=''984253''>at
  a</span> <span m=''984716''>high</span> <span m=''985180''>level,</span> <span m=''985860''>is</span>
  <span m=''986210''>this</span> <span m=''986420''>the</span> <span m=''986510''>right</span>
  <span m=''986750''>way</span> <span m=''986890''>to</span> <span m=''987380''>tackle
  this</span> <span m=''987520''>particular</span> <span m=''987950''>problem?</span>
  <span m=''988460''>It</span> <span m=''988860''>strikes</span> <span m=''989230''>me</span>
  <span m=''989330''>that there</span> <span m=''989610''>must</span> <span m=''989840''>be</span>
  <span m=''989940''>a</span> <span m=''990090''>closed-form</span> <span m=''992140''>high-level</span>
  <span m=''992660''>microscopic</span> <span m=''993350''>model</span> <span m=''993720''>for</span>
  <span m=''995760''>battery</span> <span m=''996130''>self-discharge.</span> </p><p><span
  m=''997480''>And</span> <span m=''998240''>I</span> <span m=''998320''>don''t</span>
  <span m=''998470''>know</span> <span m=''998610''>anything</span> <span m=''998830''>about
  the</span> <span m=''999100''>chemistry</span> <span m=''999590''>lead</span> <span
  m=''999830''>acid</span> <span m=''1000130''>batteries,</span> <span m=''1000550''>but</span>
  <span m=''1001180''>the little</span> <span m=''1001520''>write-up</span> <span
  m=''1001850''>on</span> <span m=''1001950''>the</span> <span m=''1002020''>website</span>
  <span m=''1002520''>mentions</span> <span m=''1002940''>Black-Scholes,</span> <span
  m=''1003735''>which I</span> <span m=''1004070''>do</span> <span m=''1004190''>know</span>
  <span m=''1004350''>something</span> <span m=''1004680''>about.</span> <span m=''1005080''>And
  of</span> <span m=''1005180''>course,</span> <span m=''1005950''>there</span> <span
  m=''1006430''>are</span> <span m=''1006630''>efficient</span> <span m=''1006940''>ways</span>
  <span m=''1007150''>of</span> <span m=''1007260''>doing</span> <span m=''1007520''>that.</span>
  </p><p><span m=''1008346''>JAMES GERACI: Sure, there</span> <span m=''1008832''>are</span>
  <span m=''1009804''>efficient ways</span> <span m=''1010290''>of doing</span> <span
  m=''1010776''>Black-Scholes.</span> <span m=''1011262''>There are</span> <span m=''1011748''>different
  ways</span> <span m=''1012234''>of doing this.</span> <span m=''1012720''>This is</span>
  <span m=''1013692''>only</span> <span m=''1014180''>one</span> <span m=''1014450''>of
  the</span> <span m=''1014850''>equations that''s</span> <span m=''1015250''>similar
  to</span> <span m=''1015525''>Black-Scholes.</span> <span m=''1016290''>There are</span>
  <span m=''1016780''>multiple</span> <span m=''1017065''>equations that</span> <span
  m=''1017350''>go into</span> <span m=''1017700''>this.</span> <span m=''1018100''>They''re
  all</span> <span m=''1018445''>coupled.</span> <span m=''1018790''>They''re all</span>
  <span m=''1019193''>nonlinear.</span> </p><p><span m=''1020000''>So</span> <span
  m=''1020640''>solving</span> <span m=''1021330''>this</span> <span m=''1021640''>system</span>
  <span m=''1021950''>of</span> <span m=''1022060''>equations</span> <span m=''1023120''>is,</span>
  <span m=''1024349''>in</span> <span m=''1024500''>the</span> <span m=''1024589''>literature,</span>
  <span m=''1025300''>if</span> <span m=''1026250''>you were</span> <span m=''1026400''>going</span>
  <span m=''1026500''>to</span> <span m=''1026569''>choose</span> <span m=''1026839''>this</span>
  <span m=''1027000''>as</span> <span m=''1027099''>your</span> <span m=''1027200''>model,</span>
  <span m=''1027800''>is--</span> </p><p><span m=''1028050''>AUDIENCE: But</span>
  <span m=''1028300''>if</span> <span m=''1028550''>you</span> <span m=''1028700''>were</span>
  <span m=''1028910''>actually</span> <span m=''1029410''>in</span> <span m=''1029550''>the</span>
  <span m=''1029660''>business</span> <span m=''1030070''>of</span> <span m=''1033040''>building</span>
  <span m=''1033300''>and</span> <span m=''1034210''>operating</span> <span m=''1034690''>batteries--</span>
  </p><p><span m=''1034960''>JAMES GERACI: The problem with--</span> </p><p><span
  m=''1035240''>AUDIENCE: --wouldn''t</span> <span m=''1035529''>you try</span> <span
  m=''1035819''>and come</span> <span m=''1036190''>up with</span> <span m=''1036570''>an</span>
  <span m=''1036950''>efficient</span> <span m=''1037710''>microscopic</span> <span
  m=''1038359''>model</span> <span m=''1038690''>rather than--</span> </p><p><span
  m=''1039560''>JAMES GERACI: Well,</span> <span m=''1040240''>it</span> <span m=''1040369''>depends</span>
  <span m=''1040630''>on what your</span> <span m=''1040880''>compute</span> <span
  m=''1041220''>costs</span> <span m=''1041589''>are.</span> <span m=''1041980''>I</span>
  <span m=''1042040''>mean,</span> <span m=''1042300''>if</span> <span m=''1043170''>you''re</span>
  <span m=''1043500''>going</span> <span m=''1043650''>to</span> <span m=''1043780''>run</span>
  <span m=''1043960''>a</span> <span m=''1044000''>model</span> <span m=''1044290''>on
  a</span> <span m=''1044430''>superscalar</span> <span m=''1044930''>processor,</span>
  <span m=''1045380''>that''</span> <span m=''1045599''>very</span> <span m=''1045760''>expensive</span>
  <span m=''1046069''>processor.</span> <span m=''1046540''>If,</span> <span m=''1046640''>however,</span>
  <span m=''1046950''>now</span> <span m=''1047150''>you</span> <span m=''1047190''>have</span>
  <span m=''1047359''>the</span> <span m=''1047440''>ability</span> <span m=''1047720''>to</span>
  <span m=''1047780''>use</span> <span m=''1048000''>a</span> <span m=''1048060''>collection</span>
  <span m=''1048420''>of</span> <span m=''1048510''>small,</span> <span m=''1049030''>cheap</span>
  <span m=''1050390''>little</span> <span m=''1050570''>processors</span> <span m=''1051070''>like</span>
  <span m=''1051270''>this,</span> <span m=''1051710''>you</span> <span m=''1051830''>can</span>
  <span m=''1051990''>maybe have</span> <span m=''1052430''>the</span> <span m=''1052470''>luxury</span>
  <span m=''1052790''>of</span> <span m=''1052860''>using</span> <span m=''1053180''>a</span>
  <span m=''1053220''>much</span> <span m=''1053420''>more</span> <span m=''1053600''>sophisticated</span>
  <span m=''1054370''>model.</span> </p><p><span m=''1055650''>AUDIENCE: Is it</span>
  <span m=''1055860''>necessarily</span> <span m=''1056130''>more</span> <span m=''1056360''>sophisticated?</span>
  <span m=''1056560''>I</span> <span m=''1056960''>mean,</span> <span m=''1057150''>is
  there</span> <span m=''1057340''>some</span> <span m=''1057530''>fundamental</span>
  <span m=''1058070''>reason</span> <span m=''1058380''>why</span> <span m=''1058520''>you''d</span>
  <span m=''1058640''>get</span> <span m=''1058810''>more</span> <span m=''1058980''>information</span>
  <span m=''1059480''>out of</span> <span m=''1059670''>this</span> <span m=''1059800''>approach</span>
  <span m=''1060320''>than</span> <span m=''1061774''>out of</span> <span m=''1062251''>a</span>
  <span m=''1062728''>higher level</span> <span m=''1063205''>model?</span> </p><p><span
  m=''1064160''>JAMES GERACI: You</span> <span m=''1064550''>get</span> <span m=''1064690''>a</span>
  <span m=''1064730''>lot</span> <span m=''1064890''>more</span> <span m=''1065350''>detail</span>
  <span m=''1065670''>as</span> <span m=''1065780''>to</span> <span m=''1065850''>what''s</span>
  <span m=''1066030''>going</span> <span m=''1066200''>on</span> <span m=''1066440''>within</span>
  <span m=''1066590''>your</span> <span m=''1066680''>battery.</span> <span m=''1067050''>A
  higher level</span> <span m=''1067480''>model</span> <span m=''1067790''>will give</span>
  <span m=''1067910''>you</span> <span m=''1068130''>I/O</span> <span m=''1068580''>information.</span>
  <span m=''1069300''>But</span> <span m=''1069930''>if</span> <span m=''1070030''>you''re</span>
  <span m=''1070160''>trying</span> <span m=''1070340''>to</span> <span m=''1070390''>find</span>
  <span m=''1070680''>failure</span> <span m=''1070970''>mechanisms,</span> <span
  m=''1071570''>you</span> <span m=''1071660''>may</span> <span m=''1071780''>want</span>
  <span m=''1071950''>to</span> <span m=''1072000''>know</span> <span m=''1072260''>how</span>
  <span m=''1072480''>much</span> <span m=''1072700''>pressure''s</span> <span m=''1073090''>going</span>
  <span m=''1073300''>on</span> <span m=''1073430''>at</span> <span m=''1073530''>certain</span>
  <span m=''1073720''>points in</span> <span m=''1073990''>your battery.</span> </p><p><span
  m=''1074570''>Especially</span> <span m=''1074890''>with</span> <span m=''1074990''>lithium</span>
  <span m=''1075460''>ion</span> <span m=''1075670''>batteries,</span> <span m=''1076270''>when</span>
  <span m=''1076400''>you--</span> <span m=''1076920''>this</span> <span m=''1077520''>differs</span>
  <span m=''1077770''>from</span> <span m=''1077890''>a</span> <span m=''1077950''>lithium</span>
  <span m=''1078190''>ion</span> <span m=''1078400''>battery</span> <span m=''1078680''>in</span>
  <span m=''1078790''>that</span> <span m=''1079230''>we''re</span> <span m=''1079500''>actually</span>
  <span m=''1079710''>changing</span> <span m=''1080140''>the</span> <span m=''1080240''>state,</span>
  <span m=''1080950''>the</span> <span m=''1081070''>type of</span> <span m=''1081270''>matter</span>
  <span m=''1081580''>that</span> <span m=''1081720''>we''re</span> <span m=''1081800''>using.</span>
  <span m=''1082160''>And in</span> <span m=''1082250''>lithium</span> <span m=''1082670''>ion</span>
  <span m=''1082870''>battery, we''re</span> <span m=''1083220''>intercalating</span>
  <span m=''1083585''>and</span> <span m=''1083950''>deintercalating.</span> <span
  m=''1084960''>And</span> <span m=''1085100''>so</span> <span m=''1085200''>what</span>
  <span m=''1085310''>we''re</span> <span m=''1085420''>doing</span> <span m=''1085670''>is</span>
  <span m=''1085750''>we''re</span> <span m=''1085840''>creating</span> <span m=''1086140''>a
  lot of</span> <span m=''1086360''>stress</span> <span m=''1086720''>on</span> <span
  m=''1086810''>a</span> <span m=''1086850''>matrix,</span> <span m=''1087790''>a</span>
  <span m=''1087890''>crystal.</span> <span m=''1088240''>And</span> <span m=''1088430''>that</span>
  <span m=''1088590''>will</span> <span m=''1088710''>be</span> <span m=''1088890''>a</span>
  <span m=''1088960''>failure</span> <span m=''1089280''>mechanism.</span> </p><p><span
  m=''1090210''>A</span> <span m=''1090330''>simple</span> <span m=''1091780''>input/output</span>
  <span m=''1092330''>relationship</span> <span m=''1092790''>will</span> <span m=''1092880''>not</span>
  <span m=''1093080''>give</span> <span m=''1093210''>you</span> <span m=''1093300''>that</span>
  <span m=''1093530''>failure</span> <span m=''1093800''>mechanism.</span> <span m=''1094780''>So</span>
  <span m=''1095160''>you</span> <span m=''1095310''>may</span> <span m=''1095440''>want</span>
  <span m=''1095660''>to</span> <span m=''1095720''>know</span> <span m=''1095860''>that</span>
  <span m=''1096060''>kind</span> <span m=''1096240''>of</span> <span m=''1096300''>information.</span>
  <span m=''1096700''>You</span> <span m=''1096870''>may</span> <span m=''1097010''>want</span>
  <span m=''1097170''>to</span> <span m=''1097230''>know</span> <span m=''1097780''>heat</span>
  <span m=''1098030''>information</span> <span m=''1098540''>also.</span> <span m=''1098820''>You</span>
  <span m=''1099000''>could</span> <span m=''1099120''>include</span> <span m=''1100270''>thermodynamical</span>
  <span m=''1101230''>information</span> <span m=''1101490''>to</span> <span m=''1101750''>this</span>
  <span m=''1101930''>kind</span> <span m=''1102070''>of</span> <span m=''1102120''>model.</span>
  </p><p><span m=''1102430''>AUDIENCE: OK,</span> <span m=''1102750''>that''s</span>
  <span m=''1103170''>a</span> <span m=''1103440''>good</span> <span m=''1103800''>answer.</span>
  <span m=''1104220''>I</span> <span m=''1104640''>take</span> <span m=''1105060''>that</span>
  <span m=''1105900''>to</span> <span m=''1105930''>mean</span> <span m=''1106280''>that</span>
  <span m=''1106595''>the</span> <span m=''1106910''>reason</span> <span m=''1107220''>for</span>
  <span m=''1107360''>doing</span> <span m=''1107650''>this</span> <span m=''1107990''>is</span>
  <span m=''1108300''>if</span> <span m=''1109040''>your</span> <span m=''1109210''>researching</span>
  <span m=''1110556''>the</span> <span m=''1110990''>physics</span> <span m=''1111160''>of</span>
  <span m=''1111790''>battery</span> <span m=''1112120''>discharge</span> <span m=''1112690''>as</span>
  <span m=''1112790''>opposed</span> <span m=''1113250''>to</span> <span m=''1114380''>trying</span>
  <span m=''1114590''>to</span> <span m=''1114700''>estimate</span> <span m=''1115830''>how</span>
  <span m=''1116301''>much</span> <span m=''1118185''>power''s left</span> <span m=''1118660''>in
  your</span> <span m=''1118920''>battery.</span> </p><p><span m=''1119180''>JAMES
  GERACI: Well,</span> <span m=''1120610''>if</span> <span m=''1120780''>you</span>
  <span m=''1120870''>have</span> <span m=''1121040''>the</span> <span m=''1121100''>computation</span>
  <span m=''1121590''>power,</span> <span m=''1121860''>you</span> <span m=''1121970''>could</span>
  <span m=''1122080''>use</span> <span m=''1122210''>the</span> <span m=''1122270''>same</span>
  <span m=''1122480''>model</span> <span m=''1122720''>that</span> <span m=''1122860''>does</span>
  <span m=''1123030''>the</span> <span m=''1123110''>research</span> <span m=''1123510''>as</span>
  <span m=''1124050''>the</span> <span m=''1124140''>car.</span> <span m=''1124650''>And
  so</span> <span m=''1125090''>if you--</span> <span m=''1125566''>yeah,</span> <span
  m=''1126042''>if</span> <span m=''1126520''>you can</span> <span m=''1126640''>use
  small</span> <span m=''1126920''>processors.</span> <span m=''1128114''>So</span>
  <span m=''1128521''>our</span> <span m=''1129080''>demonstration--</span> <span
  m=''1129340''>if</span> <span m=''1129600''>you</span> <span m=''1129690''>guys</span>
  <span m=''1129870''>want</span> <span m=''1130000''>to</span> <span m=''1130050''>see</span>
  <span m=''1130260''>print</span> <span m=''1130515''>def</span> <span m=''1130770''>statements.</span>
  <span m=''1132540''>Otherwise--</span> </p><p><span m=''1132830''>PROFESSOR: No,
  I think</span> <span m=''1133326''>we''re over</span> <span m=''1133822''>time.</span>
  </p><p><span m=''1134318''>JAMES GERACI: Yeah.</span> </p><p><span m=''1134814''>PROFESSOR:
  Any last</span> <span m=''1135310''>questions?</span> </p><p><span m=''1136480''>AUDIENCE:
  Wait, just</span> <span m=''1136610''>so I</span> <span m=''1136750''>understand</span>
  <span m=''1137170''>the</span> <span m=''1137250''>sparse</span> <span m=''1137610''>versus</span>
  <span m=''1137710''>dense issue,</span> <span m=''1138520''>if</span> <span m=''1138920''>you
  just</span> <span m=''1139040''>do</span> <span m=''1139110''>a</span> <span m=''1139525''>sparse</span>
  <span m=''1139940''>elimination</span> <span m=''1140960''>on</span> <span m=''1141160''>a</span>
  <span m=''1141440''>uniprocessor,</span> <span m=''1141770''>do you</span> <span
  m=''1142100''>get a</span> <span m=''1142220''>bigger</span> <span m=''1142650''>speedup?</span>
  </p><p><span m=''1143070''>JAMES GERACI: Oh, you</span> <span m=''1143130''>get
  a much</span> <span m=''1143380''>bigger</span> <span m=''1143800''>speedup.</span>
  </p><p><span m=''1144085''>AUDIENCE: OK.</span> </p><p><span m=''1144640''>JAMES
  GERACI: The</span> <span m=''1145880''>LU</span> <span m=''1146270''>is</span> <span
  m=''1146410''>about</span> <span m=''1146850''>the</span> <span m=''1147340''>slowest</span>
  <span m=''1147770''>thing</span> <span m=''1147900''>you</span> <span m=''1148010''>could</span>
  <span m=''1148130''>possibly</span> <span m=''1148510''>choose,</span> <span m=''1148840''>but</span>
  <span m=''1148990''>if</span> <span m=''1149120''>it</span> <span m=''1149230''>works.</span>
  </p><p><span m=''1149690''>AUDIENCE: OK, but</span> <span m=''1149900''>what</span>
  <span m=''1149980''>you</span> <span m=''1150250''>have</span> <span m=''1150310''>would</span>
  <span m=''1150450''>still</span> <span m=''1150620''>usable</span> <span m=''1150960''>for</span>
  <span m=''1151275''>dense</span> <span m=''1151590''>matrices?</span> </p><p><span
  m=''1152210''>JAMES GERACI: It''d</span> <span m=''1152450''>still</span> <span
  m=''1152540''>be</span> <span m=''1152690''>useful</span> <span m=''1152950''>for</span>
  <span m=''1153210''>dense</span> <span m=''1153500''>matrices, yeah.</span> </p><p><span
  m=''1153630''>AUDIENCE: And do you</span> <span m=''1154000''>compare it</span>
  <span m=''1154200''>all</span> <span m=''1154610''>to just</span> <span m=''1154770''>PPU</span>
  <span m=''1154930''>performance</span> <span m=''1156390''>on a</span> <span m=''1156670''>dense
  matrix?</span> </p><p><span m=''1157920''>JAMES GERACI: No,</span> <span m=''1158230''>we</span>
  <span m=''1158340''>didn''t</span> <span m=''1158600''>compare it</span> <span m=''1158780''>to
  the</span> <span m=''1158980''>PPU.</span> <span m=''1159555''>We had</span> <span
  m=''1159860''>it</span> <span m=''1160040''>compared--</span> <span m=''1161080''>the</span>
  <span m=''1161360''>same</span> <span m=''1161550''>model I''m</span> <span m=''1161850''>running</span>
  <span m=''1162140''>on</span> <span m=''1162240''>a</span> <span m=''1162950''>PC.</span>
  </p><p><span m=''1163776''>AUDIENCE: Yeah.</span> </p><p><span m=''1165174''>PROFESSOR:
  OK,</span> <span m=''1166110''>thank</span> <span m=''1166440''>you,</span> <span
  m=''1166740''>speakers.</span> </p><p><span m=''1167340''>[APPLAUSE]</span> </p><p></p>'
type: course
uid: 0d754d64fa66d01f9f003df58ec15571

---
None