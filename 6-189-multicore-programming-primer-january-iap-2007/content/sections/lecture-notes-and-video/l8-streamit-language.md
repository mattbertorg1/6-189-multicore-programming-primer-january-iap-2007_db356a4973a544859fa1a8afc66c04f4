---
about_this_resource_text: <p><strong>Topics covered:</strong> StreamIt language (Courtesy
  of Bill Thies. Used with permission.)</p><p><strong>Instructor:</strong> Bill Thies</p><p>Subtitles
  are provided through the generous assistance of Rohan Pai.</p>
course_id: 6-189-multicore-programming-primer-january-iap-2007
embedded_media:
- id: l8.jpg
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/lecture-notes-and-video/l8-streamit-language/l8.jpg
  title: 'L8: StreamIt Language'
  type: null
  uid: ac962d125f7f7d33ab4fa49ea849dae9
- id: Video-YouTube-Stream
  media_location: 5F3HVitoWHc
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: Video-YouTube-Stream
  type: Video
  uid: 0370f37556e909cacb6839665e13fc1a
- id: Thumbnail-YouTube-JPG
  media_location: https://img.youtube.com/vi/5F3HVitoWHc/default.jpg
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: Thumbnail-YouTube-JPG
  type: Thumbnail
  uid: 187af30429fad9d9dd3088d8116bc72e
- id: Video-iTunesU-MP4
  media_location: https://itunes.apple.com/us/itunes-u/id341597759
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: Video-iTunes U-MP4
  type: Video
  uid: bd043bbfb6f5bbe31cfab8180e815283
- id: Video-InternetArchive-MP4
  media_location: http://www.archive.org/download/MIT6.189IAP07/ocw-6.189-iap07-lec08_300k.mp4
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: Video-Internet Archive-MP4
  type: Video
  uid: 6616c2fd527ad3353b64d86eedcc9268
- id: Thumbnail-OCW-JPG
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: Thumbnail-OCW-JPG
  type: Thumbnail
  uid: 6424064f8316388655957f62c1329c19
- id: 3Play-3PlayYouTubeid-MP4
  media_location: 5F3HVitoWHc
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: 3Play-3Play YouTube id
  type: 3Play
  uid: 4a59739042ffbbc9739e5ba471673943
- id: 5F3HVitoWHc.srt
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/lecture-notes-and-video/l8-streamit-language/5F3HVitoWHc.srt
  title: 3play caption file
  type: null
  uid: 2c8bc1e02914ca3a3e093807c3e8a9c4
- id: 5F3HVitoWHc.pdf
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/lecture-notes-and-video/l8-streamit-language/5F3HVitoWHc.pdf
  title: 3play pdf file
  type: null
  uid: 98f306771fa71db06c40b4ddca392402
- id: Caption-3Play YouTube id-SRT
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: Caption-3Play YouTube id-SRT-English - US
  type: Caption
  uid: 92d0d3772a846241607a57103bdf3f9d
- id: Transcript-3Play YouTube id-PDF
  parent_uid: 05895c8b07594f57d7ce450c591b7c08
  title: Transcript-3Play YouTube id-PDF-English - US
  type: Transcript
  uid: 6afbdbd11cbdf470ba4288e860a36b56
inline_embed_id: 40278812l8:streamitlanguage68120805
layout: video
order_index: null
parent_uid: 69885f30bae5c69316fc5492e4404278
related_resources_text: <p>Lecture Notes (<a target="_blank" title="Open in a new
  window." href="./resolveuid/ee7529324452e6df2f6e76dc58b0e6e8">PDF - 1.1 MB</a>)</p>
short_url: l8-streamit-language
technical_location: https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-189-multicore-programming-primer-january-iap-2007/lecture-notes-and-video/l8-streamit-language
template_type: Tabbed
title: 'L8: StreamIt Language'
transcript: '<p><span m=''0''>The</span> <span m=''130''>following</span> <span m=''550''>content</span>
  <span m=''1290''>is provided</span> <span m=''2020''>under a Creative</span> <span
  m=''2430''>Commons</span> <span m=''2770''>license.</span> <span m=''3880''>Your</span>
  <span m=''4120''>support</span> <span m=''4660''>will</span> <span m=''5010''>help</span>
  <span m=''5110''>MIT</span> <span m=''5290''>OpenCourseWare</span> <span m=''6280''>continue</span>
  <span m=''6790''>to</span> <span m=''6870''>offer</span> <span m=''7340''>high</span>
  <span m=''7530''>quality</span> <span m=''8050''>educational</span> <span m=''8650''>resource</span>
  <span m=''9440''>for free.</span> <span m=''10590''>To</span> <span m=''10820''>make</span>
  <span m=''10930''>a</span> <span m=''11050''>donation</span> <span m=''11190''>you</span>
  <span m=''11660''>or</span> <span m=''11850''>view</span> <span m=''12320''>additional</span>
  <span m=''12750''>materials</span> <span m=''13980''>from hundreds</span> <span
  m=''14250''>of</span> <span m=''14430''>MIT</span> <span m=''15730''>courses,</span>
  <span m=''15850''>visit</span> <span m=''15960''>mitopencourseware@ocw.mit.edu.</span>
  </p><p><span m=''21330''>PROFESSOR: So</span> <span m=''21570''>let''s</span> <span
  m=''21790''>get</span> <span m=''21970''>started</span> <span m=''22240''>with</span>
  <span m=''22880''>the</span> <span m=''23130''>second</span> <span m=''23380''>lecture</span>
  <span m=''24060''>for</span> <span m=''24200''>today.</span> <span m=''25640''>So</span>
  <span m=''26330''>I</span> <span m=''26510''>guess</span> <span m=''26850''>one</span>
  <span m=''27170''>thing</span> <span m=''27860''>multicores</span> <span m=''28230''>did,</span>
  <span m=''29280''>is</span> <span m=''29890''>really</span> <span m=''30210''>shatter</span>
  <span m=''30420''>this</span> <span m=''30800''>nice</span> <span m=''30920''>view</span>
  <span m=''31570''>of</span> <span m=''31870''>writing</span> <span m=''32250''>in</span>
  <span m=''32620''>your</span> <span m=''32910''>programs</span> <span m=''33700''>and</span>
  <span m=''33910''>hardwares</span> <span m=''34690''>to</span> <span m=''34920''>take</span>
  <span m=''35720''>care</span> <span m=''36050''>of,</span> <span m=''36380''>giving
  you</span> <span m=''36710''>performance.</span> <span m=''37040''>So</span> <span
  m=''37440''>hardware</span> <span m=''37570''>just</span> <span m=''37790''>kind</span>
  <span m=''37910''>of</span> <span m=''39220''>completely</span> <span m=''39850''>gave</span>
  <span m=''39980''>that</span> <span m=''40710''>up.</span> <span m=''41690''>But</span>
  <span m=''42130''>so</span> <span m=''43750''>what</span> <span m=''43930''>you''re</span>
  <span m=''44120''>doing</span> <span m=''44190''>in</span> <span m=''44370''>this</span>
  <span m=''44580''>class,</span> <span m=''45250''>is</span> <span m=''45590''>you''re</span>
  <span m=''45680''>trying</span> <span m=''46010''>to</span> <span m=''46180''>do</span>
  <span m=''46450''>it by yourself.</span> <span m=''46590''>Give</span> <span m=''47530''>all</span>
  <span m=''48930''>the</span> <span m=''49270''>responsibility</span> <span m=''49690''>back
  to the</span> <span m=''50040''>program.</span> <span m=''51560''>And</span> <span
  m=''52050''>you</span> <span m=''52210''>realize</span> <span m=''52930''>as  you
  go,</span> <span m=''53480''>it''s</span> <span m=''53670''>a</span> <span m=''53900''>much
  harder</span> <span m=''54340''>job.</span> <span m=''54720''>I mean,</span> <span
  m=''55186''>this is</span> <span m=''55653''>not</span> <span m=''56120''>simple</span>
  <span m=''56586''>programming.</span> <span m=''57520''>So you</span> <span m=''57950''>need</span>
  <span m=''58630''>to</span> <span m=''58910''>have,</span> <span m=''59230''>you</span>
  <span m=''59880''>don''t have</span> <span m=''60020''>MIT</span> <span m=''60210''>class</span>
  <span m=''60350''>students</span> <span m=''61510''>on</span> <span m=''61860''>every</span>
  <span m=''62100''>company</span> <span m=''62480''>to</span> <span m=''62990''>do
  this,</span> <span m=''64250''>so</span> <span m=''64590''>we</span> <span m=''64788''>need</span>
  <span m=''64986''>to</span> <span m=''65184''>have</span> <span m=''65382''>some</span>
  <span m=''65580''>kind</span> <span m=''65602''>of</span> <span m=''65625''>middle</span>
  <span m=''65647''>ground.</span> <span m=''65670''>And</span> <span m=''67580''>so</span>
  <span m=''67870''>some of the stuff</span> <span m=''68180''>we</span> <span m=''68490''>have
  been</span> <span m=''68750''>doing</span> <span m=''69390''>is</span> <span m=''69600''>trying</span>
  <span m=''69850''>to</span> <span m=''70240''>figure</span> <span m=''70530''>out</span>
  <span m=''70780''>are there any</span> <span m=''71060''>middle ground.</span> <span
  m=''71650''>Can</span> <span m=''72050''>you</span> <span m=''72380''>actually</span>
  <span m=''72540''>take</span> <span m=''72700''>some</span> <span m=''73470''>of
  that</span> <span m=''73920''>load away</span> <span m=''74430''>from</span> <span
  m=''75290''>the user</span> <span m=''75910''>into</span> <span m=''76160''>things</span>
  <span m=''76410''>like</span> <span m=''77040''>languages</span> <span m=''77640''>and</span>
  <span m=''78150''>compilers.</span> <span m=''78640''>So</span> <span m=''79850''>we</span>
  <span m=''80190''>will talk about</span> <span m=''80950''>some</span> <span m=''81290''>of</span>
  <span m=''81400''>those.</span> <span m=''82340''>So</span> <span m=''82620''>right</span>
  <span m=''82760''>now</span> <span m=''82880''>we</span> <span m=''83180''>are</span>
  <span m=''83260''>kind</span> <span m=''83760''>of</span> <span m=''83820''>switching</span>
  <span m=''84250''>from</span> <span m=''84310''>directly</span> <span m=''84750''>doing</span>
  <span m=''85140''>what''s</span> <span m=''85400''>necessary,</span> <span m=''86610''>to</span>
  <span m=''87990''>do</span> <span m=''88240''>the</span> <span m=''88540''>Cell</span>
  <span m=''89250''>project</span> <span m=''89710''>into</span> <span m=''89780''>going</span>
  <span m=''89920''>breadth</span> <span m=''90060''>So</span> <span m=''90170''>this</span>
  <span m=''90880''>lecture,</span> <span m=''91050''>and</span> <span m=''91250''>then</span>
  <span m=''93280''>we</span> <span m=''93500''>will</span> <span m=''93700''>sit</span>
  <span m=''93930''>back</span> <span m=''94170''>and</span> <span m=''94482''>do</span>
  <span m=''94795''>a</span> <span m=''95107''>little</span> <span m=''95133''>bit</span>
  <span m=''95159''>of</span> <span m=''95185''>debugging</span> <span m=''95211''>and</span>
  <span m=''95237''>performance</span> <span m=''95263''>work</span> <span m=''95289''>and</span>
  <span m=''95315''>that</span> <span m=''95341''>will</span> <span m=''95367''>be</span>
  <span m=''95393''>directly</span> <span m=''95420''>helpful.</span> <span m=''96570''>And</span>
  <span m=''96924''>then</span> <span m=''97278''>next</span> <span m=''97632''>week</span>
  <span m=''97987''>we''ll</span> <span m=''98341''>have</span> <span m=''98695''>lots</span>
  <span m=''99050''>of guest</span> <span m=''99220''>lectures</span> <span m=''99410''>to
  kind of</span> <span m=''99900''>give</span> <span m=''100065''>you</span> <span
  m=''100395''>breadth</span> <span m=''100560''>in there.</span> <span m=''101770''>So</span>
  <span m=''102090''>you''ll</span> <span m=''102480''>understand</span> <span m=''103050''>no
  just</span> <span m=''103320''>Cell programming</span> <span m=''104330''>but</span>
  <span m=''104740''>parallel</span> <span m=''106090''>programming</span> <span m=''107460''>and</span>
  <span m=''107587''>parallel</span> <span m=''107715''>processing,</span> <span m=''107970''>what</span>
  <span m=''109040''>the world</span> <span m=''109190''>is</span> <span m=''109640''>like</span>
  <span m=''109770''>beyond</span> <span m=''109990''>that.</span> <span m=''110320''>So</span>
  <span m=''110690''>today</span> <span m=''112090''>we''re</span> <span m=''112660''>going
  to have</span> <span m=''113430''>Bill</span> <span m=''113850''>talk about streams.</span>
  </p><p><span m=''116300''>BILL THIES: OK</span> <span m=''116640''>very</span> <span
  m=''116840''>good.</span> <span m=''117210''>So</span> <span m=''117540''>my</span>
  <span m=''117680''>name</span> <span m=''117810''>is</span> <span m=''117930''>Bill</span>
  <span m=''118110''>Thies.</span> <span m=''118470''>I''m</span> <span m=''118630''>a</span>
  <span m=''118730''>graduate</span> <span m=''119140''>student</span> <span m=''119440''>working</span>
  <span m=''119650''>with</span> <span m=''119830''>Saman</span> <span m=''120210''>and
  Roderick,</span> <span m=''120580''>and others</span> <span m=''120860''>here.</span>
  <span m=''121450''>And</span> <span m=''121890''>I''ll</span> <span m=''122090''>talk</span>
  <span m=''122260''>about</span> <span m=''122340''>the</span> <span m=''122410''>StreamIt</span>
  <span m=''122750''>language.</span> <span m=''123710''>So</span> <span m=''124070''>why</span>
  <span m=''124290''>do</span> <span m=''124380''>we</span> <span m=''124470''>need</span>
  <span m=''124670''>a</span> <span m=''124720''>new</span> <span m=''124970''>programming</span>
  <span m=''125370''>language?</span> <span m=''126230''>Well</span> <span m=''126420''>we</span>
  <span m=''126520''>think</span> <span m=''126740''>that</span> <span m=''126920''>languages</span>
  <span m=''127430''>haven''t</span> <span m=''127750''>kept</span> <span m=''128020''>up</span>
  <span m=''128230''>with</span> <span m=''128400''>the</span> <span m=''128490''>architectures.</span>
  <span m=''129520''>So</span> <span m=''130140''>one</span> <span m=''130340''>way</span>
  <span m=''130440''>to</span> <span m=''130520''>look</span> <span m=''130710''>at</span>
  <span m=''130800''>this</span> <span m=''131040''>is</span> <span m=''131220''>that</span>
  <span m=''131640''>if</span> <span m=''131780''>you</span> <span m=''132030''>look</span>
  <span m=''132460''>back</span> <span m=''132750''>at</span> <span m=''132860''>previous</span>
  <span m=''133320''>languages,</span> <span m=''134210''>look</span> <span m=''134380''>at</span>
  <span m=''134500''>C</span> <span m=''134840''>with</span> <span m=''135030''>von-Neumann</span>
  <span m=''135650''>machine.</span> <span m=''137110''>Now</span> <span m=''137270''>I</span>
  <span m=''137350''>grew</span> <span m=''137570''>up</span> <span m=''137710''>in</span>
  <span m=''137910''>rural</span> <span m=''138150''>Pennsylvania</span> <span m=''138790''>not</span>
  <span m=''138990''>too</span> <span m=''139100''>far</span> <span m=''139320''>from</span>
  <span m=''139870''>Amish</span> <span m=''140200''>Country.</span> <span m=''140630''>And</span>
  <span m=''140790''>so</span> <span m=''141030''>to</span> <span m=''141350''>me</span>
  <span m=''141730''>these go</span> <span m=''141880''>together</span> <span m=''142250''>just</span>
  <span m=''142440''>like</span> <span m=''142760''>a</span> <span m=''142820''>horse</span>
  <span m=''143060''>and</span> <span m=''143180''>buggy.</span> <span m=''143640''>OK</span>
  <span m=''144060''>they''re</span> <span m=''144200''>perfectly</span> <span m=''144620''>made</span>
  <span m=''144960''>for</span> <span m=''145130''>each</span> <span m=''145290''>other.</span>
  <span m=''146110''>They</span> <span m=''146210''>basically</span> <span m=''146510''>go</span>
  <span m=''146660''>at the</span> <span m=''146770''>same</span> <span m=''147080''>rate.</span>
  <span m=''147360''>Everything</span> <span m=''147740''>is</span> <span m=''147880''>fine.</span>
  <span m=''148720''>But</span> <span m=''148900''>the problem</span> <span m=''149290''>is,</span>
  <span m=''149470''>in</span> <span m=''149740''>comes</span> <span m=''150160''>the</span>
  <span m=''150260''>modern</span> <span m=''150560''>architecture.</span> <span m=''151310''>OK</span>
  <span m=''151490''>this</span> <span m=''151730''>is an F-16.</span> <span m=''152360''>you</span>
  <span m=''152420''>have</span> <span m=''152510''>a</span> <span m=''152570''>lot</span>
  <span m=''152860''>more</span> <span m=''153220''>that</span> <span m=''153370''>you</span>
  <span m=''153450''>can</span> <span m=''153630''>do</span> <span m=''153980''>with</span>
  <span m=''154136''>it</span> <span m=''154293''>then,</span> <span m=''154450''>then
  with</span> <span m=''154610''>the</span> <span m=''154680''>horse</span> <span
  m=''154880''>and</span> <span m=''154990''>buggy.</span> </p><p><span m=''155700''>So</span>
  <span m=''155840''>how</span> <span m=''155960''>do</span> <span m=''156030''>you</span>
  <span m=''156120''>program</span> <span m=''156980''>these</span> <span m=''157160''>new</span>
  <span m=''157280''>architectures?</span> <span m=''158590''>Well</span> <span m=''159150''>architecture</span>
  <span m=''159840''>makers</span> <span m=''160340''>these</span> <span m=''160550''>days</span>
  <span m=''160900''>are</span> <span m=''160970''>basically</span> <span m=''161330''>faced</span>
  <span m=''161710''>with</span> <span m=''161840''>a</span> <span m=''161880''>really</span>
  <span m=''162130''>hard</span> <span m=''162360''>choice.</span> <span m=''163100''>On</span>
  <span m=''163390''>the</span> <span m=''163470''>one</span> <span m=''163650''>hand,</span>
  <span m=''163950''>you</span> <span m=''164020''>could</span> <span m=''164160''>get</span>
  <span m=''164300''>a</span> <span m=''164350''>really</span> <span m=''164670''>cool</span>
  <span m=''164920''>architecture</span> <span m=''165900''>and</span> <span m=''166060''>develop</span>
  <span m=''166530''>an</span> <span m=''166690''>ad</span> <span m=''166970''>hoc</span>
  <span m=''167320''>programming</span> <span m=''167780''>technique</span> <span
  m=''168370''>where</span> <span m=''168580''>you''re</span> <span m=''168700''>really</span>
  <span m=''168950''>just</span> <span m=''169240''>leaving</span> <span m=''169510''>it</span>
  <span m=''169620''>to</span> <span m=''169690''>the</span> <span m=''169780''>programmer</span>
  <span m=''170620''>to</span> <span m=''170710''>do</span> <span m=''170820''>something</span>
  <span m=''171130''>complicated</span> <span m=''171820''>to</span> <span m=''171920''>get</span>
  <span m=''172050''>performance.</span> <span m=''172900''>And</span> <span m=''173230''>unfortunately</span>
  <span m=''173690''>I</span> <span m=''173720''>think</span> <span m=''173890''>that''s</span>
  <span m=''174470''>the</span> <span m=''174570''>route</span> <span m=''174830''>that</span>
  <span m=''174920''>they took.</span> <span m=''175100''>I</span> <span m=''175190''>mean</span>
  <span m=''175370''>fortunately</span> <span m=''175980''>for</span> <span m=''176400''>the</span>
  <span m=''176520''>industry,</span> <span m=''176920''>but</span> <span m=''177050''>unfortunately</span>
  <span m=''177490''>for</span> <span m=''177600''>you,</span> <span m=''178200''>I</span>
  <span m=''178300''>think</span> <span m=''178470''>that''s</span> <span m=''178630''>the</span>
  <span m=''178710''>route</span> <span m=''178890''>they</span> <span m=''178990''>took</span>
  <span m=''179150''>with</span> <span m=''179350''>cell</span> <span m=''180010''>which</span>
  <span m=''180190''>means</span> <span m=''180380''>all</span> <span m=''180580''>of</span>
  <span m=''180660''>you are</span> <span m=''180840''>going to</span> <span m=''180980''>become</span>
  <span m=''181300''>basically</span> <span m=''181700''>fighter</span> <span m=''182020''>pilots.</span>
  <span m=''182800''>You</span> <span m=''182890''>have</span> <span m=''182980''>to</span>
  <span m=''183090''>learn</span> <span m=''183280''>how</span> <span m=''183370''>to</span>
  <span m=''183480''>fly</span> <span m=''183730''>the</span> <span m=''183850''>plane.</span>
  <span m=''184160''>You have to</span> <span m=''184270''>become an</span> <span
  m=''184650''>expert.</span> <span m=''185100''>You''re going to</span> <span m=''185450''>become</span>
  <span m=''186000''>the</span> <span m=''186110''>best</span> <span m=''186380''>people
  at</span> <span m=''186710''>programming</span> <span m=''187140''>these</span>
  <span m=''187250''>architectures.</span> <span m=''188350''>And</span> <span m=''189370''>unfortunately</span>
  <span m=''189680''>the</span> <span m=''189760''>only</span> <span m=''189970''>other</span>
  <span m=''190180''>option</span> <span m=''190960''>is to</span> <span m=''191190''>really</span>
  <span m=''191460''>bend</span> <span m=''191810''>over</span> <span m=''192020''>backwards</span>
  <span m=''192900''>to</span> <span m=''193020''>support</span> <span m=''193350''>the</span>
  <span m=''193430''>previous</span> <span m=''193930''>era</span> <span m=''194150''>of</span>
  <span m=''194370''>languages</span> <span m=''195010''>like</span> <span m=''195200''>C</span>
  <span m=''195470''>and</span> <span m=''195610''>C  .</span> <span m=''196670''>And</span>
  <span m=''197170''>you</span> <span m=''197250''>can</span> <span m=''197380''>see</span>
  <span m=''197520''>what''s</span> <span m=''197670''>coming</span> <span m=''197920''>here,</span>
  <span m=''198670''>it''s</span> <span m=''198860''>just</span> <span m=''199050''>hard</span>
  <span m=''199290''>to</span> <span m=''199370''>get</span> <span m=''199500''>off</span>
  <span m=''199670''>the</span> <span m=''199750''>runway.</span> <span m=''200850''>So</span>
  <span m=''201760''>you</span> <span m=''201910''>don''t</span> <span m=''202060''>want</span>
  <span m=''202220''>this</span> <span m=''202310''>situation.</span> <span m=''205400''>Out</span>
  <span m=''205550''>of</span> <span m=''205610''>consideration</span> <span m=''206310''>for</span>
  <span m=''206420''>whoever is</span> <span m=''206750''>in</span> <span m=''206860''>the</span>
  <span m=''206940''>buggy,</span> <span m=''207640''>hopefully</span> <span m=''207940''>you''ll</span>
  <span m=''208060''>never</span> <span m=''208280''>take</span> <span m=''208510''>off.</span>
  </p><p><span m=''209790''>So</span> <span m=''210870''>looking</span> <span m=''211260''>from
  a</span> <span m=''211360''>more</span> <span m=''211660''>academic</span> <span
  m=''212160''>perspective,</span> <span m=''212820''>why</span> <span m=''213090''>do</span>
  <span m=''213190''>we</span> <span m=''213290''>need</span> <span m=''213490''>a</span>
  <span m=''213540''>new</span> <span m=''213730''>language</span> <span m=''214120''>right</span>
  <span m=''214350''>now?</span> <span m=''215060''>So</span> <span m=''215230''>if</span>
  <span m=''215310''>you</span> <span m=''215410''>look</span> <span m=''215570''>back</span>
  <span m=''215890''>over</span> <span m=''216010''>the</span> <span m=''216110''>past</span>
  <span m=''216490''>30</span> <span m=''216760''>years,</span> <span m=''217420''>I</span>
  <span m=''217620''>know</span> <span m=''217760''>you''ve</span> <span m=''217880''>seen</span>
  <span m=''218150''>this</span> <span m=''218210''>graph</span> <span m=''218470''>before.</span>
  <span m=''219330''>We</span> <span m=''219430''>were</span> <span m=''219500''>dealing
  with</span> <span m=''219770''>just</span> <span m=''220020''>one</span> <span m=''220330''>core</span>
  <span m=''220750''>in</span> <span m=''221010''>the</span> <span m=''221070''>machine</span>
  <span m=''221760''>for</span> <span m=''221980''>all</span> <span m=''222190''>this</span>
  <span m=''222350''>time.</span> <span m=''222950''>And</span> <span m=''223140''>now</span>
  <span m=''223230''>we</span> <span m=''223340''>have</span> <span m=''223490''>this</span>
  <span m=''223580''>plethora</span> <span m=''224110''>of</span> <span m=''224290''>multicores</span>
  <span m=''225110''>coming</span> <span m=''225360''>across</span> <span m=''225650''>the</span>
  <span m=''225750''>board.</span> <span m=''226610''>So</span> <span m=''226840''>how</span>
  <span m=''227010''>did</span> <span m=''227090''>we</span> <span m=''227210''>program</span>
  <span m=''227640''>these</span> <span m=''227800''>old</span> <span m=''227990''>machines?</span>
  <span m=''229120''>Well</span> <span m=''229300''>we</span> <span m=''229530''>had</span>
  <span m=''229750''>languages</span> <span m=''230250''>like</span> <span m=''230440''>C</span>
  <span m=''230940''>and</span> <span m=''231210''>FORTRAN</span> <span m=''231930''>that</span>
  <span m=''232130''>really</span> <span m=''232470''>have</span> <span m=''232620''>a</span>
  <span m=''232670''>lot</span> <span m=''232940''>of</span> <span m=''233020''>nice</span>
  <span m=''233270''>properties</span> <span m=''233780''>across</span> <span m=''234120''>these</span>
  <span m=''234350''>architectures.</span> <span m=''235230''>So</span> <span m=''235380''>it</span>
  <span m=''235440''>was</span> <span m=''235580''>portable,</span> <span m=''236400''>high-performance,</span>
  <span m=''237710''>composable--</span> <span m=''238540''>you</span> <span m=''238660''>could</span>
  <span m=''238760''>have</span> <span m=''239080''>really</span> <span m=''239360''>good</span>
  <span m=''239520''>software</span> <span m=''239910''>development--</span> <span
  m=''240870''>malleable,</span> <span m=''241420''>maintainable,</span> <span m=''242060''>all</span>
  <span m=''242240''>the</span> <span m=''242330''>nice</span> <span m=''242550''>things</span>
  <span m=''242820''>you''d</span> <span m=''242930''>like</span> <span m=''243080''>to</span>
  <span m=''243180''>see</span> <span m=''243410''>from</span> <span m=''243550''>a</span>
  <span m=''243630''>software</span> <span m=''243950''>engineering</span> <span m=''244360''>perspective.</span>
  <span m=''245250''>And</span> <span m=''245530''>really</span> <span m=''245740''>if
  you</span> <span m=''245890''>wrote</span> <span m=''246180''>a</span> <span m=''246240''>program</span>
  <span m=''246810''>back</span> <span m=''247040''>in</span> <span m=''247130''>1970,</span>
  <span m=''248300''>you</span> <span m=''248450''>could</span> <span m=''248600''>keep</span>
  <span m=''248920''>it</span> <span m=''249120''>in</span> <span m=''249360''>C</span>
  <span m=''250070''>and</span> <span m=''250270''>have</span> <span m=''250430''>it</span>
  <span m=''250710''>continue</span> <span m=''251190''>to</span> <span m=''251320''>leverage</span>
  <span m=''251850''>all</span> <span m=''252080''>the</span> <span m=''252170''>new</span>
  <span m=''252270''>properties</span> <span m=''252800''>of</span> <span m=''252920''>machines</span>
  <span m=''253600''>over</span> <span m=''253750''>the</span> <span m=''253850''>past</span>
  <span m=''254130''>30</span> <span m=''254370''>years.</span> <span m=''254620''>So</span>
  <span m=''254690''>just</span> <span m=''254890''>one</span> <span m=''255110''>fine</span>
  <span m=''255550''>out</span> <span m=''255740''>of</span> <span m=''255840''>the</span>
  <span m=''255910''>box.</span> <span m=''256760''>And</span> <span m=''257130''>looking</span>
  <span m=''257360''>forward,</span> <span m=''258400''>that''s</span> <span m=''258570''>not</span>
  <span m=''258720''>going</span> <span m=''258840''>to</span> <span m=''258920''>be</span>
  <span m=''259000''>true.</span> <span m=''259620''>So</span> <span m=''259880''>for</span>
  <span m=''259970''>example,</span> <span m=''260480''>we</span> <span m=''260680''>could</span>
  <span m=''260790''>say</span> <span m=''260930''>that</span> <span m=''261100''>C</span>
  <span m=''261270''>was</span> <span m=''261450''>the</span> <span m=''261660''>common</span>
  <span m=''262090''>machine</span> <span m=''262460''>language.</span> <span m=''263060''>That''s</span>
  <span m=''263220''>what</span> <span m=''263310''>we</span> <span m=''263420''>say</span>
  <span m=''263970''>for</span> <span m=''264090''>the</span> <span m=''264180''>past</span>
  <span m=''264480''>30</span> <span m=''264740''>years,</span> <span m=''265180''>was</span>
  <span m=''265350''>common</span> <span m=''265760''>across</span> <span m=''266130''>all</span>
  <span m=''266330''>the</span> <span m=''266420''>machines.</span> <span m=''267520''>But</span>
  <span m=''267660''>now</span> <span m=''267790''>looking</span> <span m=''268070''>forward,</span>
  <span m=''268770''>that''s</span> <span m=''268990''>not</span> <span m=''269120''>going</span>
  <span m=''269240''>to</span> <span m=''269310''>be</span> <span m=''269380''>true</span>
  <span m=''269640''>anymore.</span> <span m=''270210''>Because</span> <span m=''270360''>you</span>
  <span m=''270430''>have</span> <span m=''270520''>to</span> <span m=''270710''>program</span>
  <span m=''271070''>every</span> <span m=''271290''>core</span> <span m=''271610''>separately.</span>
  </p><p><span m=''272800''>So</span> <span m=''273020''>what''s</span> <span m=''273220''>the</span>
  <span m=''273320''>common</span> <span m=''273630''>machine</span> <span m=''273950''>language</span>
  <span m=''274250''>for</span> <span m=''274370''>multicores?</span> <span m=''275270''>We</span>
  <span m=''275490''>really</span> <span m=''275720''>think</span> <span m=''275900''>you</span>
  <span m=''276000''>need</span> <span m=''276240''>something</span> <span m=''276630''>where</span>
  <span m=''276760''>you</span> <span m=''276850''>can</span> <span m=''277020''>write</span>
  <span m=''277240''>a</span> <span m=''277290''>program</span> <span m=''277700''>once</span>
  <span m=''278540''>today,</span> <span m=''279320''>and</span> <span m=''279470''>have</span>
  <span m=''279600''>it</span> <span m=''279720''>scale</span> <span m=''280130''>for</span>
  <span m=''280250''>the</span> <span m=''280340''>next</span> <span m=''280640''>30</span>
  <span m=''280890''>years</span> <span m=''281370''>without</span> <span m=''281720''>having</span>
  <span m=''282030''>to</span> <span m=''282120''>modify</span> <span m=''282510''>the</span>
  <span m=''282620''>program.</span> <span m=''283560''>So</span> <span m=''283810''>what</span>
  <span m=''283960''>kind</span> <span m=''284080''>of</span> <span m=''284140''>language</span>
  <span m=''284560''>do</span> <span m=''284660''>you</span> <span m=''284750''>need</span>
  <span m=''285030''>to</span> <span m=''285110''>get</span> <span m=''285270''>that</span>
  <span m=''285420''>kind</span> <span m=''285660''>of</span> <span m=''285930''>performance?</span>
  <span m=''287620''>Well</span> <span m=''287820''>let''s</span> <span m=''287930''>look</span>
  <span m=''288140''>a</span> <span m=''288190''>little</span> <span m=''288400''>deeper</span>
  <span m=''288700''>into</span> <span m=''288910''>this</span> <span m=''289060''>notion</span>
  <span m=''289380''>of</span> <span m=''289450''>a</span> <span m=''289520''>common</span>
  <span m=''289830''>machine</span> <span m=''290150''>language.</span> <span m=''291020''>So</span>
  <span m=''291230''>why</span> <span m=''291370''>did</span> <span m=''291520''>it</span>
  <span m=''291620''>work</span> <span m=''291880''>so</span> <span m=''292060''>well</span>
  <span m=''292290''>for</span> <span m=''292380''>the</span> <span m=''292480''>past</span>
  <span m=''292750''>30</span> <span m=''292980''>years?</span> <span m=''293820''>Well</span>
  <span m=''294080''>on</span> <span m=''294300''>uniprocessors,</span> <span m=''295680''>things</span>
  <span m=''295910''>like</span> <span m=''296060''>C</span> <span m=''296260''>and</span>
  <span m=''296430''>FORTRAN</span> <span m=''296700''>fran</span> <span m=''297290''>really</span>
  <span m=''297670''>encapsulated</span> <span m=''298280''>the</span> <span m=''298470''>common</span>
  <span m=''298850''>properties.</span> <span m=''299800''>So</span> <span m=''299990''>things</span>
  <span m=''300210''>like</span> <span m=''300320''>a</span> <span m=''300410''>single</span>
  <span m=''300830''>flow of</span> <span m=''301160''>control</span> <span m=''301820''>in</span>
  <span m=''301940''>the</span> <span m=''302000''>machine,</span> <span m=''302670''>a</span>
  <span m=''302820''>single</span> <span m=''303170''>memory</span> <span m=''303540''>image,</span>
  <span m=''304100''>are</span> <span m=''304390''>both</span> <span m=''304660''>properties</span>
  <span m=''305080''>of</span> <span m=''305170''>the</span> <span m=''305250''>language.</span>
  <span m=''306260''>But</span> <span m=''306370''>they</span> <span m=''306460''>also</span>
  <span m=''306740''>hid</span> <span m=''307140''>certain</span> <span m=''307560''>properties</span>
  <span m=''308060''>from</span> <span m=''308190''>the</span> <span m=''308260''>programmer.</span>
  <span m=''309070''>So</span> <span m=''309230''>they</span> <span m=''309330''>hid</span>
  <span m=''309590''>the</span> <span m=''309690''>things</span> <span m=''310000''>that</span>
  <span m=''310100''>were</span> <span m=''310220''>different</span> <span m=''311000''>between</span>
  <span m=''311380''>one</span> <span m=''311550''>machine</span> <span m=''311940''>and</span>
  <span m=''312070''>another.</span> <span m=''312620''>So</span> <span m=''312820''>for</span>
  <span m=''312920''>example,</span> <span m=''313230''>the</span> <span m=''313310''>register</span>
  <span m=''313750''>file,</span> <span m=''314480''>the</span> <span m=''314600''>ISA,</span>
  <span m=''315770''>the</span> <span m=''315930''>functional</span> <span m=''316320''>units</span>
  <span m=''316650''>and so</span> <span m=''316860''>on.</span> <span m=''317540''>These</span>
  <span m=''317710''>things</span> <span m=''317920''>could</span> <span m=''318080''>change</span>
  <span m=''318540''>from</span> <span m=''318690''>one</span> <span m=''318840''>architecture</span>
  <span m=''319340''>to</span> <span m=''319480''>another.</span> <span m=''320200''>And</span>
  <span m=''320460''>you</span> <span m=''320530''>didn''t</span> <span m=''320710''>have</span>
  <span m=''320820''>to</span> <span m=''320910''>change</span> <span m=''321140''>your</span>
  <span m=''321240''>program</span> <span m=''321760''>because</span> <span m=''322050''>those</span>
  <span m=''322330''>aspects</span> <span m=''322760''>weren''t</span> <span m=''323110''>in</span>
  <span m=''323300''>the</span> <span m=''323380''>programming</span> <span m=''323820''>language.</span>
  <span m=''324820''>So</span> <span m=''324990''>that''s</span> <span m=''325180''>why</span>
  <span m=''325280''>these</span> <span m=''325450''>languages</span> <span m=''325890''>were</span>
  <span m=''326020''>succeeding.</span> </p><p><span m=''327140''>And</span> <span
  m=''327480''>what</span> <span m=''327600''>do</span> <span m=''327670''>we</span>
  <span m=''327780''>need</span> <span m=''328010''>to</span> <span m=''328170''>succeed</span>
  <span m=''328700''>in</span> <span m=''328790''>the</span> <span m=''328860''>multicore</span>
  <span m=''329380''>era</span> <span m=''329850''>from</span> <span m=''330010''>a</span>
  <span m=''330070''>language</span> <span m=''330380''>perspective?</span> <span
  m=''331580''>Well</span> <span m=''331750''>you</span> <span m=''331840''>need</span>
  <span m=''332050''>to</span> <span m=''332230''>encapsulate</span> <span m=''332900''>the</span>
  <span m=''333030''>common</span> <span m=''333300''>properties</span> <span m=''333780''>again.</span>
  <span m=''334370''>And</span> <span m=''334620''>this</span> <span m=''334750''>time</span>
  <span m=''335080''>it''s</span> <span m=''335230''>multiple</span> <span m=''335760''>flows</span>
  <span m=''336040''>of</span> <span m=''336140''>control</span> <span m=''336830''>that</span>
  <span m=''336950''>you</span> <span m=''337070''>have</span> <span m=''337830''>for</span>
  <span m=''337940''>all</span> <span m=''338120''>the</span> <span m=''338210''>different</span>
  <span m=''338480''>cores,</span> <span m=''339070''>and</span> <span m=''339290''>multiple</span>
  <span m=''339780''>local</span> <span m=''340070''>memories.</span> <span m=''340860''>There''s</span>
  <span m=''341020''>no</span> <span m=''341160''>more</span> <span m=''341390''>monolithic</span>
  <span m=''342060''>memory</span> <span m=''342390''>anymore,</span> <span m=''343120''>that</span>
  <span m=''343270''>everyone</span> <span m=''343710''>can</span> <span m=''343880''>read</span>
  <span m=''344090''>and</span> <span m=''344190''>write</span> <span m=''344420''>to.</span>
  <span m=''346370''>Also</span> <span m=''347160''>you</span> <span m=''347280''>need</span>
  <span m=''347440''>to</span> <span m=''347810''>hide</span> <span m=''348140''>some</span>
  <span m=''348340''>of</span> <span m=''348430''>the</span> <span m=''348530''>differences</span>
  <span m=''349020''>between</span> <span m=''349330''>the</span> <span m=''349400''>machines.</span>
  <span m=''350190''>So</span> <span m=''350440''>some</span> <span m=''350650''>cores</span>
  <span m=''350930''>have</span> <span m=''351050''>different</span> <span m=''351300''>capabilities.</span>
  <span m=''351990''>On</span> <span m=''352170''>cell</span> <span m=''352470''>there''s</span>
  <span m=''352660''>a</span> <span m=''352780''>heterogeneous</span> <span m=''353860''>system</span>
  <span m=''354290''>between</span> <span m=''354570''>the</span> <span m=''354850''>STEs</span>
  <span m=''355150''>and</span> <span m=''355230''>the</span> <span m=''355320''>PPE.</span>
  <span m=''356560''>Different</span> <span m=''356880''>communication</span> <span
  m=''357490''>models</span> <span m=''357910''>on</span> <span m=''358020''>different</span>
  <span m=''358270''>architectures,</span> <span m=''359090''>different</span> <span
  m=''359350''>synchronization</span> <span m=''359950''>models.</span> <span m=''361010''>So</span>
  <span m=''361190''>whatever</span> <span m=''361470''>common</span> <span m=''361760''>machine</span>
  <span m=''362050''>language</span> <span m=''362330''>we</span> <span m=''362420''>come</span>
  <span m=''362610''>up</span> <span m=''362770''>with,</span> <span m=''362970''>we''ll</span>
  <span m=''363060''>have</span> <span m=''363190''>to</span> <span m=''363280''>keep</span>
  <span m=''363510''>these</span> <span m=''363730''>things</span> <span m=''364060''>hidden</span>
  <span m=''364380''>from</span> <span m=''364530''>the</span> <span m=''364600''>programmer.</span>
  </p><p><span m=''366130''>Now</span> <span m=''366350''>a</span> <span m=''366410''>lot</span>
  <span m=''366650''>of</span> <span m=''366730''>different</span> <span m=''367000''>researchers</span>
  <span m=''367530''>are</span> <span m=''367600''>taking</span> <span m=''367960''>different</span>
  <span m=''368240''>tacts</span> <span m=''368640''>for</span> <span m=''368810''>how</span>
  <span m=''369040''>you</span> <span m=''369200''>want</span> <span m=''369380''>to</span>
  <span m=''369550''>invent</span> <span m=''369880''>the</span> <span m=''369950''>next</span>
  <span m=''370180''>common</span> <span m=''370390''>machine</span> <span m=''370690''>language.</span>
  <span m=''371380''>And</span> <span m=''371810''>the</span> <span m=''371930''>thrust</span>
  <span m=''372300''>that</span> <span m=''372420''>we''re</span> <span m=''372590''>really</span>
  <span m=''372850''>excited</span> <span m=''373280''>about</span> <span m=''373610''>is</span>
  <span m=''373790''>this</span> <span m=''373920''>notion</span> <span m=''374210''>of</span>
  <span m=''374290''>streaming.</span> <span m=''375510''>So</span> <span m=''375800''>what</span>
  <span m=''376030''>is a</span> <span m=''376180''>stream</span> <span m=''376540''>program?</span>
  <span m=''377460''>Well</span> <span m=''377590''>if</span> <span m=''377650''>you</span>
  <span m=''377730''>look</span> <span m=''377890''>at</span> <span m=''378020''>a</span>
  <span m=''378110''>lot</span> <span m=''378300''>of</span> <span m=''378370''>the</span>
  <span m=''378450''>high-performance</span> <span m=''379690''>systems</span> <span
  m=''380130''>today--</span> <span m=''380760''>including</span> <span m=''381390''>Powerpoint</span>
  <span m=''381940''>which</span> <span m=''382050''>is</span> <span m=''382160''>running</span>
  <span m=''382370''>this</span> <span m=''382470''>awesome</span> <span m=''382780''>animation--</span>
  <span m=''384730''>you</span> <span m=''384870''>can</span> <span m=''384970''>basically</span>
  <span m=''385320''>see</span> <span m=''385520''>that</span> <span m=''385880''>they''re</span>
  <span m=''386070''>based</span> <span m=''386390''>around</span> <span m=''386680''>some</span>
  <span m=''386880''>stream</span> <span m=''387130''>of</span> <span m=''387220''>data.</span>
  <span m=''387930''>So</span> <span m=''388700''>audio,</span> <span m=''389220''>video,</span>
  <span m=''389830''>like</span> <span m=''390000''>HDTV,</span> <span m=''391750''>video</span>
  <span m=''392090''>editing,</span> <span m=''392620''>graphic</span> <span m=''393030''>stuff.</span>
  <span m=''393290''>I</span> <span m=''393350''>think</span> <span m=''393550''>actually,</span>
  <span m=''393820''>a</span> <span m=''393870''>lot</span> <span m=''394040''>of</span>
  <span m=''394110''>the</span> <span m=''394310''>projects</span> <span m=''394690''>in</span>
  <span m=''394780''>this</span> <span m=''394910''>class</span> <span m=''395360''>that</span>
  <span m=''395500''>I</span> <span m=''395570''>looked</span> <span m=''395750''>at,</span>
  <span m=''396220''>would</span> <span m=''396580''>fit into</span> <span m=''397090''>the</span>
  <span m=''397220''>streaming</span> <span m=''397610''>mold.</span> <span m=''398160''>Things</span>
  <span m=''398390''>like</span> <span m=''398580''>the</span> <span m=''398730''>software</span>
  <span m=''399020''>radio,</span> <span m=''399820''>array</span> <span m=''400100''>tracing,</span>
  <span m=''401720''>I</span> <span m=''401790''>probably don''t</span> <span m=''401950''>remember</span>
  <span m=''402220''>them</span> <span m=''402360''>all.</span> <span m=''402750''>But</span>
  <span m=''403000''>when</span> <span m=''403120''>I</span> <span m=''403190''>looked</span>
  <span m=''403340''>at</span> <span m=''403420''>them,</span> <span m=''403590''>they</span>
  <span m=''403680''>all</span> <span m=''403870''>looked</span> <span m=''404030''>like</span>
  <span m=''404200''>they</span> <span m=''404280''>had</span> <span m=''404460''>a</span>
  <span m=''404510''>streaming</span> <span m=''404860''>component</span> <span m=''405380''>somewhere</span>
  <span m=''405670''>in</span> <span m=''405790''>there.</span> </p><p><span m=''406670''>So</span>
  <span m=''407320''>what''s</span> <span m=''407550''>special</span> <span m=''407920''>about</span>
  <span m=''408150''>a</span> <span m=''408220''>stream</span> <span m=''408500''>program</span>
  <span m=''409120''>compared</span> <span m=''409470''>to</span> <span m=''409560''>just</span>
  <span m=''409810''>a</span> <span m=''410090''>normal</span> <span m=''410410''>program?</span>
  <span m=''411440''>Well</span> <span m=''411680''>they</span> <span m=''411770''>have</span>
  <span m=''411930''>a</span> <span m=''411980''>lot</span> <span m=''412190''>of</span>
  <span m=''412280''>attractive</span> <span m=''412720''>properties.</span> <span
  m=''413830''>If</span> <span m=''413910''>you</span> <span m=''414010''>look</span>
  <span m=''414150''>at</span> <span m=''414240''>their</span> <span m=''414370''>structure,</span>
  <span m=''415360''>you</span> <span m=''415560''>can</span> <span m=''415720''>usually</span>
  <span m=''416080''>see</span> <span m=''416380''>that</span> <span m=''416860''>the</span>
  <span m=''417060''>computation</span> <span m=''417810''>pattern</span> <span m=''418460''>remains</span>
  <span m=''418820''>relatively</span> <span m=''419410''>constant</span> <span m=''420220''>across</span>
  <span m=''420640''>the</span> <span m=''420720''>lifetime</span> <span m=''421130''>of</span>
  <span m=''421230''>the</span> <span m=''421300''>program.</span> <span m=''421850''>So</span>
  <span m=''422240''>they</span> <span m=''422390''>have</span> <span m=''422560''>some</span>
  <span m=''422720''>well-defined</span> <span m=''423360''>units</span> <span m=''423710''>that</span>
  <span m=''423830''>are</span> <span m=''423890''>communicating</span> <span m=''424600''>with</span>
  <span m=''424710''>each</span> <span m=''424910''>other.</span> <span m=''425810''>And</span>
  <span m=''425990''>they</span> <span m=''426060''>continue</span> <span m=''426560''>that</span>
  <span m=''426740''>pattern</span> <span m=''427070''>of</span> <span m=''427150''>communication</span>
  <span m=''427850''>throughout.</span> <span m=''428790''>And</span> <span m=''428990''>this</span>
  <span m=''429080''>really</span> <span m=''429320''>exposes</span> <span m=''429920''>a</span>
  <span m=''429990''>lot</span> <span m=''430170''>of</span> <span m=''430240''>opportunities</span>
  <span m=''430970''>for</span> <span m=''431050''>the</span> <span m=''431130''>compiler</span>
  <span m=''431610''>to do</span> <span m=''431950''>some</span> <span m=''432340''>optimizations</span>
  <span m=''433080''>that</span> <span m=''433210''>it</span> <span m=''433310''>couldn''t</span>
  <span m=''433670''>do</span> <span m=''433890''>on</span> <span m=''434080''>just</span>
  <span m=''434230''>an</span> <span m=''434340''>arbitrary</span> <span m=''434920''>general</span>
  <span m=''435210''>purpose</span> <span m=''435530''>program.</span> <span m=''436640''>And</span>
  <span m=''437020''>if</span> <span m=''437110''>you</span> <span m=''437220''>saw</span>
  <span m=''437390''>before,</span> <span m=''437710''>we</span> <span m=''437810''>have</span>
  <span m=''437980''>basically</span> <span m=''438350''>all</span> <span m=''438550''>the</span>
  <span m=''438660''>types</span> <span m=''438930''>of</span> <span m=''439020''>parallelism</span>
  <span m=''439690''>are</span> <span m=''439990''>really</span> <span m=''440250''>exposed</span>
  <span m=''440770''>in</span> <span m=''440840''>a stream</span> <span m=''441220''>program.</span>
  <span m=''442380''>There''s</span> <span m=''442550''>the</span> <span m=''442650''>pipeline</span>
  <span m=''443150''>parallelism</span> <span m=''443710''>between</span> <span m=''444630''>different</span>
  <span m=''445000''>producers</span> <span m=''445560''>and</span> <span m=''445700''>consumers.</span>
  <span m=''446650''>There''s</span> <span m=''446820''>the</span> <span m=''446900''>task</span>
  <span m=''447290''>parallelism</span> <span m=''448400''>basically</span> <span
  m=''449140''>going</span> <span m=''449340''>from</span> <span m=''449480''>left</span>
  <span m=''449690''>to</span> <span m=''449810''>right.</span> <span m=''450420''>And</span>
  <span m=''450660''>also</span> <span m=''450860''>data</span> <span m=''451190''>parallelism</span>
  <span m=''452120''>which</span> <span m=''452310''>means</span> <span m=''452530''>that</span>
  <span m=''452630''>a</span> <span m=''452700''>single</span> <span m=''453070''>one</span>
  <span m=''453220''>of</span> <span m=''453300''>these</span> <span m=''453520''>stages</span>
  <span m=''454340''>can</span> <span m=''454480''>sometimes</span> <span m=''454880''>be</span>
  <span m=''455020''>split</span> <span m=''455840''>to</span> <span m=''455970''>apply</span>
  <span m=''456290''>to</span> <span m=''456440''>multiple</span> <span m=''456900''>elements</span>
  <span m=''457320''>in</span> <span m=''457410''>the</span> <span m=''457480''>data</span>
  <span m=''457720''>stream.</span> </p><p><span m=''459960''>So</span> <span m=''460390''>when</span>
  <span m=''460530''>you''re</span> <span m=''460620''>thinking</span> <span m=''460850''>about</span>
  <span m=''461030''>stream</span> <span m=''461290''>programming,</span> <span m=''461930''>there''s</span>
  <span m=''462270''>a</span> <span m=''462380''>lot</span> <span m=''462640''>of</span>
  <span m=''462750''>different</span> <span m=''463080''>ways</span> <span m=''463380''>you</span>
  <span m=''463470''>can</span> <span m=''463580''>actually</span> <span m=''463840''>represent</span>
  <span m=''464460''>the program.</span> <span m=''465500''>So</span> <span m=''465870''>whenever</span>
  <span m=''466150''>you</span> <span m=''466230''>have</span> <span m=''466320''>a</span>
  <span m=''466410''>programming</span> <span m=''466930''>model,</span> <span m=''467220''>you</span>
  <span m=''467330''>have</span> <span m=''467480''>to</span> <span m=''467640''>answer</span>
  <span m=''467930''>these</span> <span m=''468140''>kinds</span> <span m=''468380''>of</span>
  <span m=''468480''>questions.</span> <span m=''469530''>For</span> <span m=''469640''>example</span>
  <span m=''470020''>do the</span> <span m=''470120''>senders</span> <span m=''470670''>and</span>
  <span m=''470780''>the</span> <span m=''470840''>receivers</span> <span m=''471300''>block</span>
  <span m=''471880''>when</span> <span m=''472050''>they</span> <span m=''472150''>try</span>
  <span m=''472340''>to</span> <span m=''472430''>communicate?</span> <span m=''473700''>How</span>
  <span m=''473890''>much</span> <span m=''474040''>buffering</span> <span m=''474520''>is</span>
  <span m=''474640''>allowed?</span> <span m=''475470''>Is</span> <span m=''475710''>the</span>
  <span m=''475840''>computation</span> <span m=''476360''>deterministic?</span> <span
  m=''477300''>What</span> <span m=''477470''>kind</span> <span m=''477700''>of</span>
  <span m=''477860''>model</span> <span m=''478160''>do</span> <span m=''478240''>you</span>
  <span m=''478320''>have</span> <span m=''478600''>in</span> <span m=''478730''>there?</span>
  <span m=''479440''>Can</span> <span m=''479600''>you</span> <span m=''479670''>avoid</span>
  <span m=''480000''>deadlock?</span> <span m=''480580''>Questions</span> <span m=''480990''>like</span>
  <span m=''481180''>these,</span> <span m=''481790''>and</span> <span m=''482100''>we</span>
  <span m=''482180''>could</span> <span m=''482350''>spend</span> <span m=''482570''>a</span>
  <span m=''482600''>whole</span> <span m=''482890''>lecture</span> <span m=''483880''>answering</span>
  <span m=''484340''>these</span> <span m=''484510''>questions,</span> <span m=''484990''>putting</span>
  <span m=''485200''>them</span> <span m=''485320''>in</span> <span m=''485430''>different</span>
  <span m=''485790''>categories.</span> <span m=''486980''>But</span> <span m=''487090''>what</span>
  <span m=''487190''>I</span> <span m=''487240''>want</span> <span m=''487510''>to</span>
  <span m=''487660''>just</span> <span m=''487800''>to do,</span> <span m=''487900''>just
  to give</span> <span m=''487990''>you</span> <span m=''488100''>a</span> <span m=''488160''>feel</span>
  <span m=''488920''>is</span> <span m=''489170''>touch</span> <span m=''489430''>on</span>
  <span m=''489550''>kind</span> <span m=''489730''>of</span> <span m=''490200''>three</span>
  <span m=''490520''>of</span> <span m=''490620''>the</span> <span m=''490720''>major</span>
  <span m=''491100''>models</span> <span m=''491590''>that</span> <span m=''491710''>you</span>
  <span m=''491790''>might</span> <span m=''492010''>see</span> <span m=''492350''>come</span>
  <span m=''492550''>up</span> <span m=''492690''>in</span> <span m=''492810''>different</span>
  <span m=''493050''>kinds</span> <span m=''493260''>of</span> <span m=''493330''>programming</span>
  <span m=''493740''>models.</span> <span m=''494410''>And</span> <span m=''494640''>I''ll</span>
  <span m=''494720''>just</span> <span m=''494940''>touch</span> <span m=''495150''>Kahn</span>
  <span m=''495630''>process</span> <span m=''496020''>networks,</span> <span m=''496920''>synchronous</span>
  <span m=''497550''>dataflow,</span> <span m=''498250''>and</span> <span m=''498620''>communicating</span>
  <span m=''499780''>sequential</span> <span m=''500290''>processes,</span> <span
  m=''500940''>or</span> <span m=''501120''>CSP.</span> </p><p><span m=''502800''>So</span>
  <span m=''503020''>just</span> <span m=''503180''>one</span> <span m=''503350''>slide</span>
  <span m=''503640''>on</span> <span m=''503750''>these</span> <span m=''503890''>models.</span>
  <span m=''504930''>So</span> <span m=''505340''>let''s</span> <span m=''505530''>compare</span>
  <span m=''505840''>them</span> <span m=''505990''>a</span> <span m=''506040''>little</span>
  <span m=''506270''>bit.</span> <span m=''507300''>First</span> <span m=''507600''>there''s</span>
  <span m=''507720''>the</span> <span m=''507800''>Kahn</span> <span m=''508180''>process</span>
  <span m=''508580''>networks.</span> <span m=''509650''>So</span> <span m=''510090''>this</span>
  <span m=''510360''>is</span> <span m=''510490''>kind</span> <span m=''510650''>of</span>
  <span m=''510720''>the</span> <span m=''510810''>simplest</span> <span m=''511270''>model.</span>
  <span m=''511910''>It''s</span> <span m=''512170''>very</span> <span m=''512370''>intuitive.</span>
  <span m=''512940''>You</span> <span m=''513060''>just</span> <span m=''513250''>have</span>
  <span m=''513430''>different</span> <span m=''513760''>processes</span> <span m=''514390''>that</span>
  <span m=''514510''>are</span> <span m=''514610''>communicating</span> <span m=''515290''>over</span>
  <span m=''515450''>FIFOs.</span> <span m=''516460''>And</span> <span m=''517530''>the</span>
  <span m=''517700''>FIFO</span> <span m=''518070''>size</span> <span m=''518510''>is</span>
  <span m=''518870''>conceptually</span> <span m=''519590''>unbounded.</span> <span
  m=''520700''>So</span> <span m=''521550''>to</span> <span m=''521800''>a</span>
  <span m=''521950''>first</span> <span m=''522270''>approximation,</span> <span m=''522960''>it''s</span>
  <span m=''523110''>kind</span> <span m=''523270''>of</span> <span m=''523340''>like</span>
  <span m=''523500''>a</span> <span m=''523560''>Unix</span> <span m=''523970''>pipe.</span>
  <span m=''524840''>These</span> <span m=''524940''>processes</span> <span m=''525550''>can</span>
  <span m=''525710''>just</span> <span m=''525910''>read</span> <span m=''526170''>from</span>
  <span m=''526300''>the</span> <span m=''526420''>input,</span> <span m=''527160''>and</span>
  <span m=''527340''>they</span> <span m=''527460''>can</span> <span m=''527630''>push</span>
  <span m=''528060''>onto</span> <span m=''528340''>their</span> <span m=''528490''>outputs</span>
  <span m=''529000''>without</span> <span m=''529320''>blocking.</span> <span m=''530310''>But</span>
  <span m=''530500''>if</span> <span m=''530560''>they</span> <span m=''530690''>try</span>
  <span m=''530890''>to</span> <span m=''530990''>read</span> <span m=''531320''>from
  an</span> <span m=''531580''>input</span> <span m=''531870''>they</span> <span m=''531980''>do</span>
  <span m=''532180''>block</span> <span m=''532870''>until</span> <span m=''533170''>an</span>
  <span m=''533300''>input</span> <span m=''533600''>is</span> <span m=''533710''>available.</span>
  <span m=''534850''>And</span> <span m=''535340''>the</span> <span m=''535430''>interesting</span>
  <span m=''535870''>thing</span> <span m=''536150''>is</span> <span m=''536280''>that</span>
  <span m=''536460''>the</span> <span m=''536560''>communication</span> <span m=''537350''>pattern</span>
  <span m=''538090''>can</span> <span m=''538240''>actually</span> <span m=''538580''>be</span>
  <span m=''538750''>dependent</span> <span m=''539340''>on</span> <span m=''539490''>the</span>
  <span m=''539580''>data.</span> <span m=''540520''>So</span> <span m=''540710''>for</span>
  <span m=''540830''>example</span> <span m=''541190''>I</span> <span m=''541260''>could</span>
  <span m=''541460''>pop</span> <span m=''541780''>an</span> <span m=''542250''>index</span>
  <span m=''542730''>off</span> <span m=''542950''>of</span> <span m=''543060''>one</span>
  <span m=''543280''>channel,</span> <span m=''544210''>and</span> <span m=''544410''>then</span>
  <span m=''544780''>use</span> <span m=''545050''>that</span> <span m=''545240''>index</span>
  <span m=''545640''>to</span> <span m=''545740''>determine</span> <span m=''546200''>which</span>
  <span m=''546470''>other</span> <span m=''546750''>channel</span> <span m=''547300''>I''ll</span>
  <span m=''547500''>read</span> <span m=''547780''>from</span> <span m=''548220''>on</span>
  <span m=''548400''>the</span> <span m=''548460''>next</span> <span m=''548710''>time</span>
  <span m=''548930''>time step.</span> <span m=''549830''>But</span> <span m=''550300''>at</span>
  <span m=''550430''>the</span> <span m=''550500''>same</span> <span m=''550780''>time</span>
  <span m=''551020''>it</span> <span m=''551170''>is</span> <span m=''551400''>deterministic.</span>
  <span m=''552560''>So</span> <span m=''552900''>for</span> <span m=''553110''>a</span>
  <span m=''553170''>given</span> <span m=''553790''>series</span> <span m=''554230''>of</span>
  <span m=''554410''>input</span> <span m=''554750''>values</span> <span m=''555240''>on</span>
  <span m=''555390''>the</span> <span m=''555470''>stream,</span> <span m=''556290''>I''ll</span>
  <span m=''556450''>always</span> <span m=''556760''>have</span> <span m=''556910''>the</span>
  <span m=''557000''>same</span> <span m=''557260''>communication</span> <span m=''557930''>pattern</span>
  <span m=''558320''>that</span> <span m=''558430''>I''m</span> <span m=''558540''>trying</span>
  <span m=''559130''>from</span> <span m=''559290''>the</span> <span m=''559410''>other</span>
  <span m=''559630''>input.</span> <span m=''560630''>So</span> <span m=''561040''>if</span>
  <span m=''561210''>it''s</span> <span m=''561370''>a</span> <span m=''561430''>deterministic</span>
  <span m=''562120''>model,</span> <span m=''562460''>that''s</span> <span m=''562650''>a</span>
  <span m=''562690''>nice</span> <span m=''562930''>property.</span> <span m=''564580''>Let''s</span>
  <span m=''564770''>see,</span> <span m=''565510''>what</span> <span m=''565710''>else</span>
  <span m=''565850''>to</span> <span m=''565940''>say</span> <span m=''566110''>here?</span>
  <span m=''566320''>There''s</span> <span m=''566640''>actually</span> <span m=''567210''>a</span>
  <span m=''567350''>few</span> <span m=''567550''>recent</span> <span m=''568240''>ventures</span>
  <span m=''568700''>that</span> <span m=''568810''>are</span> <span m=''568890''>using</span>
  <span m=''569420''>Kahn</span> <span m=''569670''>process</span> <span m=''570040''>networks.</span>
  <span m=''570710''>So</span> <span m=''570960''>there''s</span> <span m=''571480''>commercial</span>
  <span m=''571890''>interest.</span> <span m=''572310''>For</span> <span m=''572390''>example</span>
  <span m=''572710''>Ambric</span> <span m=''573190''>is</span> <span m=''573300''>a</span>
  <span m=''573380''>startup</span> <span m=''574330''>that</span> <span m=''574470''>I</span>
  <span m=''574550''>think</span> <span m=''574820''>will</span> <span m=''575230''>be</span>
  <span m=''575350''>based</span> <span m=''575630''>on</span> <span m=''575820''>a</span>
  <span m=''576030''>Kahn</span> <span m=''576540''>process</span> <span m=''576920''>network</span>
  <span m=''577520''>for</span> <span m=''577660''>the</span> <span m=''577750''>programming</span>
  <span m=''578170''>model.</span> </p><p><span m=''580750''>Looking</span> <span
  m=''581020''>at</span> <span m=''581140''>another</span> <span m=''581430''>model</span>
  <span m=''581770''>called</span> <span m=''582040''>synchronous</span> <span m=''582490''>dataflow,</span>
  <span m=''583410''>this</span> <span m=''583550''>is</span> <span m=''583660''>actually</span>
  <span m=''583940''>what</span> <span m=''584050''>we</span> <span m=''584190''>use</span>
  <span m=''584490''>in the</span> <span m=''584870''>StreamIt</span> <span m=''584990''>system.</span>
  <span m=''585930''>And</span> <span m=''586260''>compared</span> <span m=''586610''>to</span>
  <span m=''586690''>Kahn</span> <span m=''587160''>process</span> <span m=''587300''>networks,</span>
  <span m=''587760''>it''s</span> <span m=''587870''>kind</span> <span m=''588070''>of</span>
  <span m=''588140''>a</span> <span m=''588190''>subset.</span> <span m=''588830''>It''s</span>
  <span m=''588940''>a</span> <span m=''589010''>little</span> <span m=''589240''>bit</span>
  <span m=''589370''>more</span> <span m=''589530''>restrictive.</span> <span m=''590600''>So</span>
  <span m=''590780''>if</span> <span m=''590870''>you</span> <span m=''590960''>look</span>
  <span m=''591100''>at</span> <span m=''591180''>the</span> <span m=''591270''>space</span>
  <span m=''591780''>of</span> <span m=''591930''>all</span> <span m=''592170''>possible</span>
  <span m=''592610''>program</span> <span m=''593040''>behaviors,</span> <span m=''594010''>Kahn</span>
  <span m=''594290''>process</span> <span m=''594670''>networks</span> <span m=''595060''>are</span>
  <span m=''595180''>a</span> <span m=''595260''>pretty</span> <span m=''595480''>big</span>
  <span m=''595770''>piece</span> <span m=''595990''>of</span> <span m=''596090''>the</span>
  <span m=''596180''>space.</span> <span m=''597110''>And</span> <span m=''597410''>then</span>
  <span m=''597580''>synchronous</span> <span m=''597970''>dataflow</span> <span m=''598210''>is</span>
  <span m=''598510''>kind</span> <span m=''598660''>of</span> <span m=''598730''>a</span>
  <span m=''598790''>subset</span> <span m=''599280''>of</span> <span m=''599370''>that</span>
  <span m=''599580''>space</span> <span m=''600190''>where</span> <span m=''600420''>you</span>
  <span m=''600550''>know</span> <span m=''600870''>more</span> <span m=''601410''>about</span>
  <span m=''601720''>the</span> <span m=''601800''>communication</span> <span m=''602490''>pattern</span>
  <span m=''602890''>at</span> <span m=''603060''>compile</span> <span m=''603540''>time.</span>
  <span m=''604390''>So</span> <span m=''604640''>for</span> <span m=''604780''>example,</span>
  <span m=''605170''>in</span> <span m=''605310''>synchronous</span> <span m=''605660''>dataflow,</span>
  <span m=''606500''>the</span> <span m=''606590''>programmer</span> <span m=''607070''>actually</span>
  <span m=''607410''>declares</span> <span m=''608430''>how</span> <span m=''608660''>many</span>
  <span m=''608910''>items</span> <span m=''609380''>it will</span> <span m=''609770''>consume</span>
  <span m=''610620''>from</span> <span m=''610810''>each</span> <span m=''611030''>of</span>
  <span m=''611120''>its</span> <span m=''611220''>in</span> <span m=''611390''>put</span>
  <span m=''611530''>channels</span> <span m=''612240''>on</span> <span m=''612460''>a</span>
  <span m=''612510''>given</span> <span m=''612760''>execution</span> <span m=''613330''>step.</span>
  <span m=''614090''>So</span> <span m=''614360''>there''s</span> <span m=''614570''>no</span>
  <span m=''614710''>more</span> <span m=''614900''>data</span> <span m=''615230''>dependence</span>
  <span m=''616040''>regarding</span> <span m=''616690''>the</span> <span m=''616770''>communication</span>
  <span m=''617400''>pattern.</span> <span m=''618000''>It''ll</span> <span m=''618340''>always</span>
  <span m=''618800''>input</span> <span m=''619180''>some</span> <span m=''619350''>items</span>
  <span m=''619760''>from</span> <span m=''619920''>some</span> <span m=''620100''>of</span>
  <span m=''620210''>the</span> <span m=''620280''>channels</span> <span m=''621080''>and</span>
  <span m=''621290''>produce</span> <span m=''621670''>some</span> <span m=''621850''>number</span>
  <span m=''622100''>of</span> <span m=''622200''>items</span> <span m=''622560''>to</span>
  <span m=''622700''>other</span> <span m=''622900''>channels.</span> <span m=''623990''>And</span>
  <span m=''624320''>this</span> <span m=''624400''>is</span> <span m=''624500''>a</span>
  <span m=''624550''>really</span> <span m=''624800''>nice</span> <span m=''625010''>properties</span>
  <span m=''625650''>because</span> <span m=''625940''>it</span> <span m=''626020''>lets</span>
  <span m=''626210''>the</span> <span m=''626300''>compiler</span> <span m=''626880''>do</span>
  <span m=''627050''>to</span> <span m=''627170''>scheduling</span> <span m=''627660''>for</span>
  <span m=''627850''>you.</span> <span m=''628510''>So</span> <span m=''628660''>the</span>
  <span m=''628740''>compiling</span> <span m=''629160''>can</span> <span m=''629310''>see</span>
  <span m=''629510''>who''s</span> <span m=''629800''>communicating</span> <span m=''630400''>to
  who</span> <span m=''630900''>and</span> <span m=''631020''>exactly</span> <span
  m=''631520''>what</span> <span m=''631700''>pattern.</span> <span m=''632630''>And</span>
  <span m=''632820''>it</span> <span m=''632900''>can</span> <span m=''633520''>statically</span>
  <span m=''634200''>interleave</span> <span m=''634640''>the</span> <span m=''634750''>filters</span>
  <span m=''635600''>to</span> <span m=''635720''>guarantee</span> <span m=''636190''>that</span>
  <span m=''636340''>everyone</span> <span m=''636700''>has</span> <span m=''636910''>enough</span>
  <span m=''637150''>data</span> <span m=''638200''>to</span> <span m=''638890''>complete</span>
  <span m=''639260''>their</span> <span m=''639400''>computation.</span> <span m=''640750''>So</span>
  <span m=''640980''>there''s</span> <span m=''641150''>a</span> <span m=''641190''>lot</span>
  <span m=''641360''>of</span> <span m=''641440''>interesting</span> <span m=''641770''>optimizations</span>
  <span m=''642390''>you</span> <span m=''642490''>can</span> <span m=''642620''>do</span>
  <span m=''642740''>here.</span> <span m=''642950''>That''s</span> <span m=''643120''>why</span>
  <span m=''643280''>it''s</span> <span m=''643560''>very</span> <span m=''643740''>attractive</span>
  <span m=''644390''>for</span> <span m=''644610''>StreamIt.</span> <span m=''645820''>And</span>
  <span m=''646020''>you</span> <span m=''646080''>can</span> <span m=''646230''>statically</span>
  <span m=''646740''>guarantee</span> <span m=''647350''>freedom</span> <span m=''647620''>from</span>
  <span m=''647820''>deadlock,</span> <span m=''648680''>which</span> <span m=''648810''>is</span>
  <span m=''648910''>a</span> <span m=''648970''>nice</span> <span m=''649210''>property</span>
  <span m=''649590''>to</span> <span m=''649670''>have.</span> </p><p><span m=''651560''>The</span>
  <span m=''651670''>last</span> <span m=''651900''>one</span> <span m=''652020''>I</span>
  <span m=''652070''>want</span> <span m=''652220''>to</span> <span m=''652300''>touch</span>
  <span m=''652530''>on</span> <span m=''652740''>is</span> <span m=''652940''>communicating</span>
  <span m=''653470''>sequential</span> <span m=''653850''>processes</span> <span m=''654470''>or</span>
  <span m=''654590''>CSP.</span> <span m=''656440''>And</span> <span m=''656720''>in</span>
  <span m=''656940''>the space</span> <span m=''657470''>of</span> <span m=''657550''>program</span>
  <span m=''657950''>behaviors,</span> <span m=''658490''>it''s</span> <span m=''658640''>kind</span>
  <span m=''658880''>of</span> <span m=''658950''>an</span> <span m=''659080''>overlapping</span>
  <span m=''659760''>that</span> <span m=''659960''>from</span> <span m=''660300''>Kahn</span>
  <span m=''660620''>processing</span> <span m=''660990''>networks,</span> <span m=''661830''>and</span>
  <span m=''662690''>adds</span> <span m=''662790''>a</span> <span m=''662990''>few</span>
  <span m=''663190''>new</span> <span m=''663350''>semantic</span> <span m=''663830''>behaviors.</span>
  <span m=''665170''>So</span> <span m=''665440''>the</span> <span m=''665580''>buffering</span>
  <span m=''666080''>model</span> <span m=''666820''>is</span> <span m=''667090''>basically</span>
  <span m=''667480''>rendezvous</span> <span m=''668030''>communication</span> <span
  m=''668720''>now.</span> <span m=''669300''>So</span> <span m=''669430''>there''s</span>
  <span m=''669630''>no</span> <span m=''669920''>bothering</span> <span m=''670430''>in</span>
  <span m=''670530''>the</span> <span m=''670610''>system.</span> <span m=''671950''>Basically</span>
  <span m=''672390''>anytime</span> <span m=''672810''>you</span> <span m=''672930''>send</span>
  <span m=''673340''>a</span> <span m=''673390''>value</span> <span m=''673830''>to</span>
  <span m=''674000''>another</span> <span m=''674390''>process,</span> <span m=''675300''>you</span>
  <span m=''675390''>have</span> <span m=''675480''>to</span> <span m=''675580''>block</span>
  <span m=''676650''>and</span> <span m=''676870''>wait</span> <span m=''677080''>until</span>
  <span m=''677360''>that</span> <span m=''677510''>process</span> <span m=''677990''>will</span>
  <span m=''678090''>actually</span> <span m=''678380''>receive</span> <span m=''678830''>that</span>
  <span m=''679040''>value</span> <span m=''679350''>from</span> <span m=''679580''>you.</span>
  <span m=''680060''>So</span> <span m=''680270''>everyone</span> <span m=''680710''>is</span>
  <span m=''680850''>rendevouzing</span> <span m=''681530''>at</span> <span m=''681640''>every</span>
  <span m=''681860''>communication</span> <span m=''682590''>step.</span> <span m=''684570''>In</span>
  <span m=''684810''>addition</span> <span m=''685150''>to</span> <span m=''685260''>that,</span>
  <span m=''685830''>they</span> <span m=''685930''>have</span> <span m=''686160''>some</span>
  <span m=''686500''>sophisticated</span> <span m=''687200''>synchronization</span>
  <span m=''687910''>primitives.</span> <span m=''688730''>So</span> <span m=''688970''>you</span>
  <span m=''689120''>can</span> <span m=''689720''>for</span> <span m=''689860''>example,</span>
  <span m=''690330''>discuss</span> <span m=''691220''>alternative</span> <span m=''692240''>behaviors</span>
  <span m=''692760''>that</span> <span m=''692870''>you</span> <span m=''693000''>have.</span>
  <span m=''693480''>You can</span> <span m=''693790''>either</span> <span m=''694040''>one</span>
  <span m=''694350''>thing</span> <span m=''694670''>or</span> <span m=''694800''>another</span>
  <span m=''695560''>which</span> <span m=''695850''>will</span> <span m=''695980''>introduce</span>
  <span m=''696380''>the</span> <span m=''696490''>nondeterminism</span> <span m=''698490''>in</span>
  <span m=''698740''>the</span> <span m=''698810''>model.</span> <span m=''699510''>Which</span>
  <span m=''699790''>could</span> <span m=''700040''>be</span> <span m=''700150''>a</span>
  <span m=''700250''>good</span> <span m=''700420''>or a</span> <span m=''700610''>bad</span>
  <span m=''700880''>thing</span> <span m=''701250''>depending</span> <span m=''701590''>on</span>
  <span m=''701690''>the</span> <span m=''701760''>program</span> <span m=''702150''>you''re</span>
  <span m=''702260''>trying</span> <span m=''702450''>to</span> <span m=''702520''>express.</span>
  <span m=''703550''>And</span> <span m=''704390''>pretty</span> <span m=''704540''>much</span>
  <span m=''704720''>the</span> <span m=''705320''>most</span> <span m=''705630''>well-known</span>
  <span m=''706150''>encapsulation</span> <span m=''706980''>of</span> <span m=''707090''>CSP</span>
  <span m=''707690''>is</span> <span m=''707820''>this</span> <span m=''708010''>occam</span>
  <span m=''708470''>programming</span> <span m=''708880''>language</span> <span m=''710050''>invented</span>
  <span m=''710550''>quite</span> <span m=''710750''>a while</span> <span m=''711050''>ago.</span>
  <span m=''711550''>And</span> <span m=''711770''>some</span> <span m=''711900''>people</span>
  <span m=''712060''>are</span> <span m=''712130''>still</span> <span m=''712310''>using</span>
  <span m=''712580''>that</span> <span m=''712790''>today.</span> <span m=''714420''>Any</span>
  <span m=''714610''>questions</span> <span m=''714990''>on</span> <span m=''715100''>the</span>
  <span m=''715160''>model</span> <span m=''715440''>computations?</span> <span m=''719760''>OK.</span>
  </p><p><span m=''720720''>So</span> <span m=''721030''>now</span> <span m=''721230''>let</span>
  <span m=''721330''>me</span> <span m=''721440''>get</span> <span m=''721590''>into</span>
  <span m=''722080''>what</span> <span m=''722290''>StreamIt</span> <span m=''722630''>is.</span>
  <span m=''723570''>So</span> <span m=''724020''>StreamIt</span> <span m=''725060''>is</span>
  <span m=''725220''>a</span> <span m=''725380''>great</span> <span m=''725700''>language.</span>
  <span m=''726190''>It''s</span> <span m=''726290''>a</span> <span m=''726380''>high-level</span>
  <span m=''727380''>architecture-independent</span> <span m=''728530''>language.</span>
  <span m=''728930''>Oh</span> <span m=''729060''>question</span> <span m=''729440''>the</span>
  <span m=''729520''>back.</span> </p><p><span m=''731660''>AUDIENCE: With the CSP</span>
  <span m=''732580''>I''m</span> <span m=''733670''>trying</span> <span m=''734880''>to
  understand exactly what that</span> <span m=''735120''>means</span> <span m=''735730''>or</span>
  <span m=''736210''>how</span> <span m=''736320''>it''s</span> <span m=''737380''>different.</span>
  <span m=''739660''>Is basically</span> <span m=''740410''>what''s</span> <span m=''740570''>it''s</span>
  <span m=''740720''>saying</span> <span m=''740970''>is</span> <span m=''741640''>you</span>
  <span m=''741900''>have a bunch</span> <span m=''742150''>processes</span> <span
  m=''742700''>and</span> <span m=''742948''>they</span> <span m=''743196''>can</span>
  <span m=''743444''>send</span> <span m=''743692''>messages to each other.</span>
  </p><p><span m=''744940''>BILL THIES:</span> <span m=''745025''>So</span> <span
  m=''745110''>all</span> <span m=''745430''>these</span> <span m=''746920''>models</span>
  <span m=''747370''>have</span> <span m=''747550''>that</span> <span m=''747720''>property.</span>
  </p><p><span m=''749390''>AUDIENCE: They</span> <span m=''749850''>all</span> <span
  m=''750310''>fit into</span> <span m=''750770''>that.</span> <span m=''751230''>But</span>
  <span m=''751750''>it</span> <span m=''751880''>seems</span> <span m=''752240''>like</span>
  <span m=''752450''>from</span> <span m=''752680''>your</span> <span m=''753500''>explanation</span>
  <span m=''753910''>of</span> <span m=''754000''>CSP,</span> <span m=''754660''>that</span>
  <span m=''755090''>that</span> <span m=''755220''>was</span> <span m=''755680''>just
  sort</span> <span m=''756380''>of</span> <span m=''756990''>the</span> <span m=''757320''>essence
  of</span> <span m=''758150''>CSP</span> <span m=''759790''>is</span> <span m=''759920''>it</span>
  <span m=''760380''>more</span> <span m=''761220''>specific?</span> </p><p><span
  m=''761620''>BILL THIES: So</span> <span m=''761730''>CSP is</span> <span m=''761970''>usually</span>
  <span m=''762290''>associated</span> <span m=''762860''>with</span> <span m=''763310''>rendezvous</span>
  <span m=''763820''>communication.</span> <span m=''765360''>That''s</span> <span
  m=''765630''>the</span> <span m=''765730''>side</span> <span m=''765920''>of</span>
  <span m=''766000''>programs</span> <span m=''766440''>that</span> <span m=''766600''>fit</span>
  <span m=''766790''>inside</span> <span m=''767270''>Kahn</span> <span m=''767500''>process</span>
  <span m=''767870''>networks.</span> <span m=''768780''>It''s</span> <span m=''769230''>any</span>
  <span m=''769620''>communicating</span> <span m=''770260''>model</span> <span m=''771050''>where</span>
  <span m=''771160''>you</span> <span m=''771260''>basically</span> <span m=''771570''>have</span>
  <span m=''771710''>no</span> <span m=''771860''>buffering</span> <span m=''773110''>between</span>
  <span m=''773410''>the</span> <span m=''773490''>processes.</span> <span m=''774310''>Now</span>
  <span m=''774460''>the</span> <span m=''774560''>piece</span> <span m=''774800''>that</span>
  <span m=''774950''>sits</span> <span m=''775080''>outside</span> <span m=''775790''>is</span>
  <span m=''776550''>usually</span> <span m=''776990''>lumped</span> <span m=''777350''>with</span>
  <span m=''777520''>CSP,</span> <span m=''778120''>or</span> <span m=''778450''>especially</span>
  <span m=''778840''>with</span> <span m=''778990''>occam</span> <span m=''779890''>They</span>
  <span m=''779990''>have</span> <span m=''780190''>a</span> <span m=''780270''>set</span>
  <span m=''780440''>a</span> <span m=''780490''>primitives</span> <span m=''781000''>that</span>
  <span m=''781120''>are</span> <span m=''781250''>richer</span> <span m=''782130''>in</span>
  <span m=''782290''>terms</span> <span m=''782620''>of</span> <span m=''783190''>synchronization.</span>
  <span m=''784500''>So</span> <span m=''784640''>for</span> <span m=''784770''>example,</span>
  <span m=''785280''>you</span> <span m=''785430''>can</span> <span m=''785520''>have</span>
  <span m=''785740''>guards</span> <span m=''786480''>on</span> <span m=''786630''>your</span>
  <span m=''786740''>communication.</span> <span m=''787810''>Don''t</span> <span
  m=''788110''>execute</span> <span m=''788670''>this</span> <span m=''789360''>consumption</span>
  <span m=''789880''>from</span> <span m=''790040''>this</span> <span m=''790140''>channel</span>
  <span m=''790510''>until</span> <span m=''790740''>I</span> <span m=''790820''>see</span>
  <span m=''791040''>a</span> <span m=''791110''>certain</span> <span m=''791410''>value.</span>
  <span m=''792550''>So</span> <span m=''792900''>there''s</span> <span m=''793120''>some</span>
  <span m=''793950''>more</span> <span m=''794140''>rich</span> <span m=''794440''>semantics</span>
  <span m=''794940''>there.</span> <span m=''795580''>And</span> <span m=''795730''>so</span>
  <span m=''795820''>that''s</span> <span m=''796060''>the</span> <span m=''796150''>things</span>
  <span m=''796460''>that</span> <span m=''796590''>are</span> <span m=''796650''>usually</span>
  <span m=''796980''>outside.</span> <span m=''797720''>They''re</span> <span m=''798220''>outside</span>
  <span m=''799070''>the</span> <span m=''799170''>other</span> <span m=''799350''>models.</span>
  <span m=''799710''>Does</span> <span m=''801390''>that</span> <span m=''801500''>make</span>
  <span m=''801650''>sense?</span> <span m=''803940''>Other</span> <span m=''804140''>questions?</span>
  </p><p><span m=''808530''>OK</span> <span m=''810310''>so</span> <span m=''811230''>StreamIt.</span>
  <span m=''812210''>OK</span> <span m=''812460''>so</span> <span m=''812600''>StreamIt</span>
  <span m=''812960''>is</span> <span m=''813150''>architecture-independent.</span>
  <span m=''814480''>It''s</span> <span m=''814640''>basically</span> <span m=''815080''>a</span>
  <span m=''815180''>really</span> <span m=''815460''>nice</span> <span m=''817540''>syntactic</span>
  <span m=''818380''>model</span> <span m=''819030''>for</span> <span m=''819190''>interfacing</span>
  <span m=''819780''>with</span> <span m=''819910''>these</span> <span m=''820150''>lower</span>
  <span m=''820490''>level</span> <span m=''820940''>models</span> <span m=''821290''>of</span>
  <span m=''821360''>computation</span> <span m=''822480''>for</span> <span m=''822620''>streaming.</span>
  <span m=''823530''>And</span> <span m=''823770''>really</span> <span m=''824000''>we</span>
  <span m=''824100''>have</span> <span m=''824300''>two</span> <span m=''824560''>goals</span>
  <span m=''825140''>in</span> <span m=''825290''>the</span> <span m=''825370''>StreamIt</span>
  <span m=''825660''>project.</span> <span m=''826460''>And</span> <span m=''827070''>the</span>
  <span m=''827270''>first</span> <span m=''827590''>is</span> <span m=''827870''>from</span>
  <span m=''828110''>the</span> <span m=''828180''>programmer''s</span> <span m=''828610''>side.</span>
  <span m=''829470''>So</span> <span m=''829560''>we</span> <span m=''829680''>want</span>
  <span m=''829860''>to</span> <span m=''829920''>improve</span> <span m=''830400''>the</span>
  <span m=''830510''>programmer''s</span> <span m=''831050''>life</span> <span m=''831730''>when</span>
  <span m=''831890''>you''re</span> <span m=''832000''>writing</span> <span m=''832300''>a</span>
  <span m=''832360''>parallel</span> <span m=''832710''>program.</span> <span m=''833360''>We
  want to</span> <span m=''833670''>make</span> <span m=''833820''>it</span> <span
  m=''834000''>easier</span> <span m=''834460''>for</span> <span m=''834590''>you</span>
  <span m=''835080''>to</span> <span m=''835200''>write</span> <span m=''835370''>a</span>
  <span m=''835420''>parallel</span> <span m=''835840''>program</span> <span m=''836680''>then</span>
  <span m=''836810''>you</span> <span m=''836880''>would</span> <span m=''837490''>have</span>
  <span m=''837820''>to</span> <span m=''837910''>do</span> <span m=''838020''>in</span>
  <span m=''838160''>C</span> <span m=''838420''>or a</span> <span m=''838600''>language</span>
  <span m=''838900''>like</span> <span m=''839060''>Java,</span> <span m=''839520''>or</span>
  <span m=''839680''>any</span> <span m=''839970''>other</span> <span m=''840210''>language</span>
  <span m=''840570''>that you</span> <span m=''840810''>know.</span> <span m=''841510''>And</span>
  <span m=''841770''>at</span> <span m=''841830''>the</span> <span m=''841900''>same</span>
  <span m=''842190''>time,</span> <span m=''842470''>we</span> <span m=''842580''>want</span>
  <span m=''842760''>scalable</span> <span m=''843390''>and</span> <span m=''843560''>portable</span>
  <span m=''843960''>performance</span> <span m=''844450''>across</span> <span m=''844760''>the</span>
  <span m=''844840''>multicores.</span> <span m=''846100''>So</span> <span m=''846350''>an</span>
  <span m=''846460''>interesting</span> <span m=''846860''>thing</span> <span m=''847040''>these</span>
  <span m=''847220''>days</span> <span m=''847500''>is</span> <span m=''847600''>you''ll</span>
  <span m=''847740''>find,</span> <span m=''848550''>is</span> <span m=''848730''>it''s</span>
  <span m=''848820''>often</span> <span m=''849120''>very</span> <span m=''850050''>hard</span>
  <span m=''851400''>a</span> <span m=''851480''>tempt</span> <span m=''851860''>the</span>
  <span m=''851980''>programmer</span> <span m=''852800''>to</span> <span m=''852930''>switch</span>
  <span m=''853270''>to</span> <span m=''853420''>your</span> <span m=''853570''>favorite</span>
  <span m=''853890''>language</span> <span m=''854670''>based</span> <span m=''854920''>solely</span>
  <span m=''855290''>on</span> <span m=''855440''>performance.</span> <span m=''856240''>Or
  at</span> <span m=''856460''>least</span> <span m=''856630''>this has</span> <span
  m=''856760''>been</span> <span m=''856890''>the</span> <span m=''856980''>story</span>
  <span m=''857780''>in</span> <span m=''857940''>the</span> <span m=''858030''>past.</span>
  <span m=''858440''>It</span> <span m=''858640''>may</span> <span m=''858770''>change,</span>
  <span m=''859240''>looking</span> <span m=''859510''>forward.</span> <span m=''860210''>Because</span>
  <span m=''860340''>it''s</span> <span m=''860440''>a</span> <span m=''860510''>lot</span>
  <span m=''860690''>harder</span> <span m=''861000''>to</span> <span m=''861120''>get</span>
  <span m=''861270''>performance</span> <span m=''861730''>these</span> <span m=''861920''>days.</span>
  <span m=''862640''>But</span> <span m=''862760''>usually</span> <span m=''863090''>you
  have</span> <span m=''863230''>to</span> <span m=''863310''>offer</span> <span m=''863560''>them</span>
  <span m=''863710''>some</span> <span m=''863890''>other</span> <span m=''864060''>carrot</span>
  <span m=''864490''>to</span> <span m=''864600''>get</span> <span m=''864730''>them</span>
  <span m=''864860''>on</span> <span m=''865050''>board.</span> <span m=''865720''>And</span>
  <span m=''866110''>you</span> <span m=''866230''>know</span> <span m=''866310''>the</span>
  <span m=''866390''>carrot</span> <span m=''866750''>here</span> <span m=''867490''>is</span>
  <span m=''867660''>that</span> <span m=''867830''>it''s</span> <span m=''868120''>really</span>
  <span m=''868370''>nice</span> <span m=''868570''>to</span> <span m=''868660''>program</span>
  <span m=''869050''>in.</span> <span m=''869630''>It''s</span> <span m=''869830''>fun</span>
  <span m=''870120''>to</span> <span m=''870190''>program</span> <span m=''870620''>in.</span>
  <span m=''870880''>It''s</span> <span m=''871030''>beautiful.</span> <span m=''872200''>It''s</span>
  <span m=''872310''>a</span> <span m=''872380''>lot</span> <span m=''872620''>easier</span>
  <span m=''873020''>to</span> <span m=''873120''>program</span> <span m=''873490''>and</span>
  <span m=''873620''>stream</span> <span m=''873890''>it</span> <span m=''874310''>then</span>
  <span m=''874440''>it</span> <span m=''874530''>would</span> <span m=''874710''>be</span>
  <span m=''874820''>in</span> <span m=''874980''>something</span> <span m=''875250''>like</span>
  <span m=''875400''>C</span> <span m=''875690''>or</span> <span m=''875840''>Java</span>
  <span m=''876360''>for</span> <span m=''876540''>a</span> <span m=''876610''>certain</span>
  <span m=''876900''>class</span> <span m=''877160''>of</span> <span m=''877230''>programs.</span>
  <span m=''878090''>So</span> <span m=''878250''>that''s</span> <span m=''878420''>how</span>
  <span m=''878530''>we</span> <span m=''878630''>get</span> <span m=''878780''>them</span>
  <span m=''878890''>on</span> <span m=''879060''>board,</span> <span m=''879760''>and</span>
  <span m=''879960''>then</span> <span m=''880260''>we</span> <span m=''880380''>also</span>
  <span m=''880630''>provide</span> <span m=''880970''>the</span> <span m=''881050''>performance.</span>
  <span m=''883010''>We''re</span> <span m=''883160''>mostly</span> <span m=''883570''>based</span>
  <span m=''883840''>on</span> <span m=''883950''>the</span> <span m=''884020''>synchronous</span>
  <span m=''884200''>in</span> <span m=''884580''>dataflow</span> <span m=''884830''>model.</span>
  <span m=''885420''>In</span> <span m=''885600''>that</span> <span m=''886320''>when</span>
  <span m=''886590''>there</span> <span m=''886720''>are</span> <span m=''887570''>static</span>
  <span m=''888040''>communication</span> <span m=''888660''>patterns,</span> <span
  m=''889190''>we</span> <span m=''889380''>leverage</span> <span m=''889860''>that</span>
  <span m=''890130''>from</span> <span m=''890270''>the</span> <span m=''890340''>compiler</span>
  <span m=''890780''>side.</span> <span m=''891560''>So</span> <span m=''891760''>I''ll
  also</span> <span m=''892020''>tell</span> <span m=''892200''>you</span> <span m=''892310''>about</span>
  <span m=''892560''>some</span> <span m=''892700''>dynamic</span> <span m=''893180''>extensions</span>
  <span m=''893750''>that</span> <span m=''893850''>we</span> <span m=''893940''>have,</span>
  <span m=''894580''>that</span> <span m=''894770''>is the</span> <span m=''894880''>much</span>
  <span m=''895060''>richer</span> <span m=''895370''>model</span> <span m=''895660''>of</span>
  <span m=''895750''>communication.</span> </p><p><span m=''898410''>So</span> <span
  m=''898700''>what</span> <span m=''898850''>have we</span> <span m=''898990''>been</span>
  <span m=''899100''>doing</span> <span m=''899390''>in</span> <span m=''899455''>the</span>
  <span m=''899520''>Streamit</span> <span m=''899800''>Project?</span> <span m=''900690''>We</span>
  <span m=''900830''>have</span> <span m=''901420''>kind</span> <span m=''901600''>of</span>
  <span m=''901660''>a</span> <span m=''901730''>dual</span> <span m=''902090''>thrust</span>
  <span m=''902550''>within</span> <span m=''902780''>our</span> <span m=''902950''>group</span>
  <span m=''903320''>building</span> <span m=''903740''>on</span> <span m=''903860''>this</span>
  <span m=''904020''>language.</span> <span m=''904800''>So</span> <span m=''904960''>the</span>
  <span m=''905060''>first</span> <span m=''905290''>thrust</span> <span m=''905710''>is</span>
  <span m=''905860''>from the</span> <span m=''905950''>programmability</span> <span
  m=''906650''>side,</span> <span m=''907470''>looking</span> <span m=''907720''>at</span>
  <span m=''907810''>applications</span> <span m=''908540''>and</span> <span m=''908660''>programmability</span>
  <span m=''909630''>What</span> <span m=''909930''>can</span> <span m=''910030''>we</span>
  <span m=''910140''>fit</span> <span m=''910410''>into</span> <span m=''910590''>the</span>
  <span m=''910680''>streaming</span> <span m=''911080''>model?</span> <span m=''912030''>And</span>
  <span m=''912240''>we''re</span> <span m=''912330''>also</span> <span m=''912570''>really</span>
  <span m=''912810''>pushing</span> <span m=''913200''>the</span> <span m=''913510''>optimizations.</span>
  <span m=''914260''>So</span> <span m=''914650''>what</span> <span m=''914830''>can</span>
  <span m=''914930''>you</span> <span m=''915010''>do</span> <span m=''915140''>from</span>
  <span m=''915870''>both</span> <span m=''916040''>a</span> <span m=''916130''>domain</span>
  <span m=''916590''>specific</span> <span m=''916980''>optimization</span> <span
  m=''917660''>standpoint,</span> <span m=''918420''>as</span> <span m=''918590''>kind</span>
  <span m=''918810''>of</span> <span m=''919240''>emulating</span> <span m=''919830''>a</span>
  <span m=''919910''>DSP</span> <span m=''920450''>engineer</span> <span m=''921090''>or</span>
  <span m=''921630''>a</span> <span m=''921930''>signal</span> <span m=''922270''>processing</span>
  <span m=''922750''>expert</span> <span m=''923380''>in</span> <span m=''923550''>the</span>
  <span m=''923620''>design</span> <span m=''923990''>flow.</span> <span m=''924770''>And</span>
  <span m=''924930''>also</span> <span m=''925160''>architecture</span> <span m=''925640''>specific</span>
  <span m=''926000''>optimizations.</span> <span m=''926860''>So</span> <span m=''927060''>we''ve</span>
  <span m=''927170''>been</span> <span m=''927290''>compiling</span> <span m=''927770''>for</span>
  <span m=''927900''>a</span> <span m=''927960''>lot</span> <span m=''928120''>of</span>
  <span m=''928200''>parallel</span> <span m=''928570''>machines.</span> <span m=''929520''>And</span>
  <span m=''929790''>we</span> <span m=''929900''>were</span> <span m=''930140''>hoping</span>
  <span m=''930300''>we</span> <span m=''930400''>could</span> <span m=''930500''>have</span>
  <span m=''930940''>a</span> <span m=''931030''>full</span> <span m=''931260''>system</span>
  <span m=''931640''>for</span> <span m=''931740''>you</span> <span m=''931860''>guys,</span>
  <span m=''932380''>this</span> <span m=''932680''>IEP,</span> <span m=''933610''>so
  you</span> <span m=''933730''>could</span> <span m=''933850''>write</span> <span
  m=''934020''>it</span> <span m=''934110''>then</span> <span m=''934230''>stream</span>
  <span m=''934490''>it</span> <span m=''934610''>and</span> <span m=''934735''>then</span>
  <span m=''934860''>hit</span> <span m=''935080''>the</span> <span m=''935160''>button.</span>
  <span m=''935520''>And</span> <span m=''935640''>it</span> <span m=''935700''>would</span>
  <span m=''935830''>work</span> <span m=''936100''>the</span> <span m=''936170''>whole</span>
  <span m=''936350''>way</span> <span m=''936480''>down</span> <span m=''936700''>to</span>
  <span m=''936800''>cell.</span> <span m=''937900''>Unfortunately</span> <span m=''938210''>we''re</span>
  <span m=''938290''>not</span> <span m=''938500''>quite</span> <span m=''938760''>there</span>
  <span m=''938950''>yet.</span> <span m=''939570''>But</span> <span m=''940010''>we</span>
  <span m=''940140''>do</span> <span m=''940290''>have</span> <span m=''940430''>a</span>
  <span m=''940490''>pretty</span> <span m=''940780''>robust</span> <span m=''941180''>compiler</span>
  <span m=''941640''>infrastructure.</span> <span m=''942510''>And</span> <span m=''942790''>you</span>
  <span m=''942860''>can</span> <span m=''942970''>download</span> <span m=''943310''>this</span>
  <span m=''943440''>off</span> <span m=''943640''>the</span> <span m=''943730''>web</span>
  <span m=''944230''>and</span> <span m=''944470''>play</span> <span m=''944650''>with</span>
  <span m=''944820''>it</span> <span m=''944910''>if</span> <span m=''945010''>you</span>
  <span m=''945100''>want</span> <span m=''945340''>to.</span> </p><p><span m=''946190''>One</span>
  <span m=''946370''>of</span> <span m=''946430''>our</span> <span m=''946580''>backends</span>
  <span m=''947340''>that</span> <span m=''947450''>we''ve</span> <span m=''947640''>released</span>
  <span m=''948150''>so</span> <span m=''948260''>far</span> <span m=''948700''>actually</span>
  <span m=''949010''>does</span> <span m=''949270''>go</span> <span m=''950660''>to</span>
  <span m=''950820''>a</span> <span m=''950880''>cluster of</span> <span m=''951350''>workstations.</span>
  <span m=''952260''>So</span> <span m=''952400''>it''s</span> <span m=''952510''>kind</span>
  <span m=''952680''>of</span> <span m=''952750''>an</span> <span m=''952850''>MPI-like</span>
  <span m=''953760''>version</span> <span m=''954040''>of</span> <span m=''954120''>C.</span>
  <span m=''954750''>It uses</span> <span m=''955570''>Pthreads</span> <span m=''956550''>for</span>
  <span m=''956720''>the</span> <span m=''956900''>parallelism</span> <span m=''957350''>model.</span>
  <span m=''958120''>And</span> <span m=''958720''>I</span> <span m=''958790''>mean,</span>
  <span m=''958990''>depending</span> <span m=''959330''>on</span> <span m=''959420''>what</span>
  <span m=''959530''>kind</span> <span m=''959670''>of</span> <span m=''959790''>a
  hacker</span> <span m=''960100''>you</span> <span m=''960250''>are,</span> <span
  m=''960520''>you</span> <span m=''960630''>actually</span> <span m=''960890''>might</span>
  <span m=''961110''>be</span> <span m=''961210''>able</span> <span m=''961370''>to</span>
  <span m=''961440''>lower</span> <span m=''961700''>that</span> <span m=''961920''>down</span>
  <span m=''962130''>onto</span> <span m=''962350''>cell.</span> <span m=''962950''>So</span>
  <span m=''963930''>some</span> <span m=''964060''>of</span> <span m=''964120''>the</span>
  <span m=''964220''>stuff</span> <span m=''964410''>you</span> <span m=''964510''>might</span>
  <span m=''964690''>be</span> <span m=''964780''>able</span> <span m=''964950''>to</span>
  <span m=''965040''>use</span> <span m=''966190''>if</span> <span m=''966370''>you''re</span>
  <span m=''967600''>have</span> <span m=''967840''>some</span> <span m=''967960''>initiative</span>
  <span m=''968410''>in</span> <span m=''968530''>there.</span> <span m=''969050''>And</span>
  <span m=''969300''>of</span> <span m=''969410''>course</span> <span m=''969600''>we''d</span>
  <span m=''969700''>be</span> <span m=''969790''>willing</span> <span m=''969970''>to</span>
  <span m=''970070''>work</span> <span m=''970270''>with</span> <span m=''970400''>you</span>
  <span m=''971000''>on</span> <span m=''971150''>this</span> <span m=''971300''>as</span>
  <span m=''971430''>well.</span> <span m=''972260''>so</span> <span m=''972430''>we</span>
  <span m=''972520''>have</span> <span m=''972670''>lots</span> <span m=''972860''>optimizations</span>
  <span m=''973560''>in</span> <span m=''973660''>the</span> <span m=''973740''>tool</span>
  <span m=''973960''>flow.</span> <span m=''974460''>And</span> <span m=''974610''>actually</span>
  <span m=''974830''>Saman</span> <span m=''975150''>will</span> <span m=''975220''>spend</span>
  <span m=''975700''>another</span> <span m=''976080''>lecture</span> <span m=''976750''>focusing</span>
  <span m=''977190''>on</span> <span m=''977280''>the</span> <span m=''977360''>StreamIt</span>
  <span m=''977670''>compiler,</span> <span m=''978490''>and</span> <span m=''978640''>how</span>
  <span m=''978750''>we</span> <span m=''978840''>get</span> <span m=''979240''>performance</span>
  <span m=''979770''>out</span> <span m=''979890''>of</span> <span m=''979970''>the</span>
  <span m=''980090''>model.</span> </p><p><span m=''982010''>OK,</span> <span m=''982210''>so</span>
  <span m=''982320''>let''s</span> <span m=''982530''>just</span> <span m=''982740''>jump</span>
  <span m=''982980''>right</span> <span m=''983190''>in</span> <span m=''984060''>and</span>
  <span m=''984180''>do</span> <span m=''984340''>the</span> <span m=''984480''>analog</span>
  <span m=''984920''>of</span> <span m=''985010''>Hello</span> <span m=''985330''>World</span>
  <span m=''985740''>in</span> <span m=''985910''>StreamIt.</span> <span m=''986080''>I''m</span>
  <span m=''986610''>going to</span> <span m=''986820''>kind</span> <span m=''986960''>of</span>
  <span m=''987030''>walk</span> <span m=''987270''>you</span> <span m=''987400''>through</span>
  <span m=''987620''>the</span> <span m=''987730''>language</span> <span m=''988200''>and</span>
  <span m=''988330''>show</span> <span m=''988470''>you</span> <span m=''988660''>the</span>
  <span m=''988780''>interesting</span> <span m=''989290''>pieces</span> <span m=''990240''>from
  an</span> <span m=''990390''>intellectual</span> <span m=''990950''>standpoint.</span>
  <span m=''991380''>What''s</span> <span m=''991600''>interesting</span> <span m=''992100''>about</span>
  <span m=''992330''>a</span> <span m=''992390''>streaming</span> <span m=''992800''>model</span>
  <span m=''993610''>that</span> <span m=''993720''>you</span> <span m=''993800''>can</span>
  <span m=''993940''>take</span> <span m=''994130''>away.</span> <span m=''995280''>So</span>
  <span m=''995800''>instead</span> <span m=''996210''>of</span> <span m=''996300''>Hello</span>
  <span m=''996570''>World,</span> <span m=''997170''>we</span> <span m=''997270''>have</span>
  <span m=''997380''>a</span> <span m=''997440''>counter.</span> <span m=''998100''>Since</span>
  <span m=''998350''>we''re</span> <span m=''998530''>dealing</span> <span m=''998820''>with</span>
  <span m=''998930''>stream</span> <span m=''999200''>programs</span> <span m=''999640''>here,</span>
  <span m=''1000140''>you''re</span> <span m=''1000320''>not</span> <span m=''1000460''>usually</span>
  <span m=''1000690''>doing</span> <span m=''1000900''>text</span> <span m=''1001180''>processing.</span>
  <span m=''1002200''>So</span> <span m=''1002380''>how</span> <span m=''1002520''>do</span>
  <span m=''1002590''>you</span> <span m=''1002670''>write</span> <span m=''1002850''>counter?</span>
  <span m=''1003820''>Well</span> <span m=''1003980''>there are</span> <span m=''1004140''>two</span>
  <span m=''1004290''>pieces</span> <span m=''1004690''>to</span> <span m=''1004780''>the</span>
  <span m=''1004860''>program.</span> <span m=''1006040''>The</span> <span m=''1006150''>first</span>
  <span m=''1006420''>is</span> <span m=''1006560''>kind</span> <span m=''1006790''>of</span>
  <span m=''1006890''>the</span> <span m=''1007060''>interconnect</span> <span m=''1007950''>between</span>
  <span m=''1008340''>the</span> <span m=''1008430''>different</span> <span m=''1008750''>components.</span>
  <span m=''1009270''>That''s</span> <span m=''1009670''>what</span> <span m=''1009790''>we</span>
  <span m=''1009880''>have</span> <span m=''1010080''>up</span> <span m=''1010230''>here.</span>
  <span m=''1010950''>We''re</span> <span m=''1011100''>saying</span> <span m=''1011280''>the</span>
  <span m=''1011360''>program</span> <span m=''1011660''>is</span> <span m=''1011750''>a</span>
  <span m=''1011810''>pipeline</span> <span m=''1012690''>with</span> <span m=''1012900''>two</span>
  <span m=''1013090''>stages,</span> <span m=''1014000''>it</span> <span m=''1014210''>has</span>
  <span m=''1014350''>a</span> <span m=''1014450''>source,</span> <span m=''1015120''>and</span>
  <span m=''1015310''>it</span> <span m=''1015380''>has</span> <span m=''1015540''>a</span>
  <span m=''1015600''>printer.</span> <span m=''1016690''>And</span> <span m=''1017000''>then</span>
  <span m=''1017100''>we</span> <span m=''1017200''>can</span> <span m=''1017380''>write</span>
  <span m=''1017610''>the</span> <span m=''1017780''>source</span> <span m=''1018020''>and</span>
  <span m=''1018120''>the</span> <span m=''1018200''>printer</span> <span m=''1018660''>as</span>
  <span m=''1019000''>filters.</span> <span m=''1019720''>We</span> <span m=''1019850''>call</span>
  <span m=''1020080''>those</span> <span m=''1020720''>basic</span> <span m=''1021090''>building</span>
  <span m=''1021380''>blocks</span> <span m=''1021690''>filters</span> <span m=''1022110''>in</span>
  <span m=''1022270''>Streamit.</span> <span m=''1023190''>So</span> <span m=''1023390''>the</span>
  <span m=''1023510''>source</span> <span m=''1023880''>will</span> <span m=''1024000''>just</span>
  <span m=''1024200''>have</span> <span m=''1024370''>a</span> <span m=''1024440''>variable</span>
  <span m=''1024810''>x</span> <span m=''1025120''>that it</span> <span m=''1025430''>initializes</span>
  <span m=''1025890''>is</span> <span m=''1025980''>zero.</span> <span m=''1027130''>And</span>
  <span m=''1027380''>then</span> <span m=''1027490''>we</span> <span m=''1027590''>have</span>
  <span m=''1027720''>a</span> <span m=''1027800''>work</span> <span m=''1028190''>function</span>
  <span m=''1028980''>which</span> <span m=''1029300''>is</span> <span m=''1029450''>automatically</span>
  <span m=''1030150''>called</span> <span m=''1030510''>by</span> <span m=''1030630''>our</span>
  <span m=''1030770''>runtime</span> <span m=''1031160''>system</span> <span m=''1031910''>every</span>
  <span m=''1032200''>time</span> <span m=''1032570''>through</span> <span m=''1032740''>the</span>
  <span m=''1032830''>steady</span> <span m=''1033110''>state.</span> <span m=''1033820''>So</span>
  <span m=''1034120''>this</span> <span m=''1034320''>work</span> <span m=''1034530''>function</span>
  <span m=''1034840''>well</span> <span m=''1034960''>push</span> <span m=''1035290''>one</span>
  <span m=''1035490''>item</span> <span m=''1035790''>on</span> <span m=''1035930''>to</span>
  <span m=''1035990''>the</span> <span m=''1036090''>output</span> <span m=''1036400''>channel,</span>
  <span m=''1037170''>and</span> <span m=''1037340''>it''ll</span> <span m=''1037630''>increment</span>
  <span m=''1038110''>the</span> <span m=''1038190''>value</span> <span m=''1038690''>afterward.</span>
  <span m=''1040130''>Whereas</span> <span m=''1040540''>the</span> <span m=''1040660''>intPrinter</span>
  <span m=''1041310''>at</span> <span m=''1041520''>the</span> <span m=''1041660''>bottom</span>
  <span m=''1042010''>here,</span> <span m=''1042870''>will</span> <span m=''1043030''>input</span>
  <span m=''1043430''>one</span> <span m=''1043860''>value.</span> <span m=''1044720''>And</span>
  <span m=''1045000''>its</span> <span m=''1045120''>work</span> <span m=''1045320''>function</span>
  <span m=''1045600''>here</span> <span m=''1045880''>just</span> <span m=''1046060''>pops</span>
  <span m=''1046380''>that</span> <span m=''1046540''>value</span> <span m=''1046840''>off</span>
  <span m=''1046990''>the</span> <span m=''1047080''>input</span> <span m=''1047410''>tape,</span>
  <span m=''1047950''>and</span> <span m=''1048190''>prints</span> <span m=''1048410''>it</span>
  <span m=''1048510''>to</span> <span m=''1048590''>the</span> <span m=''1048680''>output.</span>
  </p><p><span m=''1049940''>Now</span> <span m=''1050160''>how</span> <span m=''1050290''>do</span>
  <span m=''1050370''>we</span> <span m=''1050480''>run</span> <span m=''1050760''>this</span>
  <span m=''1050930''>thing?</span> <span m=''1051180''>Well</span> <span m=''1051480''>there''s</span>
  <span m=''1051650''>no</span> <span m=''1051780''>main</span> <span m=''1052110''>function</span>
  <span m=''1052500''>here</span> <span m=''1053260''>like</span> <span m=''1053410''>you</span>
  <span m=''1053490''>see</span> <span m=''1053640''>in</span> <span m=''1053740''>Hello</span>
  <span m=''1053970''>World.</span> <span m=''1054730''>Is</span> <span m=''1054950''>there</span>
  <span m=''1055190''>comment?</span> <span m=''1056190''>Oh, sorry.</span> </p><p><span
  m=''1059207''>AUDIENCE:</span> <span m=''1059702''>The two meanings</span> <span
  m=''1060198''>of push</span> <span m=''1060693''>and</span> <span m=''1061189''>two</span>
  <span m=''1061684''>meanings</span> <span m=''1061849''>of</span> <span m=''1062014''>pop.</span>
  </p><p><span m=''1062180''>BILL THIES:</span> <span m=''1062343''>Two</span> <span
  m=''1062506''>meanings?</span> </p><p><span m=''1062670''>AUDIENCE:</span> <span
  m=''1063153''>Push 1, 2, 3.</span> </p><p><span m=''1064120''>BILL THIES:</span>
  <span m=''1064325''>Yeah,</span> <span m=''1064530''>yeah.</span> <span m=''1064970''>So</span>
  <span m=''1065280''>the</span> <span m=''1065480''>first</span> <span m=''1065760''>push</span>
  <span m=''1065980''>here</span> <span m=''1066450''>is</span> <span m=''1066780''>just</span>
  <span m=''1067000''>declaring</span> <span m=''1067970''>that</span> <span m=''1068080''>this</span>
  <span m=''1068250''>work</span> <span m=''1068490''>function</span> <span m=''1068860''>will</span>
  <span m=''1069180''>push</span> <span m=''1069500''>one</span> <span m=''1069700''>item</span>
  <span m=''1070020''>to the</span> <span m=''1070160''>output</span> <span m=''1070490''>tape.</span>
  <span m=''1071300''>So</span> <span m=''1071430''>this</span> <span m=''1071580''>is</span>
  <span m=''1071730''>the</span> <span m=''1071950''>synchronous</span> <span m=''1072230''>dataflow</span>
  <span m=''1072740''>aspect.</span> <span m=''1073450''>Were</span> <span m=''1073770''>associating</span>
  <span m=''1074320''>an</span> <span m=''1074500''>output</span> <span m=''1074900''>rate</span>
  <span m=''1075140''>with</span> <span m=''1075290''>this</span> <span m=''1075420''>work</span>
  <span m=''1075630''>function.</span> <span m=''1076510''>So</span> <span m=''1076710''>that''s
  a</span> <span m=''1077100''>declaration</span> <span m=''1077680''>here.</span>
  <span m=''1078480''>Whereas</span> <span m=''1078750''>this</span> <span m=''1078860''>push</span>
  <span m=''1079120''>is</span> <span m=''1079250''>just</span> <span m=''1079630''>actually</span>
  <span m=''1080390''>executing</span> <span m=''1080960''>the</span> <span m=''1081050''>push</span>
  <span m=''1082190''>onto</span> <span m=''1082440''>the</span> <span m=''1082540''>output.</span>
  </p><p><span m=''1083760''>So</span> <span m=''1083880''>how</span> <span m=''1083980''>do</span>
  <span m=''1084050''>we</span> <span m=''1084150''>run</span> <span m=''1084410''>this</span>
  <span m=''1084570''>thing?</span> <span m=''1086000''>Well</span> <span m=''1086150''>we</span>
  <span m=''1086230''>compile it</span> <span m=''1086720''>with</span> <span m=''1086870''>a</span>
  <span m=''1087030''>StreamIt</span> <span m=''1087270''>compiler,</span> <span m=''1087810''>store</span>
  <span m=''1088090''>C</span> <span m=''1088770''>into</span> <span m=''1089030''>a</span>
  <span m=''1089070''>binary.</span> <span m=''1089980''>And</span> <span m=''1090200''>then</span>
  <span m=''1090320''>when</span> <span m=''1090520''>we</span> <span m=''1090650''>run,</span>
  <span m=''1090940''>we</span> <span m=''1091100''>run</span> <span m=''1091320''>for</span>
  <span m=''1091470''>a</span> <span m=''1091560''>given</span> <span m=''1091810''>number
  of</span> <span m=''1092170''>iterations.</span> <span m=''1093390''>So</span> <span
  m=''1093600''>you</span> <span m=''1093710''>don''t</span> <span m=''1093850''>just</span>
  <span m=''1094010''>call</span> <span m=''1094210''>it</span> <span m=''1094320''>once.</span>
  <span m=''1095100''>Our</span> <span m=''1095430''>model</span> <span m=''1095810''>is</span>
  <span m=''1096010''>that</span> <span m=''1096120''>this</span> <span m=''1096270''>is</span>
  <span m=''1096400''>a</span> <span m=''1096470''>continuous</span> <span m=''1097340''>stream</span>
  <span m=''1097640''>of</span> <span m=''1097760''>data</span> <span m=''1098060''>going</span>
  <span m=''1098350''>through</span> <span m=''1098490''>the</span> <span m=''1098570''>program.</span>
  <span m=''1099420''>And</span> <span m=''1099710''>so</span> <span m=''1099810''>when</span>
  <span m=''1099920''>you</span> <span m=''1100030''>run</span> <span m=''1100300''>it,</span>
  <span m=''1100660''>you</span> <span m=''1100820''>run it</span> <span m=''1101070''>for</span>
  <span m=''1101180''>some</span> <span m=''1101540''>number</span> <span m=''1101900''>of</span>
  <span m=''1102110''>iterations,</span> <span m=''1102800''>or</span> <span m=''1103380''>basically</span>
  <span m=''1103870''>input</span> <span m=''1104190''>or</span> <span m=''1104280''>output</span>
  <span m=''1104670''>items,</span> <span m=''1105230''>is</span> <span m=''1105420''>what</span>
  <span m=''1105570''>you''re</span> <span m=''1105670''>running</span> <span m=''1105920''>it</span>
  <span m=''1106020''>for.</span> <span m=''1106590''>So</span> <span m=''1106810''>if</span>
  <span m=''1106890''>you</span> <span m=''1106950''>run this</span> <span m=''1107170''>for</span>
  <span m=''1107320''>four</span> <span m=''1107590''>iterations,</span> <span m=''1108250''>it</span>
  <span m=''1108360''>would</span> <span m=''1108470''>print</span> <span m=''1108610''>in</span>
  <span m=''1108670''>the</span> <span m=''1109130''>033.</span> <span m=''1111060''>So</span>
  <span m=''1111450''>we</span> <span m=''1111570''>can</span> <span m=''1111690''>leverage</span>
  <span m=''1112210''>this</span> <span m=''1112440''>steady</span> <span m=''1112770''>flow
  of</span> <span m=''1113050''>data.</span> <span m=''1113540''>Yeah</span> <span
  m=''1113710''>Amir?</span> </p><p><span m=''1115050''>AUDIENCE:</span> <span m=''1116005''>1,</span>
  <span m=''1116080''>2,</span> <span m=''1116230''>3,</span> <span m=''1116684''>4,</span>
  <span m=''1117138''>pushing</span> <span m=''1117592''>X plus plus .</span> </p><p><span
  m=''1118500''>BILL THIES:</span> <span m=''1119260''>I</span> <span m=''1119460''>think</span>
  <span m=''1119770''>the</span> <span m=''1120090''>plus, plus</span> <span m=''1120230''>is</span>
  <span m=''1120320''>executed</span> <span m=''1120610''>after the</span> <span m=''1120710''>push.</span>
  </p><p><span m=''1121140''>AUDIENCE:</span> <span m=''1121607''>Push plus plus?</span>
  </p><p><span m=''1123010''>BILL THIES:</span> <span m=''1123250''>So</span> <span
  m=''1123490''>it starts at</span> <span m=''1123840''>zero.</span> <span m=''1126570''>So</span>
  <span m=''1127060''>I</span> <span m=''1127170''>think</span> <span m=''1127990''>a</span>
  <span m=''1128420''>PostFix</span> <span m=''1128900''>expression</span> <span m=''1129500''>executes</span>
  <span m=''1129950''>after</span> <span m=''1130280''>the</span> <span m=''1130670''>actual</span>
  <span m=''1131040''>obsession.</span> <span m=''1131520''>Yeah.</span> <span m=''1133780''>Yeah.</span>
  <span m=''1136220''>Other</span> <span m=''1136410''>questions?</span> <span m=''1139680''>OK</span>
  <span m=''1139950''>so</span> <span m=''1140880''>let''s</span> <span m=''1141070''>step</span>
  <span m=''1141190''>up a</span> <span m=''1141420''>level</span> <span m=''1141670''>and</span>
  <span m=''1141810''>look</span> <span m=''1141950''>at</span> <span m=''1142200''>what</span>
  <span m=''1142370''>we</span> <span m=''1142480''>have in</span> <span m=''1142830''>StreamIt.</span>
  <span m=''1143890''>So</span> <span m=''1144020''>the</span> <span m=''1144120''>first</span>
  <span m=''1144350''>question</span> <span m=''1144640''>is,</span> <span m=''1144820''>how</span>
  <span m=''1145030''>do</span> <span m=''1145120''>you</span> <span m=''1145260''>represent</span>
  <span m=''1145840''>this</span> <span m=''1145940''>connectivity</span> <span m=''1146720''>between</span>
  <span m=''1147040''>different</span> <span m=''1147360''>building</span> <span m=''1147650''>blocks?</span>
  <span m=''1148350''>How</span> <span m=''1148610''>do</span> <span m=''1148700''>you</span>
  <span m=''1148760''>represent</span> <span m=''1149270''>streams?</span> <span m=''1150200''>And</span>
  <span m=''1150590''>if</span> <span m=''1150730''>you</span> <span m=''1150820''>look</span>
  <span m=''1150970''>at</span> <span m=''1151110''>traditional</span> <span m=''1151570''>programming</span>
  <span m=''1152050''>models,</span> <span m=''1152890''>kind</span> <span m=''1153060''>of</span>
  <span m=''1153160''>the</span> <span m=''1153230''>conventional</span> <span m=''1153810''>wisdom</span>
  <span m=''1154180''>is</span> <span m=''1154390''>that</span> <span m=''1154680''>a</span>
  <span m=''1154930''>stream</span> <span m=''1155140''>program</span> <span m=''1155460''>is</span>
  <span m=''1155560''>a</span> <span m=''1155620''>graph.</span> <span m=''1156490''>You</span>
  <span m=''1156620''>have</span> <span m=''1156720''>different</span> <span m=''1157040''>nodes</span>
  <span m=''1157390''>that</span> <span m=''1157500''>are</span> <span m=''1157560''>communicating</span>
  <span m=''1158180''>to</span> <span m=''1158310''>each</span> <span m=''1158470''>other.</span>
  <span m=''1159060''>And</span> <span m=''1159450''>graphs are</span> <span m=''1159790''>actually</span>
  <span m=''1160130''>kind</span> <span m=''1160340''>of</span> <span m=''1160410''>hard</span>
  <span m=''1160720''>to</span> <span m=''1160840''>analyze.</span> <span m=''1161350''>They''re</span>
  <span m=''1161450''>hard to</span> <span m=''1161760''>represent.</span> <span m=''1162420''>They''re
  a</span> <span m=''1162560''>little but</span> <span m=''1162830''>confusing.</span>
  <span m=''1164090''>So</span> <span m=''1164280''>the</span> <span m=''1164370''>approach</span>
  <span m=''1164680''>we</span> <span m=''1164800''>decided</span> <span m=''1165140''>to</span>
  <span m=''1165240''>take</span> <span m=''1165480''>in</span> <span m=''1165620''>StreamIt</span>
  <span m=''1166380''>is</span> <span m=''1166600''>one</span> <span m=''1166750''>of</span>
  <span m=''1166840''>a</span> <span m=''1166900''>structured</span> <span m=''1167680''>computation</span>
  <span m=''1168400''>graph.</span> <span m=''1169170''>So</span> <span m=''1169370''>instead</span>
  <span m=''1169660''>of</span> <span m=''1169740''>having</span> <span m=''1170120''>arbitrary</span>
  <span m=''1170760''>inner</span> <span m=''1170940''>connections</span> <span m=''1171520''>between</span>
  <span m=''1171880''>the stages,</span> <span m=''1173040''>we</span> <span m=''1173160''>have</span>
  <span m=''1173320''>a</span> <span m=''1173370''>higher</span> <span m=''1173720''>hierarchical</span>
  <span m=''1174150''>description</span> <span m=''1175110''>in which</span> <span
  m=''1175450''>every</span> <span m=''1175880''>individual</span> <span m=''1176460''>stage</span>
  <span m=''1176900''>has</span> <span m=''1177070''>a</span> <span m=''1177130''>single</span>
  <span m=''1177500''>input</span> <span m=''1177950''>and</span> <span m=''1178070''>a</span>
  <span m=''1178150''>single</span> <span m=''1178430''>output.</span> <span m=''1179340''>And</span>
  <span m=''1179540''>you</span> <span m=''1179620''>can</span> <span m=''1179770''>compose</span>
  <span m=''1180290''>these</span> <span m=''1180470''>together</span> <span m=''1181500''>into</span>
  <span m=''1181760''>higher</span> <span m=''1182020''>level</span> <span m=''1182260''>stages.</span>
  <span m=''1182990''>Of</span> <span m=''1183190''>course</span> <span m=''1183400''>there''s</span>
  <span m=''1183580''>some</span> <span m=''1183800''>pages</span> <span m=''1184100''>that</span>
  <span m=''1184280''>do</span> <span m=''1184430''>split</span> <span m=''1184820''>and</span>
  <span m=''1185020''>join</span> <span m=''1185450''>with</span> <span m=''1185600''>multiple</span>
  <span m=''1185960''>inputs.</span> <span m=''1186770''>We''ll</span> <span m=''1187070''>get</span>
  <span m=''1187230''>to</span> <span m=''1187310''>that.</span> </p><p><span m=''1188520''>So</span>
  <span m=''1188830''>the</span> <span m=''1188980''>analog</span> <span m=''1189390''>here</span>
  <span m=''1189730''>is</span> <span m=''1189900''>kind</span> <span m=''1190160''>of</span>
  <span m=''1190450''>ah</span> <span m=''1190690''>analogous</span> <span m=''1191220''>to</span>
  <span m=''1191940''>structured</span> <span m=''1192400''>control</span> <span m=''1192810''>flow,</span>
  <span m=''1193550''>in</span> <span m=''1193710''>your</span> <span m=''1193820''>favorite</span>
  <span m=''1194160''>imperative</span> <span m=''1194610''>programming</span> <span
  m=''1194990''>language.</span> <span m=''1195780''>Of</span> <span m=''1195900''>course</span>
  <span m=''1196090''>there</span> <span m=''1196210''>was a</span> <span m=''1196350''>day</span>
  <span m=''1197210''>when</span> <span m=''1197370''>everyone</span> <span m=''1197700''>used</span>
  <span m=''1197870''>goto</span> <span m=''1198240''>statements</span> <span m=''1199060''>instead</span>
  <span m=''1199450''>of</span> <span m=''1199630''>having</span> <span m=''1199940''>structure</span>
  <span m=''1200260''>control</span> <span m=''1200640''>flow.</span> <span m=''1201060''>We''ve
  got</span> <span m=''1201250''>a</span> <span m=''1201290''>fan</span> <span m=''1201580''>of</span>
  <span m=''1201650''>goto</span> <span m=''1201960''>statements</span> <span m=''1202360''>in</span>
  <span m=''1202430''>the</span> <span m=''1202510''>audience?</span> <span m=''1203400''>OK,</span>
  <span m=''1203960''>I''ll</span> <span m=''1204100''>get</span> <span m=''1204240''>to</span>
  <span m=''1204330''>you</span> <span m=''1204430''>later.</span> <span m=''1206550''>But</span>
  <span m=''1206680''>the</span> <span m=''1206750''>problem</span> <span m=''1207110''>was,</span>
  <span m=''1207710''>it''s</span> <span m=''1208040''>really</span> <span m=''1208250''>hard</span>
  <span m=''1208510''>to</span> <span m=''1208570''>understand</span> <span m=''1209100''>the</span>
  <span m=''1209160''>program</span> <span m=''1209940''>that''s</span> <span m=''1210150''>jumping</span>
  <span m=''1210550''>all</span> <span m=''1210850''>over</span> <span m=''1211040''>the</span>
  <span m=''1211140''>place</span> <span m=''1211770''>because</span> <span m=''1211950''>there''s</span>
  <span m=''1212110''>no</span> <span m=''1212290''>local</span> <span m=''1212710''>reasoning</span>
  <span m=''1213180''>you</span> <span m=''1213250''>can</span> <span m=''1213380''>have.</span>
  <span m=''1213910''>You</span> <span m=''1214020''>know</span> <span m=''1214250''>you''re</span>
  <span m=''1214390''>jumping</span> <span m=''1214810''>to</span> <span m=''1214920''>this</span>
  <span m=''1215110''>location,</span> <span m=''1215640''>you''re</span> <span m=''1215740''>coming</span>
  <span m=''1216010''>back</span> <span m=''1216300''>a</span> <span m=''1216350''>different</span>
  <span m=''1216670''>way.</span> <span m=''1217150''>It''s</span> <span m=''1217360''>hard</span>
  <span m=''1217530''>to</span> <span m=''1217610''>reason</span> <span m=''1217990''>about</span>
  <span m=''1218310''>program</span> <span m=''1218700''>components.</span> <span
  m=''1219950''>So</span> <span m=''1220160''>when</span> <span m=''1220230''>people</span>
  <span m=''1220360''>went</span> <span m=''1220500''>to</span> <span m=''1220600''>structured</span>
  <span m=''1220980''>control</span> <span m=''1221400''>flow,</span> <span m=''1221960''>there''s</span>
  <span m=''1222230''>just</span> <span m=''1222890''>if</span> <span m=''1223580''>else,</span>
  <span m=''1225150''>four</span> <span m=''1225540''>loop</span> <span m=''1225670''>statements.</span>
  <span m=''1226410''>Those</span> <span m=''1226870''>are</span> <span m=''1226930''>the</span>
  <span m=''1227360''>two</span> <span m=''1227510''>basic</span> <span m=''1227790''>constructs.</span>
  <span m=''1228740''>You</span> <span m=''1228860''>can</span> <span m=''1228970''>basically</span>
  <span m=''1229470''>express</span> <span m=''1230030''>all</span> <span m=''1230260''>kinds</span>
  <span m=''1230540''>of</span> <span m=''1230610''>computation</span> <span m=''1231730''>in</span>
  <span m=''1232030''>those</span> <span m=''1232250''>simple</span> <span m=''1232560''>primitives.</span>
  <span m=''1233540''>And</span> <span m=''1233730''>things</span> <span m=''1233850''>got</span>
  <span m=''1234090''>a</span> <span m=''1234150''>lot</span> <span m=''1234330''>simpler.</span>
  <span m=''1235340''>And</span> <span m=''1235610''>you</span> <span m=''1235750''>know</span>
  <span m=''1235820''>people</span> <span m=''1236100''>objected</span> <span m=''1236670''>at</span>
  <span m=''1236770''>one</span> <span m=''1236950''>point</span> <span m=''1237240''>even.</span>
  <span m=''1237500''>You</span> <span m=''1237570''>know</span> <span m=''1237680''>what</span>
  <span m=''1237830''>about</span> <span m=''1238100''>a</span> <span m=''1238250''>finite-state</span>
  <span m=''1238890''>machine?</span> <span m=''1239630''>Don''t</span> <span m=''1239800''>you</span>
  <span m=''1239910''>need</span> <span m=''1240110''>goto</span> <span m=''1240450''>statements</span>
  <span m=''1240870''>for a</span> <span m=''1241030''>finite-state</span> <span m=''1241600''>machine,</span>
  <span m=''1241990''>going</span> <span m=''1242220''>from</span> <span m=''1242410''>one</span>
  <span m=''1242620''>state</span> <span m=''1242870''>to</span> <span m=''1243000''>another</span>
  <span m=''1243700''>another.</span> <span m=''1243980''>And now</span> <span m=''1244230''>everyone</span>
  <span m=''1244540''>writes</span> <span m=''1244750''>in</span> <span m=''1244870''>FSM</span>
  <span m=''1245410''>with</span> <span m=''1245530''>a</span> <span m=''1245580''>really</span>
  <span m=''1245810''>simple</span> <span m=''1246690''>idiom.</span> <span m=''1246850''>You</span>
  <span m=''1247470''>usually</span> <span m=''1247770''>have</span> <span m=''1247880''>a</span>
  <span m=''1247980''>while</span> <span m=''1248290''>loop</span> <span m=''1248520''>around</span>
  <span m=''1248760''>a</span> <span m=''1248820''>case</span> <span m=''1249090''>statement.</span>
  <span m=''1250090''>Right,</span> <span m=''1250270''>you</span> <span m=''1250350''>have
  a</span> <span m=''1250510''>dispatch</span> <span m=''1250970''>loop.</span> <span
  m=''1251830''>So</span> <span m=''1252110''>and</span> <span m=''1252220''>now</span>
  <span m=''1252320''>whenever</span> <span m=''1252570''>you</span> <span m=''1252710''>see</span>
  <span m=''1252980''>that</span> <span m=''1253180''>pattern</span> <span m=''1253550''>you</span>
  <span m=''1253650''>can</span> <span m=''1253780''>recognize,</span> <span m=''1254230''>oh</span>
  <span m=''1254390''>there''s</span> <span m=''1254580''>a</span> <span m=''1254660''>finite-state</span>
  <span m=''1255120''>machine.</span> <span m=''1255490''>It''s</span> <span m=''1255610''>not</span>
  <span m=''1255890''>just</span> <span m=''1256070''>at</span> <span m=''1256150''>set</span>
  <span m=''1256280''>of</span> <span m=''1256410''>gotos.</span> <span m=''1257200''>It''s</span>
  <span m=''1257340''>a</span> <span m=''1257430''>finite-state</span> <span m=''1257920''>machine.</span>
  </p><p><span m=''1258840''>So</span> <span m=''1259010''>we</span> <span m=''1259120''>think</span>
  <span m=''1259270''>there are</span> <span m=''1259410''>similar</span> <span m=''1259820''>idioms</span>
  <span m=''1260280''>in</span> <span m=''1260370''>the</span> <span m=''1260460''>streaming</span>
  <span m=''1260820''>domain.</span> <span m=''1261140''>And</span> <span m=''1261230''>that''s</span>
  <span m=''1261330''>kind</span> <span m=''1261500''>of</span> <span m=''1261590''>the</span>
  <span m=''1261670''>direction</span> <span m=''1262050''>we''re</span> <span m=''1262150''>pushing</span>
  <span m=''1262560''>from</span> <span m=''1262720''>a</span> <span m=''1262820''>design</span>
  <span m=''1263170''>standpoint.</span> <span m=''1264600''>So</span> <span m=''1264800''>what</span>
  <span m=''1264970''>are our</span> <span m=''1265190''>structures</span> <span m=''1265630''>that</span>
  <span m=''1265750''>we</span> <span m=''1265850''>have?</span> <span m=''1266510''>Well</span>
  <span m=''1266630''>here</span> <span m=''1266770''>are our</span> <span m=''1266960''>structured</span>
  <span m=''1267390''>streams.</span> <span m=''1268930''>At</span> <span m=''1269170''>the</span>
  <span m=''1269310''>base we</span> <span m=''1269710''>have</span> <span m=''1269840''>a</span>
  <span m=''1269910''>filter.</span> <span m=''1270310''>That''s</span> <span m=''1270540''>just</span>
  <span m=''1270770''>the</span> <span m=''1270930''>programmable</span> <span m=''1271480''>unit</span>
  <span m=''1271860''>like</span> <span m=''1272030''>I</span> <span m=''1272090''>showed</span>
  <span m=''1272370''>you.</span> <span m=''1273100''>We</span> <span m=''1273190''>have</span>
  <span m=''1273290''>a</span> <span m=''1273340''>pipeline,</span> <span m=''1274410''>which</span>
  <span m=''1274660''>just</span> <span m=''1274850''>connects</span> <span m=''1275200''>one</span>
  <span m=''1275440''>stream</span> <span m=''1275780''>to</span> <span m=''1275910''>another</span>
  <span m=''1276430''>in</span> <span m=''1276570''>a</span> <span m=''1276630''>sequence.</span>
  <span m=''1277400''>So</span> <span m=''1277550''>this</span> <span m=''1277680''>gives</span>
  <span m=''1277830''>you</span> <span m=''1277950''>pipeline</span> <span m=''1278430''>parallelism.</span>
  <span m=''1279620''>There''s</span> <span m=''1279870''>a</span> <span m=''1279950''>splitjoin</span>
  <span m=''1280780''>where</span> <span m=''1280980''>you have</span> <span m=''1281140''>explicit</span>
  <span m=''1281700''>parallelism</span> <span m=''1282180''>in</span> <span m=''1282270''>the</span>
  <span m=''1282370''>stream.</span> <span m=''1283020''>So</span> <span m=''1283260''>I''ll</span>
  <span m=''1283360''>talk</span> <span m=''1283540''>about</span> <span m=''1283740''>what</span>
  <span m=''1283860''>these</span> <span m=''1284100''>splitters</span> <span m=''1284430''>and</span>
  <span m=''1284580''>joiners</span> <span m=''1284920''>can</span> <span m=''1285070''>do.</span>
  <span m=''1285470''>It''s</span> <span m=''1285640''>basically</span> <span m=''1285980''>a</span>
  <span m=''1286040''>predefined</span> <span m=''1286810''>pattern</span> <span m=''1287340''>of</span>
  <span m=''1287450''>scattering</span> <span m=''1288080''>data</span> <span m=''1288590''>to</span>
  <span m=''1288730''>some</span> <span m=''1288870''>child</span> <span m=''1289230''>streams,</span>
  <span m=''1289900''>and</span> <span m=''1290080''>then</span> <span m=''1290220''>gathering</span>
  <span m=''1290650''>that</span> <span m=''1290830''>data</span> <span m=''1291110''>back</span>
  <span m=''1291320''>into</span> <span m=''1291530''>a</span> <span m=''1291590''>single</span>
  <span m=''1291890''>stream.</span> <span m=''1292770''>So</span> <span m=''1292960''>the</span>
  <span m=''1293060''>whole</span> <span m=''1293560''>construct</span> <span m=''1294180''>still</span>
  <span m=''1294390''>remains</span> <span m=''1294750''>single</span> <span m=''1295040''>input</span>
  <span m=''1295380''>and</span> <span m=''1295500''>single</span> <span m=''1295740''>output.</span>
  </p><p><span m=''1297020''>Likewise</span> <span m=''1297450''>a</span> <span m=''1297520''>feedback</span>
  <span m=''1297940''>loop</span> <span m=''1298160''>is</span> <span m=''1298260''>just</span>
  <span m=''1298450''>a</span> <span m=''1298500''>simple</span> <span m=''1298830''>way</span>
  <span m=''1299070''>to</span> <span m=''1299200''>put</span> <span m=''1300610''>a</span>
  <span m=''1300720''>loop</span> <span m=''1301240''>in</span> <span m=''1301380''>your</span>
  <span m=''1301510''>stream.</span> <span m=''1302340''>And</span> <span m=''1302570''>of</span>
  <span m=''1302770''>course</span> <span m=''1302850''>these</span> <span m=''1302930''>are</span>
  <span m=''1302990''>hierarchical.</span> <span m=''1304160''>So</span> <span m=''1304370''>all
  of</span> <span m=''1304590''>these</span> <span m=''1304840''>green</span> <span
  m=''1305210''>boxes</span> <span m=''1305980''>can</span> <span m=''1306130''>be</span>
  <span m=''1306290''>any</span> <span m=''1306500''>of</span> <span m=''1306600''>the</span>
  <span m=''1306690''>three</span> <span m=''1307160''>constructs.</span> <span m=''1307910''>So
  that''s</span> <span m=''1308150''>how</span> <span m=''1308240''>you</span> <span
  m=''1308310''>can</span> <span m=''1308430''>have</span> <span m=''1308620''>these</span>
  <span m=''1308790''>hierarchical</span> <span m=''1309280''>graphs.</span> <span
  m=''1310270''>And</span> <span m=''1310730''>again,</span> <span m=''1311010''>since</span>
  <span m=''1311170''>everything</span> <span m=''1311550''>is</span> <span m=''1311610''>single-input</span>
  <span m=''1312160''>single-output,</span> <span m=''1312740''>you</span> <span m=''1312840''>can</span>
  <span m=''1312960''>really</span> <span m=''1313180''>mix</span> <span m=''1313420''>and</span>
  <span m=''1313550''>match.</span> <span m=''1313920''>You</span> <span m=''1314000''>know</span>
  <span m=''1314100''>choose</span> <span m=''1314330''>your</span> <span m=''1314450''>favorite</span>
  <span m=''1314750''>components,</span> <span m=''1315520''>and they''ll</span> <span
  m=''1315680''>always</span> <span m=''1316040''>fit</span> <span m=''1316230''>together.</span>
  <span m=''1316760''>You</span> <span m=''1316870''>don''t</span> <span m=''1317040''>need</span>
  <span m=''1317160''>to</span> <span m=''1317260''>stitch</span> <span m=''1317870''>multiple</span>
  <span m=''1318290''>connections.</span> </p><p><span m=''1320390''>So</span> <span
  m=''1320680''>let''s dive</span> <span m=''1321090''>inside</span> <span m=''1321460''>one</span>
  <span m=''1321580''>of</span> <span m=''1321660''>these</span> <span m=''1321840''>filters</span>
  <span m=''1322230''>now.</span> <span m=''1323010''>And</span> <span m=''1323680''>I</span>
  <span m=''1323770''>gave</span> <span m=''1323920''>you</span> <span m=''1324060''>a</span>
  <span m=''1324200''>feel</span> <span m=''1324340''>for</span> <span m=''1324450''>how</span>
  <span m=''1324590''>they</span> <span m=''1324710''>look</span> <span m=''1324900''>before,</span>
  <span m=''1325270''>but</span> <span m=''1325390''>here''s</span> <span m=''1325550''>a</span>
  <span m=''1325620''>little</span> <span m=''1325810''>more</span> <span m=''1325970''>detail.</span>
  <span m=''1327080''>So</span> <span m=''1327440''>how</span> <span m=''1327620''>do</span>
  <span m=''1327690''>we</span> <span m=''1327780''>program</span> <span m=''1328120''>the</span>
  <span m=''1328200''>filter?</span> <span m=''1329130''>Well</span> <span m=''1329430''>a
  filter</span> <span m=''1329610''>just</span> <span m=''1330210''>transforms</span>
  <span m=''1330830''>one</span> <span m=''1331120''>stream</span> <span m=''1331600''>into</span>
  <span m=''1331850''>another</span> <span m=''1332130''>stream.</span> <span m=''1332950''>And</span>
  <span m=''1333240''>here it''s</span> <span m=''1333660''>transforming</span> <span
  m=''1334250''>a</span> <span m=''1334340''>stream of</span> <span m=''1334640''>floating-point</span>
  <span m=''1335260''>numbers</span> <span m=''1335630''>into</span> <span m=''1335830''>another</span>
  <span m=''1336100''>floating-point</span> <span m=''1336620''>number</span> <span
  m=''1336820''>stream.</span> <span m=''1337780''>I</span> <span m=''1338070''>can</span>
  <span m=''1338260''>take</span> <span m=''1338420''>some</span> <span m=''1338580''>parameters</span>
  <span m=''1340070''>at</span> <span m=''1340190''>the</span> <span m=''1340280''>top.</span>
  <span m=''1340800''>These</span> <span m=''1341050''>actually</span> <span m=''1341350''>fixed</span>
  <span m=''1341620''>at</span> <span m=''1341740''>compile</span> <span m=''1342220''>time</span>
  <span m=''1342480''>in</span> <span m=''1342560''>our</span> <span m=''1342670''>model,</span>
  <span m=''1343310''>which</span> <span m=''1343510''>allows</span> <span m=''1343820''>the</span>
  <span m=''1343900''>compiler</span> <span m=''1344310''>to</span> <span m=''1344390''>really</span>
  <span m=''1344600''>specialize</span> <span m=''1345350''>the</span> <span m=''1345460''>filters</span>
  <span m=''1345860''>code</span> <span m=''1346480''>depending</span> <span m=''1346820''>on</span>
  <span m=''1346930''>the</span> <span m=''1347000''>context</span> <span m=''1347470''>in</span>
  <span m=''1347530''>which</span> <span m=''1347680''>it''s</span> <span m=''1347780''>being</span>
  <span m=''1348020''>used.</span> <span m=''1348720''>So for</span> <span m=''1348990''>example</span>
  <span m=''1349360''>here,</span> <span m=''1349690''>we''re</span> <span m=''1349900''>inputting</span>
  <span m=''1350460''>N</span> <span m=''1350850''>in</span> <span m=''1350990''>a</span>
  <span m=''1351040''>frequency.</span> <span m=''1352210''>And</span> <span m=''1352380''>then</span>
  <span m=''1352470''>we</span> <span m=''1352560''>have</span> <span m=''1352750''>two</span>
  <span m=''1353020''>stages</span> <span m=''1353420''>of</span> <span m=''1353500''>execution.</span>
  <span m=''1354740''>At</span> <span m=''1354910''>initialization</span> <span m=''1355640''>time--</span>
  <span m=''1356040''>this</span> <span m=''1356190''>runs</span> <span m=''1356430''>one</span>
  <span m=''1357040''>at</span> <span m=''1357190''>the</span> <span m=''1357260''>beginning</span>
  <span m=''1357700''>of</span> <span m=''1358220''>the</span> <span m=''1358340''>whole</span>
  <span m=''1358540''>program--</span> <span m=''1359590''>we</span> <span m=''1359720''>can</span>
  <span m=''1359860''>calculate</span> <span m=''1360270''>some</span> <span m=''1360420''>weights</span>
  <span m=''1360820''>for</span> <span m=''1360940''>example,</span> <span m=''1361400''>from</span>
  <span m=''1361540''>the</span> <span m=''1361620''>frequency.</span> <span m=''1362720''>And</span>
  <span m=''1363270''>we</span> <span m=''1363370''>can</span> <span m=''1363510''>store</span>
  <span m=''1363790''>those</span> <span m=''1364000''>weights</span> <span m=''1364270''>as</span>
  <span m=''1364360''>a</span> <span m=''1364470''>local</span> <span m=''1364850''>variable.</span>
  <span m=''1365550''>So</span> <span m=''1365820''>you</span> <span m=''1365930''>can</span>
  <span m=''1366050''>think</span> <span m=''1366200''>of</span> <span m=''1366260''>this</span>
  <span m=''1366410''>kind</span> <span m=''1366600''>of</span> <span m=''1366660''>like</span>
  <span m=''1366800''>a</span> <span m=''1366850''>Java</span> <span m=''1367230''>class.</span>
  <span m=''1367860''>You</span> <span m=''1367970''>can</span> <span m=''1368070''>have</span>
  <span m=''1368240''>some</span> <span m=''1368330''>member</span> <span m=''1368680''>variables.</span>
  <span m=''1369260''>You</span> <span m=''1369330''>can</span> <span m=''1369450''>retains</span>
  <span m=''1369940''>state</span> <span m=''1370180''>from one</span> <span m=''1370510''>execution
  to</span> <span m=''1371060''>the</span> <span m=''1371170''>next.</span> </p><p><span
  m=''1372350''>The</span> <span m=''1372450''>work</span> <span m=''1372720''>function</span>
  <span m=''1373180''>is</span> <span m=''1373330''>the</span> <span m=''1373410''>closest</span>
  <span m=''1373790''>thing</span> <span m=''1373990''>to</span> <span m=''1374080''>the</span>
  <span m=''1374170''>main</span> <span m=''1374460''>function.</span> <span m=''1375350''>This</span>
  <span m=''1375460''>is</span> <span m=''1375550''>called</span> <span m=''1375820''>repeatedly</span>
  <span m=''1376440''>in</span> <span m=''1376560''>the</span> <span m=''1376630''>steady</span>
  <span m=''1376930''>state.</span> <span m=''1377860''>And</span> <span m=''1378230''>here
  are</span> <span m=''1378360''>the</span> <span m=''1378590''>IO</span> <span m=''1378720''>rates</span>
  <span m=''1379060''>of</span> <span m=''1379170''>the</span> <span m=''1379250''>work</span>
  <span m=''1379460''>function.</span> <span m=''1380660''>This</span> <span m=''1380840''>filter</span>
  <span m=''1381190''>actually</span> <span m=''1381500''>peaks</span> <span m=''1381970''>at</span>
  <span m=''1382100''>some</span> <span m=''1382260''>data</span> <span m=''1382470''>items.</span>
  <span m=''1383340''>That</span> <span m=''1383470''>means</span> <span m=''1383660''>that</span>
  <span m=''1383780''>it</span> <span m=''1383880''>inspects</span> <span m=''1384790''>more</span>
  <span m=''1385050''>items</span> <span m=''1385510''>on</span> <span m=''1385640''>the</span>
  <span m=''1385790''>input</span> <span m=''1386100''>channel</span> <span m=''1386770''>than</span>
  <span m=''1386910''>it</span> <span m=''1387010''>actually</span> <span m=''1387330''>consumes</span>
  <span m=''1388060''>on</span> <span m=''1388210''>every</span> <span m=''1388450''>iteration.</span>
  <span m=''1389490''>So</span> <span m=''1389680''>we''ll</span> <span m=''1389830''>look</span>
  <span m=''1390120''>at</span> <span m=''1390280''>N</span> <span m=''1390530''>input</span>
  <span m=''1390950''>items,</span> <span m=''1391610''>and</span> <span m=''1391960''>we''ll</span>
  <span m=''1392060''>push</span> <span m=''1392440''>one</span> <span m=''1392740''>new</span>
  <span m=''1392920''>item</span> <span m=''1393240''>onto</span> <span m=''1393410''>the</span>
  <span m=''1393580''>output</span> <span m=''1394660''>and</span> <span m=''1395010''>pop</span>
  <span m=''1395470''>one</span> <span m=''1395790''>item</span> <span m=''1396080''>from</span>
  <span m=''1396240''>the</span> <span m=''1396350''>input</span> <span m=''1396680''>tape</span>
  <span m=''1397040''>every</span> <span m=''1397280''>time</span> <span m=''1397460''>we</span>
  <span m=''1397570''>execute.</span> <span m=''1399200''>So</span> <span m=''1399410''>here</span>
  <span m=''1399570''>we</span> <span m=''1399660''>have</span> <span m=''1399760''>a</span>
  <span m=''1399810''>sliding</span> <span m=''1400380''>window</span> <span m=''1400620''>computation.</span>
  <span m=''1401800''>It</span> <span m=''1401910''>means</span> <span m=''1402100''>the</span>
  <span m=''1402190''>next</span> <span m=''1402450''>time</span> <span m=''1402690''>through,</span>
  <span m=''1403510''>we''ll</span> <span m=''1403650''>just</span> <span m=''1403930''>slide</span>
  <span m=''1404210''>this</span> <span m=''1404330''>window</span> <span m=''1404670''>up</span>
  <span m=''1404850''>by</span> <span m=''1405010''>one</span> <span m=''1405680''>and</span>
  <span m=''1405860''>inspect</span> <span m=''1406190''>the</span> <span m=''1406280''>next</span>
  <span m=''1406650''>N</span> <span m=''1406860''>items</span> <span m=''1407180''>on</span>
  <span m=''1407310''>the</span> <span m=''1407390''>input</span> <span m=''1407720''>tape.</span>
  <span m=''1408830''>And</span> <span m=''1409110''>inside</span> <span m=''1409560''>the</span>
  <span m=''1409640''>work</span> <span m=''1409860''>function</span> <span m=''1410170''>you</span>
  <span m=''1410260''>can</span> <span m=''1410370''>have</span> <span m=''1410740''>pretty</span>
  <span m=''1410970''>much</span> <span m=''1411170''>general</span> <span m=''1411530''>purpose</span>
  <span m=''1411880''>code.</span> <span m=''1412590''>Right</span> <span m=''1412790''>now</span>
  <span m=''1412940''>we</span> <span m=''1413090''>just</span> <span m=''1413280''>allow</span>
  <span m=''1413510''>pointers</span> <span m=''1414030''>and</span> <span m=''1414130''>a</span>
  <span m=''1414170''>few</span> <span m=''1414330''>other</span> <span m=''1414520''>things</span>
  <span m=''1414800''>to</span> <span m=''1414880''>keep</span> <span m=''1415050''>things</span>
  <span m=''1415290''>simple.</span> <span m=''1415980''>But</span> <span m=''1416120''>the</span>
  <span m=''1416190''>idea</span> <span m=''1416520''>is</span> <span m=''1416680''>this</span>
  <span m=''1416780''>is</span> <span m=''1416920''>general</span> <span m=''1417250''>purpose</span>
  <span m=''1417580''>imperative</span> <span m=''1418050''>code</span> <span m=''1418420''>inside</span>
  <span m=''1418790''>the</span> <span m=''1418860''>work</span> <span m=''1419070''>function.</span>
  </p><p><span m=''1420380''>Now</span> <span m=''1420640''>what''s</span> <span m=''1420870''>nice</span>
  <span m=''1421180''>about</span> <span m=''1421450''>this</span> <span m=''1421590''>representations</span>
  <span m=''1422300''>of a</span> <span m=''1422360''>filter</span> <span m=''1423210''>is</span>
  <span m=''1424160''>for</span> <span m=''1424270''>one</span> <span m=''1424450''>thing</span>
  <span m=''1424650''>is</span> <span m=''1424740''>this</span> <span m=''1424900''>peak</span>
  <span m=''1425100''>function.</span> <span m=''1426020''>So</span> <span m=''1426250''>what</span>
  <span m=''1426400''>we</span> <span m=''1426510''>really</span> <span m=''1426790''>have</span>
  <span m=''1427130''>is a</span> <span m=''1427290''>nice</span> <span m=''1427590''>representation</span>
  <span m=''1428460''>of</span> <span m=''1428630''>the</span> <span m=''1428750''>data</span>
  <span m=''1429080''>pattern,</span> <span m=''1429760''>that you''re</span> <span
  m=''1429980''>reading</span> <span m=''1430430''>the</span> <span m=''1430540''>data</span>
  <span m=''1431100''>on</span> <span m=''1431270''>the</span> <span m=''1431370''>input</span>
  <span m=''1431650''>channel.</span> <span m=''1432470''>And</span> <span m=''1432780''>if</span>
  <span m=''1432850''>you</span> <span m=''1432940''>look</span> <span m=''1433110''>at</span>
  <span m=''1433180''>this</span> <span m=''1433400''>for</span> <span m=''1433490''>example</span>
  <span m=''1433930''>in</span> <span m=''1434050''>a</span> <span m=''1434110''>language</span>
  <span m=''1434390''>like</span> <span m=''1434580''>C,</span> <span m=''1435290''>it''s</span>
  <span m=''1435480''>a</span> <span m=''1435550''>lot</span> <span m=''1435790''>messier.</span>
  <span m=''1436730''>So</span> <span m=''1436880''>usually</span> <span m=''1437140''>when</span>
  <span m=''1437250''>you''re</span> <span m=''1437350''>doing</span> <span m=''1437580''>buffer</span>
  <span m=''1437920''>management,</span> <span m=''1438670''>you</span> <span m=''1438780''>have</span>
  <span m=''1438900''>to</span> <span m=''1438990''>do</span> <span m=''1439090''>some</span>
  <span m=''1439280''>modulo</span> <span m=''1439690''>operations.</span> <span m=''1440610''>You</span>
  <span m=''1440770''>have</span> <span m=''1440840''>to keep</span> <span m=''1440990''>a</span>
  <span m=''1441060''>circular</span> <span m=''1441550''>buffer</span> <span m=''1441920''>of</span>
  <span m=''1442030''>your</span> <span m=''1442160''>live</span> <span m=''1442480''>data.</span>
  <span m=''1443290''>And</span> <span m=''1443510''>increase</span> <span m=''1443880''>you</span>
  <span m=''1443970''>know,</span> <span m=''1444110''>a head</span> <span m=''1444410''>or</span>
  <span m=''1444580''>tail</span> <span m=''1444870''>pointer</span> <span m=''1445600''>and</span>
  <span m=''1445940''>mod</span> <span m=''1446210''>around</span> <span m=''1446540''>the</span>
  <span m=''1446610''>side</span> <span m=''1446930''>with</span> <span m=''1447020''>some</span>
  <span m=''1447160''>kind</span> <span m=''1447330''>of</span> <span m=''1447390''>modulo</span>
  <span m=''1447830''>operation.</span> <span m=''1448910''>And</span> <span m=''1449460''>for
  a</span> <span m=''1449670''>compiler,</span> <span m=''1450240''>this</span> <span
  m=''1450390''>is</span> <span m=''1450460''>a</span> <span m=''1450530''>real</span>
  <span m=''1450730''>nightmare.</span> <span m=''1451580''>Because</span> <span m=''1451860''>modulo</span>
  <span m=''1452230''>operations</span> <span m=''1452890''>are</span> <span m=''1453040''>kind
  of the</span> <span m=''1453260''>the</span> <span m=''1453340''>worst</span> <span
  m=''1453680''>thing</span> <span m=''1453870''>to</span> <span m=''1453960''>analyze.</span>
  <span m=''1454680''>You</span> <span m=''1454850''>can''t</span> <span m=''1455050''>see</span>
  <span m=''1455170''>what</span> <span m=''1455380''>it''s</span> <span m=''1455490''>actually</span>
  <span m=''1455800''>trying</span> <span m=''1456030''>to</span> <span m=''1456150''>read.</span>
  <span m=''1456760''>And if</span> <span m=''1456990''>you</span> <span m=''1457060''>want
  to</span> <span m=''1457250''>map this</span> <span m=''1457640''>buffer</span>
  <span m=''1457940''>to</span> <span m=''1458080''>a</span> <span m=''1458220''>network</span>
  <span m=''1458660''>or</span> <span m=''1458740''>to</span> <span m=''1458920''>a</span>
  <span m=''1459060''>combined</span> <span m=''1459620''>communication</span> <span
  m=''1460250''>with</span> <span m=''1460390''>some</span> <span m=''1460590''>other</span>
  <span m=''1461420''>actor</span> <span m=''1461705''>or</span> <span m=''1461990''>filter</span>
  <span m=''1462350''>in</span> <span m=''1462460''>the</span> <span m=''1462530''>graph,</span>
  <span m=''1463100''>it''s</span> <span m=''1463260''>pretty</span> <span m=''1463430''>much</span>
  <span m=''1463600''>impossible.</span> <span m=''1464690''>So</span> <span m=''1465350''>here</span>
  <span m=''1465740''>is</span> <span m=''1465920''>we''re</span> <span m=''1466060''>exposing</span>
  <span m=''1466530''>that</span> <span m=''1466690''>all to</span> <span m=''1466950''>the</span>
  <span m=''1467030''>compiler.</span> <span m=''1467540''>And</span> <span m=''1467940''>you''ll</span>
  <span m=''1468070''>see</span> <span m=''1468250''>how</span> <span m=''1468380''>that</span>
  <span m=''1468510''>can</span> <span m=''1468610''>make</span> <span m=''1468770''>a</span>
  <span m=''1468810''>difference.</span> <span m=''1469610''>And</span> <span m=''1469920''>also</span>
  <span m=''1470160''>it''s</span> <span m=''1470350''>just a</span> <span m=''1470390''>lot</span>
  <span m=''1470570''>easier</span> <span m=''1470790''>to</span> <span m=''1470890''>program.</span>
  <span m=''1471450''>I</span> <span m=''1471510''>mean,</span> <span m=''1471670''>I</span>
  <span m=''1471720''>don''t</span> <span m=''1471880''>like</span> <span m=''1472040''>looking</span>
  <span m=''1472280''>at</span> <span m=''1472360''>the</span> <span m=''1472490''>code.</span>
  <span m=''1473040''>So</span> <span m=''1473320''>I''m</span> <span m=''1473380''>going
  to</span> <span m=''1473520''>go</span> <span m=''1473610''>to</span> <span m=''1473680''>the</span>
  <span m=''1473750''>next</span> <span m=''1473980''>slide.</span> </p><p><span m=''1476260''>OK,</span>
  <span m=''1476530''>so</span> <span m=''1476660''>how</span> <span m=''1476810''>do</span>
  <span m=''1476910''>we</span> <span m=''1477740''>piece</span> <span m=''1477920''>things</span>
  <span m=''1478170''>together?</span> <span m=''1478930''>Let''s</span> <span m=''1479210''>just</span>
  <span m=''1479480''>build</span> <span m=''1479720''>some</span> <span m=''1479840''>higher</span>
  <span m=''1480150''>level</span> <span m=''1480390''>components.</span> <span m=''1481560''>So</span>
  <span m=''1481700''>here''s</span> <span m=''1481860''>a</span> <span m=''1481930''>pipeline</span>
  <span m=''1482970''>of</span> <span m=''1483310''>two</span> <span m=''1483510''>components.</span>
  <span m=''1484380''>And</span> <span m=''1484550''>we</span> <span m=''1484610''>already</span>
  <span m=''1484820''>saw a</span> <span m=''1485110''>pipeline.</span> <span m=''1485870''>You</span>
  <span m=''1486070''>can</span> <span m=''1486170''>just</span> <span m=''1486460''>add</span>
  <span m=''1487110''>one</span> <span m=''1487340''>component</span> <span m=''1487790''>after</span>
  <span m=''1488030''>another.</span> <span m=''1488920''>And</span> <span m=''1490070''>add</span>
  <span m=''1490250''>just</span> <span m=''1490450''>basically</span> <span m=''1490780''>has</span>
  <span m=''1491030''>the</span> <span m=''1491130''>effect</span> <span m=''1491670''>of</span>
  <span m=''1492240''>making</span> <span m=''1492530''>a</span> <span m=''1492580''>queue,</span>
  <span m=''1493390''>and</span> <span m=''1493680''>just</span> <span m=''1493870''>queueing</span>
  <span m=''1494240''>up</span> <span m=''1494790''>all</span> <span m=''1495020''>of</span>
  <span m=''1495140''>the</span> <span m=''1495710''>components</span> <span m=''1495773''>that</span>
  <span m=''1495836''>you</span> <span m=''1495900''>added,</span> <span m=''1496420''>and</span>
  <span m=''1496570''>connecting</span> <span m=''1496980''>them</span> <span m=''1497100''>one</span>
  <span m=''1497280''>after</span> <span m=''1497550''>another.</span> <span m=''1498530''>So</span>
  <span m=''1498730''>here</span> <span m=''1498980''>we</span> <span m=''1499100''>have</span>
  <span m=''1499330''>a</span> <span m=''1499550''>BandPastFilter</span> <span m=''1500980''>by</span>
  <span m=''1501080''>connecting</span> <span m=''1501500''>a</span> <span m=''1501560''>LowPassFilter</span>
  <span m=''1502580''>and</span> <span m=''1502730''>feeding</span> <span m=''1502960''>it''s</span>
  <span m=''1503030''>output</span> <span m=''1503570''>into</span> <span m=''1503830''>a</span>
  <span m=''1503890''>HighPassFilter.</span> <span m=''1504310''>You</span> <span
  m=''1505000''>end</span> <span m=''1505180''>up</span> <span m=''1505250''>with</span>
  <span m=''1505360''>a</span> <span m=''1505430''>BandPassFilter.</span> </p><p><span
  m=''1507650''>OK</span> <span m=''1507880''>what</span> <span m=''1508010''>about</span>
  <span m=''1508190''>a</span> <span m=''1508260''>splitjoin?</span> <span m=''1508850''>How</span>
  <span m=''1508960''>do</span> <span m=''1509050''>we</span> <span m=''1509140''>make</span>
  <span m=''1509370''>those?</span> <span m=''1511290''>So</span> <span m=''1511420''>a</span>
  <span m=''1511580''>splitjoin</span> <span m=''1512390''>has</span> <span m=''1513220''>an</span>
  <span m=''1513410''>add</span> <span m=''1513650''>statement</span> <span m=''1513970''>as</span>
  <span m=''1514060''>well.</span> <span m=''1514730''>And</span> <span m=''1515180''>here</span>
  <span m=''1515360''>we''re</span> <span m=''1515540''>adding</span> <span m=''1515840''>components</span>
  <span m=''1516280''>in</span> <span m=''1516360''>a</span> <span m=''1516420''>loop.</span>
  <span m=''1517260''>So</span> <span m=''1517780''>what</span> <span m=''1517920''>this</span>
  <span m=''1518080''>means</span> <span m=''1518410''>is</span> <span m=''1518610''>now</span>
  <span m=''1518880''>when</span> <span m=''1519060''>we</span> <span m=''1519180''>say</span>
  <span m=''1519460''>add,</span> <span m=''1520240''>we''re</span> <span m=''1520440''>actually</span>
  <span m=''1520710''>adding</span> <span m=''1521050''>from</span> <span m=''1521230''>left</span>
  <span m=''1521440''>to</span> <span m=''1521550''>right.</span> <span m=''1522700''>So</span>
  <span m=''1522930''>instead</span> <span m=''1523160''>of</span> <span m=''1523230''>going</span>
  <span m=''1523470''>top</span> <span m=''1523740''>to</span> <span m=''1523850''>down,</span>
  <span m=''1524170''>we''re</span> <span m=''1524260''>adding</span> <span m=''1524520''>from</span>
  <span m=''1524690''>left</span> <span m=''1524920''>to</span> <span m=''1525030''>right</span>
  <span m=''1525330''>across</span> <span m=''1525660''>the</span> <span m=''1525790''>splitjoin.</span>
  <span m=''1526610''>And</span> <span m=''1527020''>we</span> <span m=''1527110''>can</span>
  <span m=''1527200''>actually</span> <span m=''1527430''>do</span> <span m=''1527550''>that</span>
  <span m=''1527720''>in</span> <span m=''1527820''>a</span> <span m=''1527890''>loop.</span>
  <span m=''1528440''>So</span> <span m=''1528690''>here</span> <span m=''1528870''>we''re</span>
  <span m=''1528960''>intPrinting</span> <span m=''1529410''>a</span> <span m=''1529460''>parameter</span>
  <span m=''1530110''>N.</span> <span m=''1531200''>And</span> <span m=''1531420''>depending</span>
  <span m=''1531790''>on</span> <span m=''1531880''>that</span> <span m=''1532070''>value,</span>
  <span m=''1532810''>we''ll</span> <span m=''1533080''>add</span> <span m=''1533580''>N</span>
  <span m=''1534110''>BandPassFilters</span> <span m=''1535180''>to</span> <span m=''1535410''>this</span>
  <span m=''1535600''>splitjoin.</span> <span m=''1536420''>So</span> <span m=''1536620''>it''s</span>
  <span m=''1536740''>kind</span> <span m=''1536900''>of</span> <span m=''1537000''>cool,</span>
  <span m=''1537380''>right?</span> <span m=''1537590''>Because</span> <span m=''1537740''>you</span>
  <span m=''1537820''>can</span> <span m=''1537950''>input</span> <span m=''1538260''>a</span>
  <span m=''1538310''>parameter,</span> <span m=''1539280''>and</span> <span m=''1539430''>that</span>
  <span m=''1539530''>parameter</span> <span m=''1540000''>actually</span> <span m=''1540670''>affects</span>
  <span m=''1541310''>the</span> <span m=''1541420''>structure</span> <span m=''1541870''>of</span>
  <span m=''1541960''>your</span> <span m=''1542090''>graph.</span> <span m=''1543180''>So</span>
  <span m=''1543860''>this</span> <span m=''1544000''>graph</span> <span m=''1544640''>is
  unrolled</span> <span m=''1545170''>at</span> <span m=''1545270''>compiled</span>
  <span m=''1545840''>time</span> <span m=''1546340''>by our</span> <span m=''1546550''>compiler,</span>
  <span m=''1547450''>constructing</span> <span m=''1547890''>a</span> <span m=''1547970''>big</span>
  <span m=''1548350''>sequence</span> <span m=''1548830''>of</span> <span m=''1548900''>computations.</span>
  <span m=''1550110''>And it can</span> <span m=''1550330''>resolve</span> <span m=''1551080''>the</span>
  <span m=''1551220''>structure</span> <span m=''1551660''>and</span> <span m=''1551800''>communication</span>
  <span m=''1552440''>pattern</span> <span m=''1552870''>in that</span> <span m=''1553030''>graph,</span>
  <span m=''1553660''>and</span> <span m=''1553810''>then</span> <span m=''1553930''>map</span>
  <span m=''1554220''>it to</span> <span m=''1554350''>the</span> <span m=''1554530''>underlying</span>
  <span m=''1555050''>substrate</span> <span m=''1555500''>when</span> <span m=''1555600''>we</span>
  <span m=''1555690''>compile.</span> </p><p><span m=''1558820''>Also</span> <span
  m=''1559120''>to notice</span> <span m=''1559480''>here</span> <span m=''1559660''>are
  the</span> <span m=''1559800''>splitter</span> <span m=''1560200''>and</span> <span
  m=''1560320''>the</span> <span m=''1560400''>joiner.</span> <span m=''1560680''>So</span>
  <span m=''1561170''>we have</span> <span m=''1561380''>a</span> <span m=''1561460''>predefined</span>
  <span m=''1562180''>set</span> <span m=''1562340''>of</span> <span m=''1562440''>splitter</span>
  <span m=''1562700''>and</span> <span m=''1562770''>joiners.</span> <span m=''1563420''>I''ll</span>
  <span m=''1563730''>go</span> <span m=''1564010''>into</span> <span m=''1564170''>more</span>
  <span m=''1564340''>detail</span> <span m=''1565080''>later.</span> <span m=''1565760''>But</span>
  <span m=''1565900''>here</span> <span m=''1566010''>we''re</span> <span m=''1566130''>just</span>
  <span m=''1566360''>duplicating</span> <span m=''1566910''>the</span> <span m=''1566990''>data</span>
  <span m=''1567330''>to</span> <span m=''1567470''>every</span> <span m=''1567750''>one</span>
  <span m=''1567940''>of</span> <span m=''1568020''>these</span> <span m=''1568180''>parallel</span>
  <span m=''1568500''>components,</span> <span m=''1569360''>and</span> <span m=''1569590''>then</span>
  <span m=''1569700''>doing</span> <span m=''1569880''>a</span> <span m=''1569970''>round-robin</span>
  <span m=''1570640''>join</span> <span m=''1570980''>pattern</span> <span m=''1571580''>where</span>
  <span m=''1571720''>we</span> <span m=''1571830''>bring</span> <span m=''1572080''>them</span>
  <span m=''1572190''>back</span> <span m=''1572410''>together</span> <span m=''1572970''>into</span>
  <span m=''1573380''>a</span> <span m=''1573440''>single</span> <span m=''1573690''>output</span>
  <span m=''1574030''>stream.</span> <span m=''1575030''>And</span> <span m=''1575410''>if</span>
  <span m=''1575490''>you</span> <span m=''1575590''>want to</span> <span m=''1575770''>do</span>
  <span m=''1575860''>an</span> <span m=''1575960''>equalizer,</span> <span m=''1576490''>you</span>
  <span m=''1576590''>basically</span> <span m=''1576920''>need</span> <span m=''1577150''>an</span>
  <span m=''1577450''>adder</span> <span m=''1577560''>at the</span> <span m=''1577630''>bottom</span>
  <span m=''1578280''>to</span> <span m=''1578580''>add</span> <span m=''1578930''>the</span>
  <span m=''1578990''>different</span> <span m=''1579250''>components</span> <span
  m=''1579680''>together.</span> <span m=''1581310''>And</span> <span m=''1581610''>another</span>
  <span m=''1581850''>thing</span> <span m=''1582000''>you</span> <span m=''1582060''>can</span>
  <span m=''1582230''>notice</span> <span m=''1582570''>here</span> <span m=''1582810''>is</span>
  <span m=''1582990''>that we</span> <span m=''1583090''>have</span> <span m=''1583290''>some</span>
  <span m=''1583430''>inlining</span> <span m=''1583920''>going</span> <span m=''1584180''>on.</span>
  <span m=''1584960''>So</span> <span m=''1585140''>we actually</span> <span m=''1585480''>embedded</span>
  <span m=''1586120''>this</span> <span m=''1586370''>splitjoin</span> <span m=''1587290''>inside</span>
  <span m=''1588160''>a</span> <span m=''1588230''>higher</span> <span m=''1588530''>level</span>
  <span m=''1588830''>pipeline.</span> </p><p><span m=''1589980''>So</span> <span
  m=''1590180''>what</span> <span m=''1590330''>this</span> <span m=''1590630''>does</span>
  <span m=''1590740''>is</span> <span m=''1590980''>it</span> <span m=''1591220''>prevents</span>
  <span m=''1591640''>you</span> <span m=''1591770''>from</span> <span m=''1591890''>having</span>
  <span m=''1592130''>to</span> <span m=''1592260''>name</span> <span m=''1592670''>every</span>
  <span m=''1592950''>component</span> <span m=''1593420''>of</span> <span m=''1593490''>your</span>
  <span m=''1593630''>stream.</span> <span m=''1594340''>You</span> <span m=''1594500''>can</span>
  <span m=''1594610''>have</span> <span m=''1594760''>a</span> <span m=''1594810''>single</span>
  <span m=''1595790''>stream</span> <span m=''1596150''>definition</span> <span m=''1596980''>with</span>
  <span m=''1597220''>lots</span> <span m=''1597470''>of</span> <span m=''1597550''>nested</span>
  <span m=''1597870''>components.</span> <span m=''1599110''>And</span> <span m=''1599440''>the</span>
  <span m=''1599500''>natural</span> <span m=''1599790''>extension</span> <span m=''1600270''>is,</span>
  <span m=''1600430''>you</span> <span m=''1600520''>can</span> <span m=''1600640''>basically</span>
  <span m=''1601620''>scale-up</span> <span m=''1602680''>to</span> <span m=''1602770''>basically</span>
  <span m=''1603080''>the</span> <span m=''1603170''>natural</span> <span m=''1603550''>size</span>
  <span m=''1603850''>of</span> <span m=''1603910''>a</span> <span m=''1603990''>procedure,</span>
  <span m=''1604790''>just</span> <span m=''1604980''>like</span> <span m=''1605120''>you</span>
  <span m=''1605230''>would</span> <span m=''1605460''>in</span> <span m=''1605620''>an</span>
  <span m=''1605770''>imperative</span> <span m=''1606280''>language.</span> <span
  m=''1607160''>And</span> <span m=''1607360''>here is</span> <span m=''1607550''>for</span>
  <span m=''1607690''>example,</span> <span m=''1608050''>an</span> <span m=''1608160''>FM</span>
  <span m=''1608500''>radio</span> <span m=''1609570''>where we</span> <span m=''1609740''>have</span>
  <span m=''1609880''>a</span> <span m=''1609950''>few</span> <span m=''1610190''>inline</span>
  <span m=''1610640''>components.</span> <span m=''1611650''>And</span> <span m=''1612030''>the</span>
  <span m=''1612340''>interesting</span> <span m=''1612720''>thing</span> <span m=''1612950''>here</span>
  <span m=''1613340''>is</span> <span m=''1613550''>that</span> <span m=''1613680''>there''s</span>
  <span m=''1613980''>a</span> <span m=''1614070''>pretty</span> <span m=''1614340''>good</span>
  <span m=''1614530''>correspondence</span> <span m=''1615720''>between</span> <span
  m=''1616070''>the</span> <span m=''1616160''>lines</span> <span m=''1616490''>of</span>
  <span m=''1616600''>the</span> <span m=''1616690''>text</span> <span m=''1617380''>and
  the</span> <span m=''1617530''>actual</span> <span m=''1617810''>structure</span>
  <span m=''1618280''>of</span> <span m=''1618380''>the</span> <span m=''1618470''>graph.</span>
  <span m=''1619480''>And</span> <span m=''1619720''>that''s</span> <span m=''1619830''>something</span>
  <span m=''1620080''>that''s</span> <span m=''1620260''>hard</span> <span m=''1620550''>to</span>
  <span m=''1620640''>find</span> <span m=''1621010''>in</span> <span m=''1621110''>an</span>
  <span m=''1621200''>imperative</span> <span m=''1621680''>language.</span> <span
  m=''1622100''>I</span> <span m=''1622200''>mean</span> <span m=''1622320''>if</span>
  <span m=''1622410''>you</span> <span m=''1622470''>want to</span> <span m=''1623090''>for</span>
  <span m=''1623190''>example,</span> <span m=''1623540''>stitch</span> <span m=''1624360''>nodes</span>
  <span m=''1624730''>together</span> <span m=''1625120''>with</span> <span m=''1625350''>edges,</span>
  <span m=''1626230''>it''s</span> <span m=''1626380''>often</span> <span m=''1626640''>very</span>
  <span m=''1626870''>hard</span> <span m=''1627180''>to</span> <span m=''1627250''>visualize</span>
  <span m=''1628120''>the</span> <span m=''1628210''>resulting</span> <span m=''1628640''>structure</span>
  <span m=''1629080''>of</span> <span m=''1629180''>the</span> <span m=''1629250''>graph</span>
  <span m=''1629560''>that</span> <span m=''1629680''>you</span> <span m=''1629790''>have.</span>
  <span m=''1630760''>But</span> <span m=''1630910''>here</span> <span m=''1631140''>if</span>
  <span m=''1631230''>you</span> <span m=''1631310''>just</span> <span m=''1631480''>go</span>
  <span m=''1631630''>through</span> <span m=''1631830''>the</span> <span m=''1631940''>program,</span>
  <span m=''1632630''>you</span> <span m=''1632830''>can</span> <span m=''1632970''>see</span>
  <span m=''1633160''>that</span> <span m=''1633330''>the</span> <span m=''1633650''>AtoD</span>
  <span m=''1634330''>component</span> <span m=''1634820''>goes</span> <span m=''1635000''>right</span>
  <span m=''1635220''>over</span> <span m=''1635400''>to</span> <span m=''1635480''>the</span>
  <span m=''1635570''>AtoD,</span> <span m=''1636540''>the</span> <span m=''1636680''>demodulator</span>
  <span m=''1636940''>to</span> <span m=''1637210''>the</span> <span m=''1637470''>demodulator,</span>
  <span m=''1638120''>and</span> <span m=''1638290''>so</span> <span m=''1638450''>on.</span>
  <span m=''1638650''>And</span> <span m=''1638750''>even</span> <span m=''1639860''>for</span>
  <span m=''1639980''>the</span> <span m=''1640070''>parallel</span> <span m=''1640410''>components,</span>
  <span m=''1641220''>you</span> <span m=''1641300''>can</span> <span m=''1641380''>kind</span>
  <span m=''1641570''>of</span> <span m=''1641640''>piece</span> <span m=''1641860''>them</span>
  <span m=''1641960''>together.</span> </p><p><span m=''1643720''>so</span> <span
  m=''1644470''>that''s</span> <span m=''1644650''>kind</span> <span m=''1644830''>of</span>
  <span m=''1644900''>how</span> <span m=''1645000''>we</span> <span m=''1645110''>think</span>
  <span m=''1645340''>of</span> <span m=''1645460''>building</span> <span m=''1645750''>programs.</span>
  <span m=''1647520''>Any</span> <span m=''1647680''>questions</span> <span m=''1648040''>so</span>
  <span m=''1648130''>far?</span> <span m=''1651070''>OK</span> <span m=''1651370''>so</span>
  <span m=''1652010''>this</span> <span m=''1652130''>is</span> <span m=''1652390''>kind</span>
  <span m=''1652590''>of</span> <span m=''1652670''>how</span> <span m=''1652830''>you</span>
  <span m=''1652990''>go</span> <span m=''1653130''>about</span> <span m=''1653390''>programming</span>
  <span m=''1653880''>in</span> <span m=''1654020''>StreamIt.</span> <span m=''1654920''>But</span>
  <span m=''1655090''>programming</span> <span m=''1655570''>is</span> <span m=''1655690''>kind</span>
  <span m=''1655900''>of</span> <span m=''1656010''>a</span> <span m=''1656090''>chug
  n'' plug</span> <span m=''1656700''>activity</span> <span m=''1657150''>right?</span>
  <span m=''1657370''>Nobody</span> <span m=''1657610''>wants</span> <span m=''1657810''>to</span>
  <span m=''1657890''>be</span> <span m=''1657970''>a</span> <span m=''1658070''>code</span>
  <span m=''1658320''>monkey.</span> <span m=''1659140''>The</span> <span m=''1659240''>reason</span>
  <span m=''1659490''>we''re</span> <span m=''1659600''>all</span> <span m=''1659900''>here</span>
  <span m=''1660210''>is to</span> <span m=''1660320''>see</span> <span m=''1660420''>what''s</span>
  <span m=''1660600''>beautiful</span> <span m=''1661150''>about</span> <span m=''1661340''>this</span>
  <span m=''1661460''>programming</span> <span m=''1661870''>model.</span> <span m=''1662590''>Right?</span>
  <span m=''1662910''>Don</span> <span m=''1663040''>Knuth</span> <span m=''1663280''>said</span>
  <span m=''1663540''>this,</span> <span m=''1664240''>a</span> <span m=''1664540''>famous</span>
  <span m=''1664690''>computer</span> <span m=''1664990''>scientist</span> <span m=''1665290''>from</span>
  <span m=''1665410''>Stanford</span> <span m=''1665930''>during</span> <span m=''1666210''>his</span>
  <span m=''1666960''>Turing</span> <span m=''1667300''>Award</span> <span m=''1667520''>Lecture</span>
  <span m=''1668110''>you</span> <span m=''1668260''>know,</span> </p><p><span m=''1668320''>&quot;Some</span>
  <span m=''1668540''>programs</span> <span m=''1669020''>are</span> <span m=''1669190''>elegant,</span>
  <span m=''1669730''>some are</span> <span m=''1670020''>exquisite,</span> <span
  m=''1670670''>some</span> <span m=''1670870''>are</span> <span m=''1671270''>sparkling.</span>
  <span m=''1672460''>My</span> <span m=''1672630''>claim</span> <span m=''1672930''>is</span>
  <span m=''1673020''>that</span> <span m=''1673120''>it is</span> <span m=''1673240''>possible</span>
  <span m=''1673680''>to</span> <span m=''1673780''>write</span> <span m=''1674010''><i>grand</i></span>
  <span m=''1674520''>programs,</span> <span m=''1675220''><i>noble</i></span> <span
  m=''1675720''>programs,</span> <span m=''1676590''>truly</span> <span m=''1676910''><i>magnificent</i></span>
  <span m=''1677720''>ones!&quot;</span> </p><p><span m=''1678090''>Right.</span>
  <span m=''1678640''>We</span> <span m=''1678740''>want</span> <span m=''1678890''>the</span>
  <span m=''1678970''>best</span> <span m=''1679290''>programs</span> <span m=''1679790''>possible.</span>
  <span m=''1680210''>It''s</span> <span m=''1680310''>not</span> <span m=''1680490''>just</span>
  <span m=''1680640''>about</span> <span m=''1681220''>making</span> <span m=''1681510''>it</span>
  <span m=''1681620''>work.</span> <span m=''1681990''>We</span> <span m=''1682090''>want</span>
  <span m=''1682290''>really</span> <span m=''1682540''>beautiful</span> <span m=''1682980''>programs.</span>
  <span m=''1684040''>So</span> <span m=''1684200''>what''s</span> <span m=''1684360''>beautiful</span>
  <span m=''1684850''>about</span> <span m=''1685050''>the</span> <span m=''1685130''>streaming</span>
  <span m=''1685480''>domain?</span> <span m=''1686370''>What</span> <span m=''1686540''>can</span>
  <span m=''1686640''>you</span> <span m=''1686740''>go</span> <span m=''1686890''>away</span>
  <span m=''1687130''>with</span> <span m=''1687330''>and</span> <span m=''1687450''>say</span>
  <span m=''1687580''>wow,</span> <span m=''1688300''>that</span> <span m=''1688440''>was
  a</span> <span m=''1688570''>really</span> <span m=''1688820''>beautiful</span>
  <span m=''1689270''>expression</span> <span m=''1689720''>of</span> <span m=''1689800''>the</span>
  <span m=''1689890''>computation.</span> <span m=''1691540''>Well</span> <span m=''1691680''>for</span>
  <span m=''1691810''>me</span> <span m=''1692030''>I</span> <span m=''1692100''>think</span>
  <span m=''1692370''>one</span> <span m=''1692600''>of</span> <span m=''1692680''>the</span>
  <span m=''1692800''>interesting</span> <span m=''1693180''>things</span> <span m=''1693460''>here</span>
  <span m=''1693830''>is</span> <span m=''1694120''>the</span> <span m=''1694290''>splitjoin</span>
  <span m=''1694680''>contruct.</span> <span m=''1695680''>Splitjoins</span> <span
  m=''1696340''>can</span> <span m=''1696520''>really</span> <span m=''1696770''>be</span>
  <span m=''1696900''>beautiful.</span> <span m=''1698040''>You</span> <span m=''1698240''>know</span>
  <span m=''1698320''>some</span> <span m=''1698530''>mornings</span> <span m=''1698810''>I</span>
  <span m=''1698880''>just</span> <span m=''1699090''>wake</span> <span m=''1699290''>up</span>
  <span m=''1699490''>and</span> <span m=''1699580''>I''m</span> <span m=''1699730''>like,</span>
  <span m=''1700710''>oh</span> <span m=''1701740''>I''m</span> <span m=''1702000''>so</span>
  <span m=''1702300''>glad</span> <span m=''1702690''>I</span> <span m=''1702770''>live</span>
  <span m=''1702970''>in</span> <span m=''1703040''>a</span> <span m=''1703110''>world</span>
  <span m=''1703400''>with</span> <span m=''1703660''>splitjoins.</span> <span m=''1704250''>You</span>
  <span m=''1704410''>know?</span> <span m=''1705510''>And</span> <span m=''1706160''>and</span>
  <span m=''1706250''>now</span> <span m=''1706470''>splitjoins</span> <span m=''1706800''>will</span>
  <span m=''1706940''>be</span> <span m=''1707020''>part</span> <span m=''1707240''>of</span>
  <span m=''1707320''>your</span> <span m=''1707490''>world.</span> <span m=''1707820''>You</span>
  <span m=''1707910''>can</span> <span m=''1708040''>say</span> <span m=''1708200''>this</span>
  <span m=''1708400''>tomorrow.</span> <span m=''1709010''>This</span> <span m=''1709290''>is</span>
  <span m=''1709460''>just</span> <span m=''1709650''>wonderful.</span> </p><p><span
  m=''1710380''>So</span> <span m=''1710720''>OK,</span> <span m=''1710950''>what</span>
  <span m=''1711150''>do</span> <span m=''1711210''>we</span> <span m=''1711290''>having</span>
  <span m=''1711580''>in</span> <span m=''1711670''>the splitjoin</span> <span m=''1712120''>constructs?</span>
  <span m=''1712840''>You</span> <span m=''1713050''>can</span> <span m=''1713220''>duplicate</span>
  <span m=''1713690''>data.</span> <span m=''1714900''>You</span> <span m=''1715070''>can</span>
  <span m=''1715180''>do</span> <span m=''1715300''>a</span> <span m=''1715380''>round-robin</span>
  <span m=''1716080''>communication</span> <span m=''1716680''>pattern</span> <span
  m=''1717260''>from</span> <span m=''1717490''>one</span> <span m=''1717650''>to</span>
  <span m=''1717780''>another,</span> <span m=''1718330''>or</span> <span m=''1718640''>round-robin</span>
  <span m=''1719240''>join.</span> <span m=''1720130''>Now</span> <span m=''1720290''>the</span>
  <span m=''1720400''>duplicate</span> <span m=''1720720''>is</span> <span m=''1720820''>pretty</span>
  <span m=''1721070''>simple.</span> <span m=''1722300''>You</span> <span m=''1722450''>just</span>
  <span m=''1722640''>take</span> <span m=''1722800''>the</span> <span m=''1722910''>input</span>
  <span m=''1723220''>stream</span> <span m=''1723550''>and</span> <span m=''1723700''>duplicate</span>
  <span m=''1724090''>it to</span> <span m=''1724250''>all</span> <span m=''1724410''>the</span>
  <span m=''1724500''>children.</span> <span m=''1725440''>No</span> <span m=''1725650''>problem.</span>
  <span m=''1727240''>What</span> <span m=''1727390''>do</span> <span m=''1727450''>you</span>
  <span m=''1727510''>do</span> <span m=''1727600''>for</span> <span m=''1727760''>a</span>
  <span m=''1727850''>round-robin?</span> <span m=''1728980''>Well</span> <span m=''1729160''>you</span>
  <span m=''1729800''>path</span> <span m=''1730300''>N</span> <span m=''1730590''>items</span>
  <span m=''1731220''>from</span> <span m=''1731430''>the</span> <span m=''1731540''>input</span>
  <span m=''1732020''>to</span> <span m=''1732170''>a</span> <span m=''1732240''>given</span>
  <span m=''1732530''>child.</span> <span m=''1733260''>So</span> <span m=''1733480''>for</span>
  <span m=''1733590''>example,</span> <span m=''1734110''>if</span> <span m=''1734330''>N
  is</span> <span m=''1734470''>1,</span> <span m=''1735670''>we''ll</span> <span
  m=''1735800''>just</span> <span m=''1735980''>distribute</span> <span m=''1736500''>one</span>
  <span m=''1736790''>at</span> <span m=''1736890''>a</span> <span m=''1736950''>time</span>
  <span m=''1737680''>to</span> <span m=''1737820''>the</span> <span m=''1737900''>child</span>
  <span m=''1738220''>streams.</span> <span m=''1739540''>And</span> <span m=''1739720''>you</span>
  <span m=''1739800''>get</span> <span m=''1739900''>a</span> <span m=''1739940''>pattern</span>
  <span m=''1740260''>like</span> <span m=''1740430''>this,</span> <span m=''1740960''>a
  round-robin</span> <span m=''1742080''>just</span> <span m=''1742290''>going</span>
  <span m=''1742530''>across.</span> <span m=''1743890''>And</span> <span m=''1744220''>you</span>
  <span m=''1744280''>can</span> <span m=''1744370''>do</span> <span m=''1744450''>the</span>
  <span m=''1744560''>same</span> <span m=''1744800''>thing</span> <span m=''1745020''>on</span>
  <span m=''1745140''>the</span> <span m=''1745200''>joiner</span> <span m=''1745550''>side.</span>
  <span m=''1746290''>Let''s</span> <span m=''1746470''>say</span> <span m=''1746560''>you''re</span>
  <span m=''1746720''>joining</span> <span m=''1747200''>with</span> <span m=''1747330''>a</span>
  <span m=''1747410''>factor</span> <span m=''1747660''>of</span> <span m=''1747800''>one.</span>
  <span m=''1749310''>You''re</span> <span m=''1749460''>just</span> <span m=''1749780''>reading</span>
  <span m=''1750090''>from</span> <span m=''1750250''>the</span> <span m=''1750800''>children</span>
  <span m=''1751720''>and</span> <span m=''1751970''>putting</span> <span m=''1752170''>them</span>
  <span m=''1752290''>into</span> <span m=''1752490''>a</span> <span m=''1752540''>single</span>
  <span m=''1752820''>stream.</span> <span m=''1754530''>OK</span> <span m=''1754760''>so</span>
  <span m=''1754920''>the</span> <span m=''1755050''>pretty</span> <span m=''1755260''>colorful,</span>
  <span m=''1755710''>but</span> <span m=''1755830''>nothing</span> <span m=''1756120''>too</span>
  <span m=''1756230''>fancy</span> <span m=''1756600''>yet.</span> </p><p><span m=''1758190''>Let''s</span>
  <span m=''1758400''>consider</span> <span m=''1758740''>a</span> <span m=''1758820''>different</span>
  <span m=''1759240''>round-robin</span> <span m=''1759730''>factor.</span> <span
  m=''1760460''>So a</span> <span m=''1760690''>round-robin</span> <span m=''1761150''>of</span>
  <span m=''1761280''>2</span> <span m=''1762750''>means</span> <span m=''1763020''>that</span>
  <span m=''1763120''>we</span> <span m=''1763230''>peel</span> <span m=''1763450''>off</span>
  <span m=''1763640''>2</span> <span m=''1763880''>items</span> <span m=''1764280''>from</span>
  <span m=''1764420''>the</span> <span m=''1764520''>input,</span> <span m=''1765310''>and</span>
  <span m=''1765560''>pass</span> <span m=''1765790''>those</span> <span m=''1765970''>items</span>
  <span m=''1766280''>to</span> <span m=''1766370''>the</span> <span m=''1766470''>first</span>
  <span m=''1766790''>output.</span> <span m=''1767760''>OK</span> <span m=''1768070''>there</span>
  <span m=''1768190''>actually</span> <span m=''1768460''>is</span> <span m=''1768600''>going
  to</span> <span m=''1768760''>be</span> <span m=''1768840''>a</span> <span m=''1768910''>quiz</span>
  <span m=''1769140''>on</span> <span m=''1769300''>this.</span> <span m=''1769590''>So</span>
  <span m=''1770010''>ask</span> <span m=''1770210''>questions</span> <span m=''1770570''>of</span>
  <span m=''1770640''>this doesn''t</span> <span m=''1770950''>make</span> <span m=''1771190''>sense.</span>
  <span m=''1772630''>OK</span> <span m=''1772870''>pass</span> <span m=''1773060''>the</span>
  <span m=''1773130''>next</span> <span m=''1773390''>2</span> <span m=''1773500''>items,</span>
  <span m=''1774640''>and</span> <span m=''1775020''>2</span> <span m=''1775160''>items</span>
  <span m=''1775490''>round-robin</span> <span m=''1776050''>like</span> <span m=''1776220''>that.</span>
  <span m=''1777290''>And</span> <span m=''1777610''>you</span> <span m=''1777670''>can</span>
  <span m=''1777770''>actually</span> <span m=''1778050''>have</span> <span m=''1778240''>nonuniform</span>
  <span m=''1779010''>weights</span> <span m=''1779210''>if</span> <span m=''1779330''>you</span>
  <span m=''1779440''>want</span> <span m=''1779640''>to.</span> <span m=''1780210''>So</span>
  <span m=''1780520''>on</span> <span m=''1780680''>the</span> <span m=''1780750''>right</span>
  <span m=''1781050''>let''s</span> <span m=''1781210''>say</span> <span m=''1781360''>we''re</span>
  <span m=''1781470''>doing</span> <span m=''1781740''>round-robin</span> <span m=''1782250''>1,</span>
  <span m=''1782540''>2,</span> <span m=''1782740''>3.</span> <span m=''1783270''>That</span>
  <span m=''1783940''>means</span> <span m=''1784200''>we</span> <span m=''1784310''>pass</span>
  <span m=''1784500''>1</span> <span m=''1784750''>item</span> <span m=''1785000''>from</span>
  <span m=''1785150''>the</span> <span m=''1785220''>first</span> <span m=''1785490''>stream,</span>
  <span m=''1786010''>2</span> <span m=''1786180''>items</span> <span m=''1786490''>from</span>
  <span m=''1786620''>the</span> <span m=''1786690''>next</span> <span m=''1786960''>stream,</span>
  <span m=''1787550''>and</span> <span m=''1787750''>then</span> <span m=''1787860''>3</span>
  <span m=''1788070''>items</span> <span m=''1788350''>from</span> <span m=''1788480''>the</span>
  <span m=''1788560''>third</span> <span m=''1788820''>stream.</span> <span m=''1789670''>OK,</span>
  <span m=''1789850''>pretty</span> <span m=''1790110''>simple.</span> <span m=''1790460''>We''re</span>
  <span m=''1790630''>just doing</span> <span m=''1790850''>1,</span> <span m=''1791160''>2,</span>
  <span m=''1791360''>and</span> <span m=''1791510''>3,</span> <span m=''1791940''>and</span>
  <span m=''1792150''>so</span> <span m=''1792290''>on.</span> <span m=''1793160''>Does</span>
  <span m=''1793310''>that</span> <span m=''1793450''>make</span> <span m=''1793620''>sense?</span>
  <span m=''1794260''>I''m</span> <span m=''1794370''>going</span> <span m=''1794490''>to</span>
  <span m=''1794560''>build</span> <span m=''1794800''>on</span> <span m=''1794930''>this</span>
  <span m=''1795230''>so</span> <span m=''1796010''>any</span> <span m=''1796180''>questions?</span>
  <span m=''1799050''>OK</span> <span m=''1799230''>this</span> <span m=''1799400''>was</span>
  <span m=''1799500''>colorful</span> <span m=''1800060''>but</span> <span m=''1800190''>this</span>
  <span m=''1800780''>totally</span> <span m=''1801110''>beautiful</span> <span m=''1801470''>yet.</span>
  <span m=''1801780''>So</span> <span m=''1802010''>what''s</span> <span m=''1802400''>beautiful</span>
  <span m=''1802770''>about</span> <span m=''1802980''>this?</span> </p><p><span m=''1803670''>well</span>
  <span m=''1803920''>let''s</span> <span m=''1804080''>see</span> <span m=''1804230''>how</span>
  <span m=''1804360''>you</span> <span m=''1804470''>might</span> <span m=''1804670''>write</span>
  <span m=''1804910''>a</span> <span m=''1804980''>matrix</span> <span m=''1805150''>transpose.</span>
  <span m=''1806440''>OK,</span> <span m=''1806680''>something</span> <span m=''1807100''>you</span>
  <span m=''1807290''>guys have</span> <span m=''1807600''>probably</span> <span m=''1807940''>all</span>
  <span m=''1808160''>written</span> <span m=''1808410''>at</span> <span m=''1808520''>one</span>
  <span m=''1808720''>point</span> <span m=''1808910''>in</span> <span m=''1808970''>your</span>
  <span m=''1809100''>life</span> <span m=''1809350''>is</span> <span m=''1809590''>transposing</span>
  <span m=''1810170''>a</span> <span m=''1810230''>matrix.</span> <span m=''1811120''>Let''s</span>
  <span m=''1811270''>say</span> <span m=''1811380''>this</span> <span m=''1811560''>matrix</span>
  <span m=''1811900''>has</span> <span m=''1812160''>M</span> <span m=''1812440''>rows,</span>
  <span m=''1813290''>and</span> <span m=''1813450''>it</span> <span m=''1813510''>has</span>
  <span m=''1813720''>N</span> <span m=''1814010''>columns</span> <span m=''1814430''>going</span>
  <span m=''1814670''>across.</span> <span m=''1815600''>And</span> <span m=''1815860''>we''re</span>
  <span m=''1815960''>starting</span> <span m=''1816350''>with</span> <span m=''1816510''>a</span>
  <span m=''1816570''>representation</span> <span m=''1817400''>in</span> <span m=''1817540''>which</span>
  <span m=''1817710''>the</span> <span m=''1817830''>stream</span> <span m=''1818200''>is</span>
  <span m=''1818300''>basically,</span> <span m=''1818760''>I</span> <span m=''1818970''>think</span>
  <span m=''1819130''>this is</span> <span m=''1819280''>row</span> <span m=''1819520''>major</span>
  <span m=''1819820''>order.</span> <span m=''1820660''>The</span> <span m=''1820780''>first</span>
  <span m=''1821080''>thing</span> <span m=''1821300''>that</span> <span m=''1821400''>you''re</span>
  <span m=''1821500''>doing</span> <span m=''1821770''>is</span> <span m=''1821860''>going</span>
  <span m=''1822040''>across</span> <span m=''1822430''>the</span> <span m=''1822520''>rows</span>
  <span m=''1823430''>before</span> <span m=''1823710''>you''re</span> <span m=''1823810''>going</span>
  <span m=''1824020''>to</span> <span m=''1824100''>the</span> <span m=''1824190''>next</span>
  <span m=''1824610''>the</span> <span m=''1824750''>next</span> <span m=''1824990''>row.</span>
  <span m=''1825340''>I''m</span> <span m=''1825430''>sorry</span> <span m=''1825580''>you''re</span>
  <span m=''1825820''>going</span> <span m=''1826040''>across the</span> <span m=''1826130''>columns,</span>
  <span m=''1827180''>and</span> <span m=''1827310''>then</span> <span m=''1827400''>down</span>
  <span m=''1827600''>to</span> <span m=''1827680''>the</span> <span m=''1827760''>next</span>
  <span m=''1828000''>row.</span> <span m=''1828770''>So</span> <span m=''1829020''>it''s</span>
  <span m=''1829120''>zigzagging</span> <span m=''1829660''>like</span> <span m=''1829830''>this.</span>
  <span m=''1830710''>And</span> <span m=''1830900''>you</span> <span m=''1830960''>want</span>
  <span m=''1831040''>to pass through</span> <span m=''1831540''>a transpose,</span>
  <span m=''1832540''>so</span> <span m=''1832760''>you</span> <span m=''1833020''>zigzag</span>
  <span m=''1833250''>the</span> <span m=''1833370''>other</span> <span m=''1833560''>way.</span>
  <span m=''1834420''>You</span> <span m=''1834540''>do</span> <span m=''1834760''>the</span>
  <span m=''1834880''>first</span> <span m=''1835120''>column,</span> <span m=''1836080''>up,</span>
  <span m=''1836330''>and</span> <span m=''1836470''>then</span> <span m=''1836560''>the</span>
  <span m=''1836620''>next</span> <span m=''1836870''>column,</span> <span m=''1837650''>and</span>
  <span m=''1837980''>so</span> <span m=''1838140''>on.</span> <span m=''1838340''>And</span>
  <span m=''1838440''>this</span> <span m=''1838510''>comes</span> <span m=''1838750''>up</span>
  <span m=''1838870''>a</span> <span m=''1838920''>lot</span> <span m=''1839210''>in</span>
  <span m=''1839300''>a</span> <span m=''1839390''>stream</span> <span m=''1839630''>program.</span>
  </p><p><span m=''1841110''>So</span> <span m=''1841310''>it</span> <span m=''1841390''>turns</span>
  <span m=''1841650''>out</span> <span m=''1841840''>you</span> <span m=''1841920''>can</span>
  <span m=''1842030''>represent</span> <span m=''1842480''>this</span> <span m=''1842610''>as</span>
  <span m=''1842770''>a</span> <span m=''1842930''>splitjoin.</span> <span m=''1844080''>Oh</span>
  <span m=''1844750''>that''s</span> <span m=''1845000''>not</span> <span m=''1845190''>good.</span>
  <span m=''1848110''>Just</span> <span m=''1848400''>in</span> <span m=''1848480''>my</span>
  <span m=''1848590''>moment</span> <span m=''1848940''>in</span> <span m=''1849020''>glory</span>
  <span m=''1849480''>as</span> <span m=''1849620''>well.</span> <span m=''1852420''>OK,</span>
  <span m=''1852860''>yeah</span> <span m=''1853050''>slides.</span> <span m=''1853430''>You</span>
  <span m=''1853510''>can</span> <span m=''1853620''>download</span> <span m=''1854030''>slides.</span>
  <span m=''1857540''>Actually</span> <span m=''1857790''>I</span> <span m=''1857820''>can</span>
  <span m=''1857920''>do</span> <span m=''1858000''>this</span> <span m=''1858140''>on</span>
  <span m=''1858260''>the</span> <span m=''1858340''>board.</span> <span m=''1858670''>This</span>
  <span m=''1858780''>is</span> <span m=''1858920''>the</span> <span m=''1858980''>thinking</span>
  <span m=''1859290''>part</span> <span m=''1859500''>anyway.</span> <span m=''1859980''>Yeah,</span>
  <span m=''1860130''>could</span> <span m=''1860280''>you</span> <span m=''1861040''>just</span>
  <span m=''1861220''>bring</span> <span m=''1861390''>up</span> <span m=''1861560''>GMail?</span>
  <span m=''1861910''>I</span> <span m=''1862020''>have</span> <span m=''1862160''>a</span>
  <span m=''1862230''>backup</span> <span m=''1862560''>on</span> <span m=''1862670''>GMail.</span>
  <span m=''1863820''>Can</span> <span m=''1864010''>we</span> <span m=''1864125''>focus</span>
  <span m=''1864240''>on</span> <span m=''1864350''>the</span> <span m=''1864410''>board?</span>
  <span m=''1865880''>So</span> <span m=''1866120''>this is</span> <span m=''1866270''>going
  to</span> <span m=''1866430''>be</span> <span m=''1866490''>a</span> <span m=''1866550''>little</span>
  <span m=''1866720''>exercise</span> <span m=''1867290''>anyway.</span> <span m=''1869990''>OK,</span>
  <span m=''1872550''>here''s</span> <span m=''1872720''>what</span> <span m=''1872830''>we</span>
  <span m=''1872950''>had.</span> <span m=''1874380''>We</span> <span m=''1874510''>had</span>
  <span m=''1875050''>M,</span> <span m=''1877880''>M</span> <span m=''1878080''>rows,</span>
  <span m=''1878420''>N</span> <span m=''1878660''>columns.</span> <span m=''1880230''>We</span>
  <span m=''1880360''>started</span> <span m=''1880670''>with</span> <span m=''1880800''>an</span>
  <span m=''1880880''>interleaving</span> <span m=''1881360''>like</span> <span m=''1881530''>this.</span>
  <span m=''1887640''>Right,</span> <span m=''1887890''>and</span> <span m=''1887980''>we</span>
  <span m=''1888060''>want to</span> <span m=''1888270''>go</span> <span m=''1888380''>into</span>
  <span m=''1888570''>a</span> <span m=''1888630''>splitjoin.</span> <span m=''1891060''>And</span>
  <span m=''1891210''>this will</span> <span m=''1891370''>be</span> <span m=''1891460''>a</span>
  <span m=''1891540''>round-robin</span> <span m=''1892160''>construct.</span> <span
  m=''1893030''>And</span> <span m=''1893200''>what</span> <span m=''1893300''>I</span>
  <span m=''1893340''>want</span> <span m=''1893490''>you</span> <span m=''1893560''>to</span>
  <span m=''1893660''>do</span> <span m=''1893820''>is</span> <span m=''1894070''>fill
  in</span> <span m=''1894440''>the</span> <span m=''1894530''>round-robin</span>
  <span m=''1895090''>weight,</span> <span m=''1896100''>and</span> <span m=''1896490''>also</span>
  <span m=''1896770''>the</span> <span m=''1896880''>number</span> <span m=''1897220''>of</span>
  <span m=''1897320''>the</span> <span m=''1897380''>streams.</span> <span m=''1900580''>And</span>
  <span m=''1900780''>you</span> <span m=''1900880''>can have</span> <span m=''1901020''>a</span>
  <span m=''1901090''>round-robin</span> <span m=''1901570''>at</span> <span m=''1901660''>the</span>
  <span m=''1901730''>bottom.</span> <span m=''1904690''>And</span> <span m=''1904920''>when</span>
  <span m=''1905010''>it</span> <span m=''1905070''>comes</span> <span m=''1905320''>out,</span>
  <span m=''1907390''>you</span> <span m=''1907570''>want</span> <span m=''1907700''>the</span>
  <span m=''1907770''>opposite</span> <span m=''1908240''>interleaving.</span> <span
  m=''1916130''>This</span> <span m=''1916320''>is M</span> <span m=''1916970''>and</span>
  <span m=''1917160''>N.</span> </p><p><span m=''1920990''>OK</span> <span m=''1921740''>so</span>
  <span m=''1921990''>there are</span> <span m=''1923160''>3</span> <span m=''1923910''>unknowns</span>
  <span m=''1924130''>here,</span> <span m=''1925480''>what</span> <span m=''1925700''>you''re</span>
  <span m=''1925800''>doing</span> <span m=''1925980''>the</span> <span m=''1926060''>round-robin</span>
  <span m=''1926640''>by--</span> <span m=''1927490''>can</span> <span m=''1927600''>you</span>
  <span m=''1927675''>guys</span> <span m=''1927750''>see</span> <span m=''1927850''>that</span>
  <span m=''1928010''>over</span> <span m=''1928140''>there--</span> <span m=''1929410''>how</span>
  <span m=''1929600''>many</span> <span m=''1929770''>parallel</span> <span m=''1930140''>streams</span>
  <span m=''1930480''>there</span> <span m=''1930610''>are,</span> <span m=''1931880''>and</span>
  <span m=''1932060''>what</span> <span m=''1932170''>you''re</span> <span m=''1932290''>joining</span>
  <span m=''1932710''>the</span> <span m=''1932790''>round-robin</span> <span m=''1933300''>by.</span>
  <span m=''1937520''>Ok so</span> <span m=''1937770''>I''m</span> <span m=''1937850''>going
  to</span> <span m=''1937980''>give</span> <span m=''1938070''>you</span> <span m=''1938180''>a
  minute</span> <span m=''1938460''>to think</span> <span m=''1938620''>about</span>
  <span m=''1938840''>this.</span> <span m=''1939170''>Try</span> <span m=''1939340''>to</span>
  <span m=''1939440''>think</span> <span m=''1939620''>about</span> <span m=''1939790''>this.</span>
  <span m=''1939960''>See</span> <span m=''1940360''>if</span> <span m=''1940500''>you</span>
  <span m=''1940570''>can</span> <span m=''1940690''>figure</span> <span m=''1940890''>out</span>
  <span m=''1941090''>what these</span> <span m=''1941250''>constants</span> <span
  m=''1941640''>are.</span> <span m=''1942170''>You</span> <span m=''1942390''>just
  basically</span> <span m=''1942730''>want</span> <span m=''1942890''>to</span> <span
  m=''1942950''>read</span> <span m=''1943230''>from</span> <span m=''1943350''>this</span>
  <span m=''1943530''>data</span> <span m=''1943850''>in</span> <span m=''1943970''>a</span>
  <span m=''1944040''>row</span> <span m=''1944260''>major</span> <span m=''1944570''>pattern,</span>
  <span m=''1945750''>M</span> <span m=''1946050''>rows</span> <span m=''1946480''>and</span>
  <span m=''1946640''>N</span> <span m=''1946840''>columns,</span> <span m=''1948110''>and</span>
  <span m=''1948320''>end</span> <span m=''1948500''>up</span> <span m=''1948640''>with</span>
  <span m=''1948770''>something</span> <span m=''1949070''>that''s</span> <span m=''1949180''>column</span>
  <span m=''1949550''>major.</span> <span m=''1951450''>What</span> <span m=''1951650''>are</span>
  <span m=''1951720''>the</span> <span m=''1951820''>values</span> <span m=''1952210''>for</span>
  <span m=''1952300''>the</span> <span m=''1952390''>constant?</span> <span m=''1955130''>Does
  it</span> <span m=''1955230''>makes</span> <span m=''1955410''>sense?</span> <span
  m=''1955570''>Ask</span> <span m=''1955770''>a</span> <span m=''1955850''>question</span>
  <span m=''1956180''>if</span> <span m=''1956270''>it</span> <span m=''1956350''>doesn''t</span>
  <span m=''1956570''>make</span> <span m=''1956690''>sense.</span> <span m=''1956920''>Yeah?</span>
  </p><p><span m=''1958870''>AUDIENCE:</span> <span m=''1958957''>So</span> <span
  m=''1959044''>we</span> <span m=''1959131''>assume</span> <span m=''1959218''>that</span>
  <span m=''1959392''>values</span> <span m=''1959479''>are</span> <span m=''1959566''>going</span>
  <span m=''1959653''>to,</span> <span m=''1959740''>based</span> <span m=''1960720''>on</span>
  <span m=''1960980''>the</span> <span m=''1961240''>line</span> <span m=''1961500''>that</span>
  <span m=''1961760''>you</span> <span m=''1962020''>drew,</span> <span m=''1963150''>across
  it,</span> <span m=''1963370''>tests</span> <span m=''1963940''>like a</span> <span
  m=''1964130''>stream line?</span> </p><p><span m=''1965070''>BILL THIES: Right,</span>
  <span m=''1965290''>right,</span> <span m=''1965590''>right.</span> <span m=''1965960''>So</span>
  <span m=''1966190''>those</span> <span m=''1966280''>values</span> <span m=''1966420''>are</span>
  <span m=''1966730''>coming</span> <span m=''1967030''>down</span> <span m=''1967240''>the</span>
  <span m=''1967340''>stream.</span> <span m=''1967860''>You</span> <span m=''1967980''>have
  a</span> <span m=''1968130''>1-dimensional</span> <span m=''1968810''>stream.</span>
  <span m=''1969870''>It''s</span> <span m=''1970050''>interleaved</span> <span m=''1970490''>like</span>
  <span m=''1970680''>this.</span> <span m=''1970870''>So</span> <span m=''1971090''>you''ll</span>
  <span m=''1971230''>be</span> <span m=''1971340''>reading</span> <span m=''1971610''>them</span>
  <span m=''1971730''>like</span> <span m=''1971880''>this.</span> <span m=''1972850''>And</span>
  <span m=''1972980''>then</span> <span m=''1973080''>you</span> <span m=''1973170''>the</span>
  <span m=''1973280''>output</span> <span m=''1973380''>a</span> <span m=''1973440''>1-dimensional</span>
  <span m=''1974060''>stream</span> <span m=''1974360''>that</span> <span m=''1974500''>is</span>
  <span m=''1975620''>threading</span> <span m=''1975880''>the</span> <span m=''1975950''>columns.</span>
  <span m=''1977170''>Does that make</span> <span m=''1977420''>sense?</span> <span
  m=''1977530''>Somebody</span> <span m=''1977750''>ask</span> <span m=''1977910''>another</span>
  <span m=''1978150''>question.</span> <span m=''1980950''>Yeah</span> </p><p><span
  m=''1981840''>AUDIENCE: So</span> <span m=''1984320''>the actual</span> <span m=''1984770''>matrix</span>
  <span m=''1985670''>transpose</span> <span m=''1985920''>codes,</span> <span m=''1987820''>it''s</span>
  <span m=''1987970''>my</span> <span m=''1988470''>understand</span> <span m=''1988910''>that
  nobody</span> <span m=''1989070''>actually</span> <span m=''1989580''>does it</span>
  <span m=''1990140''>sequentially</span> <span m=''1990690''>like</span> <span m=''1990930''>that</span>
  <span m=''1991560''>because of</span> <span m=''1991970''>locality</span> <span
  m=''1993090''>issues.</span> <span m=''1993300''>Instead</span> <span m=''1993580''>it''s</span>
  <span m=''1993840''>broken</span> <span m=''1994170''>up</span> <span m=''1994930''>into</span>
  <span m=''1995470''>blocks.</span> </p><p><span m=''1995690''>BILL THIES:</span>
  <span m=''1995782''>So</span> <span m=''1995875''>there</span> <span m=''1995967''>are</span>
  <span m=''1996060''>ways to</span> <span m=''1996330''>optimize</span> <span m=''1996900''>this.</span>
  </p><p><span m=''1998900''>AUDIENCE: And after</span> <span m=''1999140''>you''ve
  sort of</span> <span m=''1999430''>serialized it,</span> <span m=''2000150''>can
  you</span> <span m=''2001150''>then</span> <span m=''2001790''>capture..</span>
  </p><p><span m=''2005000''>PROFESSOR: Guys,</span> <span m=''2005110''>[UNINTELLIGIBLE
  PHRASE]</span> <span m=''2006510''>has</span> <span m=''2006760''>a</span> <span
  m=''2007060''>blocking segment.</span> <span m=''2008260''>So</span> <span m=''2008430''>you</span>
  <span m=''2008930''>can</span> <span m=''2009490''>heirarchically</span> <span m=''2010050''>do
  that.</span> <span m=''2010540''>So,</span> <span m=''2011540''>normally what happens
  is you</span> <span m=''2011840''>do</span> <span m=''2012710''>the</span> <span
  m=''2013320''>blocks</span> <span m=''2013810''>and</span> <span m=''2014006''>inside</span>
  <span m=''2014203''>the</span> <span m=''2014400''>blocks,</span> <span m=''2014596''>you</span>
  <span m=''2014793''>can</span> <span m=''2014990''>do</span> <span m=''2015186''>it</span>
  <span m=''2015383''>again.</span> <span m=''2015580''>You can do</span> <span m=''2016240''>it</span>
  <span m=''2016284''>at</span> <span m=''2016328''>two</span> <span m=''2016372''>levels,</span>
  <span m=''2016416''>basically.</span> </p><p></p><p><span m=''2025950''>BILL THIES:
  Any</span> <span m=''2026090''>hypotheses?</span> <span m=''2026390''>Anyone?</span>
  </p><p><span m=''2026690''>AUDIENCE: Is</span> <span m=''2027530''>it</span> <span
  m=''2029700''>N</span> <span m=''2030180''>for</span> <span m=''2030290''>first</span>
  <span m=''2030650''>one,</span> <span m=''2031540''>M for</span> <span m=''2031710''>the
  second one?</span> </p><p><span m=''2035430''>BILL THIES:</span> <span m=''2035645''>OK,</span>
  <span m=''2035860''>what</span> <span m=''2036220''>do we have</span> </p><p><span
  m=''2037170''>AUDIENCE: N</span> <span m=''2037500''>for</span> <span m=''2037680''>the
  first one,</span> <span m=''2039720''>and</span> <span m=''2040070''>M for the second?</span>
  </p><p><span m=''2040110''>BILL THIES:</span> <span m=''2040190''>N,M</span> <span
  m=''2040270''>and</span> </p><p><span m=''2042490''>AUDIENCE: Same</span> <span
  m=''2043230''>for</span> <span m=''2043410''>the</span> <span m=''2044260''> M?</span>
  </p><p><span m=''2045105''>BILL THIES: Same,</span> <span m=''2045610''>M?</span>
  </p><p><span m=''2047990''>AUDIENCE: Yeah.</span> </p><p><span m=''2049460''>BILL
  THIES:</span> <span m=''2049670''>OK</span> <span m=''2052880''>OK, this is a hypothesis.</span>
  <span m=''2057560''>Other</span> <span m=''2057770''>hypotheses?</span> </p><p><span
  m=''2059940''>AUDIENCE:</span> <span m=''2060040''>N,</span> <span m=''2060140''>M,</span>
  <span m=''2061500''>1.</span> </p><p><span m=''2066360''>BILL THIES: OK,</span>
  <span m=''2066510''>anyone</span> <span m=''2066810''>else?</span> <span m=''2070510''>Any</span>
  <span m=''2070790''>amendments?</span> </p><p><span m=''2073000''>AUDIENCE: How
  about</span> <span m=''2073290''>1,</span> <span m=''2073570''>1,</span> <span m=''2073800''>1?</span>
  </p><p><span m=''2074270''>BILL THIES:</span> <span m=''2074420''>1,</span> <span
  m=''2074570''>1,</span> <span m=''2074790''>1?</span> <span m=''2078750''>OK</span>
  <span m=''2079000''>lottery is</span> <span m=''2079450''>closing.</span> <span
  m=''2079890''>Yep?</span> </p><p><span m=''2080630''>AUDIENCE:  !, M, M</span> </p><p><span
  m=''2081945''>BILL THIES: 1</span> <span m=''2082090''>M,</span> <span m=''2082340''>M?</span>
  <span m=''2084030''>1,</span> <span m=''2084620''>M,</span> <span m=''2085210''>M,</span>
  <span m=''2088510''>OK</span> <span m=''2090260''>and</span> <span m=''2090600''>last</span>
  <span m=''2090920''>call?</span> <span m=''2093260''>OK</span> <span m=''2094920''>I</span>
  <span m=''2095020''>believe</span> <span m=''2095360''>two</span> <span m=''2095790''>of</span>
  <span m=''2095990''>the</span> <span m=''2096070''>ones</span> <span m=''2096510''>submitted</span>
  <span m=''2096910''>are</span> <span m=''2097030''>correct.</span> <span m=''2097890''>Is</span>
  <span m=''2098820''>this</span> <span m=''2099410''>and,</span> <span m=''2099870''>yeah?</span>
  <span m=''2101190''>OK</span> <span m=''2101390''>I</span> <span m=''2101510''>think</span>
  <span m=''2101720''>this,</span> <span m=''2102640''>N,</span> <span m=''2102870''>M,</span>
  <span m=''2103010''>1,</span> <span m=''2103220''>works</span> <span m=''2103530''>and</span>
  <span m=''2103730''>1,</span> <span m=''2103940''>N,</span> <span m=''2104030''>M,</span>
  <span m=''2104210''>works.</span> <span m=''2105480''>So</span> <span m=''2105900''>let</span>
  <span m=''2106020''>me</span> <span m=''2106100''>explain</span> <span m=''2106430''>the</span>
  <span m=''2106520''>1,</span> <span m=''2106730''>N,</span> <span m=''2106980''>M,</span>
  <span m=''2107190''>this</span> <span m=''2107330''>is</span> <span m=''2107460''>how</span>
  <span m=''2107560''>I</span> <span m=''2107650''>like</span> <span m=''2107830''>to</span>
  <span m=''2107900''>think</span> <span m=''2108080''>about</span> <span m=''2108310''>it.</span>
  <span m=''2110000''>One</span> <span m=''2110190''>way</span> <span m=''2110310''>to</span>
  <span m=''2110390''>think</span> <span m=''2110560''>about</span> <span m=''2110750''>this</span>
  <span m=''2110910''>is</span> <span m=''2111030''>we</span> <span m=''2111130''>just</span>
  <span m=''2111300''>want</span> <span m=''2111450''>to</span> <span m=''2111510''>move</span>
  <span m=''2111910''>the</span> <span m=''2112000''>whole</span> <span m=''2112280''>matrix.</span>
  <span m=''2113370''>You</span> <span m=''2113480''>doing</span> <span m=''2113640''>OK,</span>
  <span m=''2114060''>yeah?</span> <span m=''2115090''>OK</span> <span m=''2116170''>we</span>
  <span m=''2116310''>just</span> <span m=''2116480''>want</span> <span m=''2116590''>to</span>
  <span m=''2116640''>move</span> <span m=''2116920''>the</span> <span m=''2116990''>whole</span>
  <span m=''2117220''>matrix</span> <span m=''2117760''>into</span> <span m=''2118000''>this</span>
  <span m=''2118190''>splitjoin.</span> <span m=''2119600''>So</span> <span m=''2120130''>the</span>
  <span m=''2120210''>way</span> <span m=''2120350''>we</span> <span m=''2120410''>can</span>
  <span m=''2120590''>do</span> <span m=''2120750''>that</span> <span m=''2120980''>is</span>
  <span m=''2121110''>have</span> <span m=''2121410''>M</span> <span m=''2121750''>columns</span>
  <span m=''2123050''>of</span> <span m=''2123200''>the</span> <span m=''2123290''>splitjoin</span>
  <span m=''2123900''>since</span> <span m=''2124200''>we</span> <span m=''2124290''>have</span>
  <span m=''2124560''>N</span> <span m=''2124780''>columns of</span> <span m=''2125000''>the</span>
  <span m=''2125100''>matrix.</span> <span m=''2125660''>And</span> <span m=''2126460''>what</span>
  <span m=''2126650''>we''ll</span> <span m=''2126760''>do</span> <span m=''2126900''>is</span>
  <span m=''2127000''>we''ll</span> <span m=''2127030''>just do a</span> <span m=''2127410''>round-robin</span>
  <span m=''2128080''>one</span> <span m=''2128390''>at</span> <span m=''2128480''>a</span>
  <span m=''2128540''>time,</span> <span m=''2129740''>from</span> <span m=''2129920''>the</span>
  <span m=''2130000''>columns</span> <span m=''2130290''>of</span> <span m=''2130490''>the</span>
  <span m=''2130590''>matrix</span> <span m=''2131030''>into</span> <span m=''2131310''>the</span>
  <span m=''2131400''>columns</span> <span m=''2132170''>of</span> <span m=''2132330''>the</span>
  <span m=''2132480''>splitjoin.</span> <span m=''2133260''>So</span> <span m=''2133380''>we''ll</span>
  <span m=''2133500''>take</span> <span m=''2133690''>the</span> <span m=''2133780''>first</span>
  <span m=''2134050''>element,</span> <span m=''2134490''>send</span> <span m=''2134610''>it</span>
  <span m=''2134710''>to the</span> <span m=''2134800''>last,</span> <span m=''2135530''>next</span>
  <span m=''2135790''>element,</span> <span m=''2136130''>next</span> <span m=''2136380''>column,</span>
  <span m=''2136920''>and so on.</span> <span m=''2138070''>So</span> <span m=''2138200''>we</span>
  <span m=''2138270''>get the</span> <span m=''2138340''>whole</span> <span m=''2138490''>matrix</span>
  <span m=''2138880''>here,</span> <span m=''2139730''>Now I</span> <span m=''2139810''>want</span>
  <span m=''2139980''>to</span> <span m=''2140040''>read</span> <span m=''2140290''>it</span>
  <span m=''2140380''>out</span> <span m=''2140650''>column-wise.</span> <span m=''2141540''>So</span>
  <span m=''2141810''>we''ll</span> <span m=''2142100''>do</span> <span m=''2142340''>a</span>
  <span m=''2142810''>joiner</span> <span m=''2143410''>of</span> <span m=''2143590''>M.</span>
  <span m=''2143850''>We''ll</span> <span m=''2144120''>read</span> <span m=''2144260''>M
  from the</span> <span m=''2144330''>left</span> <span m=''2144650''>stream</span>
  <span m=''2144890''>that''ll</span> <span m=''2145110''>read</span> <span m=''2145500''>all</span>
  <span m=''2145830''>M</span> <span m=''2146140''>items</span> <span m=''2146520''>from</span>
  <span m=''2146610''>the</span> <span m=''2146700''>columns,</span> <span m=''2148050''>send</span>
  <span m=''2148260''>it</span> <span m=''2148340''>out,</span> <span m=''2148550''>and</span>
  <span m=''2148660''>then</span> <span m=''2148800''>M</span> <span m=''2149000''>items</span>
  <span m=''2149270''>in the</span> <span m=''2149390''>next</span> <span m=''2149650''>column,</span>
  <span m=''2150120''>and</span> <span m=''2150300''>then</span> <span m=''2150440''>send
  it</span> <span m=''2150530''>out.</span> <span m=''2150730''>Does</span> <span
  m=''2151910''>that</span> <span m=''2152040''>make</span> <span m=''2152190''>sense?</span>
  <span m=''2155960''>How</span> <span m=''2156050''>many</span> <span m=''2156180''>people</span>
  <span m=''2156380''>understood</span> <span m=''2156700''>that?</span> <span m=''2158370''>All</span>
  <span m=''2158500''>right,</span> </p><p><span m=''2158760''>So</span> <span m=''2160420''>if
  you</span> <span m=''2160710''>think</span> <span m=''2160870''>about</span> <span
  m=''2161040''>it,</span> <span m=''2161110''>you</span> <span m=''2161170''>can</span>
  <span m=''2161290''>also</span> <span m=''2161510''>do</span> <span m=''2161590''>it</span>
  <span m=''2161700''>in</span> <span m=''2161820''>M,</span> <span m=''2162040''>N,</span>
  <span m=''2162220''>1.</span> <span m=''2162920''>That''s</span> <span m=''2163080''>basically,</span>
  <span m=''2165250''>yeah,</span> <span m=''2166350''>it''s</span> <span m=''2166590''>very</span>
  <span m=''2166790''>similar.</span> <span m=''2174890''>OK</span> <span m=''2175930''>there</span>
  <span m=''2176110''>we</span> <span m=''2176500''>were.</span> <span m=''2177420''>And</span>
  <span m=''2177860''>yes.</span> <span m=''2178990''>We</span> <span m=''2179020''>can</span>
  <span m=''2179160''>do</span> <span m=''2179260''>1,</span> <span m=''2179520''>N,</span>
  <span m=''2179730''>M.</span> <span m=''2180570''>We</span> <span m=''2180820''>basically</span>
  <span m=''2180920''>read</span> <span m=''2181140''>the</span> <span m=''2181200''>matrix</span>
  <span m=''2181570''>down,</span> <span m=''2182230''>and</span> <span m=''2182440''>then</span>
  <span m=''2182590''>pull</span> <span m=''2182770''>it</span> <span m=''2182870''>down</span>
  <span m=''2183780''>into</span> <span m=''2184010''>column.</span> <span m=''2185420''>And</span>
  <span m=''2186670''>it''s</span> <span m=''2186840''>very</span> <span m=''2187040''>easy</span>
  <span m=''2187220''>to</span> <span m=''2187300''>write</span> <span m=''2187540''>this</span>
  <span m=''2188020''>as</span> <span m=''2188140''>a</span> <span m=''2188190''>transpose.</span>
  <span m=''2189260''>So</span> <span m=''2189790''>we</span> <span m=''2189910''>just</span>
  <span m=''2190460''>have</span> <span m=''2190610''>a</span> <span m=''2190650''>transpose</span>
  <span m=''2190930''>filter</span> <span m=''2191560''>in</span> <span m=''2191660''>which
  we''re doing</span> <span m=''2191920''>nothing.</span> <span m=''2192920''>No</span>
  <span m=''2193100''>competition</span> <span m=''2193770''>in</span> <span m=''2193870''>the</span>
  <span m=''2193960''>actual</span> <span m=''2194630''>rows</span> <span m=''2195060''>or
  the</span> <span m=''2195520''>actual</span> <span m=''2196150''>contents</span>
  <span m=''2196530''>of</span> <span m=''2196630''>the</span> <span m=''2196710''>splitjoin.</span>
  <span m=''2197790''>And</span> <span m=''2198000''>we</span> <span m=''2198070''>just</span>
  <span m=''2198290''>split</span> <span m=''2198430''>the</span> <span m=''2198510''>data</span>
  <span m=''2198770''>by</span> <span m=''2198920''>1,</span> <span m=''2199870''>have</span>
  <span m=''2200170''>N</span> <span m=''2200430''>different</span> <span m=''2200740''>identity</span>
  <span m=''2201140''>filters,</span> <span m=''2201580''>and</span> <span m=''2201720''>then</span>
  <span m=''2201840''>join</span> <span m=''2201960''>it</span> <span m=''2202120''>back</span>
  <span m=''2202320''>together</span> <span m=''2202620''>by</span> <span m=''2202800''>M.</span>
  <span m=''2203870''>Any</span> <span m=''2204020''>questions</span> <span m=''2204390''>about</span>
  <span m=''2204550''>this?</span> <span m=''2205700''>An</span> <span m=''2205850''>interesting</span>
  <span m=''2206220''>way</span> <span m=''2206330''>to</span> <span m=''2206410''>write</span>
  <span m=''2206530''>a</span> <span m=''2206590''>transpose.</span> </p><p><span
  m=''2209080''>OK</span> <span m=''2209340''>so</span> <span m=''2209440''>there''s</span>
  <span m=''2209600''>one</span> <span m=''2209770''>more</span> <span m=''2209890''>opportunity</span>
  <span m=''2210540''>to</span> <span m=''2210970''>shine</span> <span m=''2211280''>here.</span>
  <span m=''2212260''>And</span> <span m=''2212480''>that''s</span> <span m=''2212710''>a</span>
  <span m=''2212970''>little</span> <span m=''2213210''>more</span> <span m=''2213370''>interesting</span>
  <span m=''2213740''>permutation</span> <span m=''2214430''>called</span> <span m=''2214660''>a</span>
  <span m=''2214710''>bit-reversed</span> <span m=''2215340''>ordering.</span> <span
  m=''2215590''>And</span> <span m=''2216340''>so</span> <span m=''2216500''>this</span>
  <span m=''2216590''>comes</span> <span m=''2216820''>up</span> <span m=''2216950''>in</span>
  <span m=''2217020''>an</span> <span m=''2217130''>FFT</span> <span m=''2217620''>and</span>
  <span m=''2217820''>another</span> <span m=''2217950''>algorithm.</span> <span m=''2219120''>The</span>
  <span m=''2219210''>permutation</span> <span m=''2219740''>here,</span> <span m=''2220090''>is</span>
  <span m=''2220250''>that</span> <span m=''2220360''>we''re</span> <span m=''2220480''>taking</span>
  <span m=''2220840''>the</span> <span m=''2220950''>data</span> <span m=''2221460''>at</span>
  <span m=''2221600''>the</span> <span m=''2221680''>index</span> <span m=''2222120''>n.</span>
  <span m=''2223030''>And</span> <span m=''2223150''>let''s</span> <span m=''2223290''>say</span>
  <span m=''2223490''>n</span> <span m=''2223740''>has</span> <span m=''2224000''>binary</span>
  <span m=''2224460''>digits</span> <span m=''2224900''>b</span> <span m=''2225130''>sub
  0,</span> <span m=''2225490''>b sub</span> <span m=''2225690''>1,</span> <span m=''2226020''>up</span>
  <span m=''2226150''>to</span> <span m=''2226310''>b sub</span> <span m=''2226510''>k.</span>
  <span m=''2227640''>And</span> <span m=''2227820''>we</span> <span m=''2227890''>want
  to</span> <span m=''2228250''>rearrange</span> <span m=''2228940''>that</span> <span
  m=''2229130''>data,</span> <span m=''2230080''>so</span> <span m=''2230240''>this</span>
  <span m=''2230440''>data</span> <span m=''2230720''>goes</span> <span m=''2231020''>to
  a</span> <span m=''2231390''>different</span> <span m=''2231830''>index</span> <span
  m=''2232690''>with</span> <span m=''2232920''>the</span> <span m=''2232990''>reversed</span>
  <span m=''2233600''>bits</span> <span m=''2234150''>of</span> <span m=''2234460''>its</span>
  <span m=''2234640''>index.</span> <span m=''2235630''>So</span> <span m=''2236170''>if</span>
  <span m=''2236350''>it</span> <span m=''2236440''>was</span> <span m=''2236680''>and</span>
  <span m=''2236840''>index</span> <span m=''2237010''>n</span> <span m=''2237270''>before,</span>
  <span m=''2237720''>it</span> <span m=''2237900''>ends</span> <span m=''2238090''>up</span>
  <span m=''2238310''>at</span> <span m=''2238570''>b sub k</span> <span m=''2239320''>down</span>
  <span m=''2239600''>to</span> <span m=''2239680''>b sub</span> <span m=''2239830''>1,</span>
  <span m=''2240140''>b</span> <span m=''2240260''>sub 0.</span> <span m=''2241250''>So</span>
  <span m=''2241450''>for</span> <span m=''2241570''>example,</span> <span m=''2242010''>let''s</span>
  <span m=''2242180''>just</span> <span m=''2242340''>look</span> <span m=''2242500''>at</span>
  <span m=''2242630''>3-digit</span> <span m=''2243070''>binary</span> <span m=''2243450''>numbers.</span>
  <span m=''2244330''>If</span> <span m=''2244490''>we have</span> <span m=''2244710''>0,</span>
  <span m=''2245020''>0,</span> <span m=''2245290''>0,</span> <span m=''2246530''>this</span>
  <span m=''2246670''>is</span> <span m=''2247310''>1</span> <span m=''2247570''>input</span>
  <span m=''2247890''>item.</span> <span m=''2248850''>We''re</span> <span m=''2248970''>reversing</span>
  <span m=''2249510''>those</span> <span m=''2249700''>digits,</span> <span m=''2250070''>you</span>
  <span m=''2250200''>still</span> <span m=''2250360''>get</span> <span m=''2250720''>0,</span>
  <span m=''2250910''>0,</span> <span m=''2250990''>0.</span> <span m=''2252720''>Item</span>
  <span m=''2253030''>at</span> <span m=''2253230''>index</span> <span m=''2253580''>1</span>
  <span m=''2253840''>will</span> <span m=''2253930''>be</span> <span m=''2254050''>0,</span>
  <span m=''2254310''>0,</span> <span m=''2254570''>1.</span> <span m=''2255590''>We</span>
  <span m=''2255690''>want</span> <span m=''2255860''>to</span> <span m=''2255940''>reorder</span>
  <span m=''2256300''>that to</span> <span m=''2256550''>index</span> <span m=''2257350''>4.</span>
  <span m=''2258330''>OK,</span> <span m=''2258570''>1,</span> <span m=''2258920''>0,</span>
  <span m=''2259120''>0,</span> <span m=''2260960''>0,</span> <span m=''2261270''>1,</span>
  <span m=''2261470''>0,</span> <span m=''2261710''>stays</span> <span m=''2261990''>the</span>
  <span m=''2262080''>same,</span> <span m=''2262860''>0</span> <span m=''2263180''>1,</span>
  <span m=''2263380''>1,</span> <span m=''2263690''>goes</span> <span m=''2263900''>to</span>
  <span m=''2264000''>1,</span> <span m=''2264270''>1,</span> <span m=''2264490''>0</span>
  <span m=''2265160''>shifts</span> <span m=''2265480''>over.</span> <span m=''2266000''>And</span>
  <span m=''2266180''>from</span> <span m=''2266300''>there</span> <span m=''2266420''>on,</span>
  <span m=''2266590''>it''s</span> <span m=''2266810''>symmetric.</span> </p><p><span
  m=''2269040''>AUDIENCE: [UNINTELLIGIBLE PHRASE]</span> </p><p><span m=''2269410''>BILL
  THIES: Sorry?</span> </p><p><span m=''2271540''>AUDIENCE: [UNINTELLIGIBLE PHRASE].</span>
  </p><p><span m=''2271710''>BILL THIES:</span> <span m=''2271950''>OK.</span> <span
  m=''2272190''>So</span> <span m=''2272490''>here</span> <span m=''2272740''>I''m</span>
  <span m=''2273030''>writing</span> <span m=''2273330''>the</span> <span m=''2273420''>indices.</span>
  <span m=''2274480''>So</span> <span m=''2274720''>I''m</span> <span m=''2274800''>not</span>
  <span m=''2274950''>writing</span> <span m=''2275190''>the</span> <span m=''2275280''>data.</span>
  <span m=''2276790''>So</span> <span m=''2277040''>index</span> <span m=''2277760''>0,</span>
  <span m=''2278090''>1,</span> <span m=''2278310''>2,</span> <span m=''2278460''>3</span>
  <span m=''2278700''>up</span> <span m=''2278860''>through</span> <span m=''2279040''>index</span>
  <span m=''2279390''>8.,</span> <span m=''2280140''>or</span> <span m=''2280310''>index</span>
  <span m=''2280610''>7.</span> <span m=''2280940''>OK</span> <span m=''2282120''>and</span>
  <span m=''2282400''>on</span> <span m=''2282500''>the</span> <span m=''2282570''>bottom</span>
  <span m=''2282870''>you</span> <span m=''2282980''>have</span> <span m=''2283140''>indices</span>
  <span m=''2283480''>0</span> <span m=''2283750''>through</span> <span m=''2283890''>7.</span>
  <span m=''2284340''>So</span> <span m=''2284560''>the</span> <span m=''2284650''>data</span>
  <span m=''2285310''>will</span> <span m=''2285470''>actually</span> <span m=''2285700''>be</span>
  <span m=''2285780''>moved,</span> <span m=''2286610''>reordered</span> <span m=''2287140''>like</span>
  <span m=''2287310''>that.</span> <span m=''2287780''>Does</span> <span m=''2287880''>that</span>
  <span m=''2288000''>make</span> <span m=''2288130''>sense?</span> <span m=''2288360''>It''s</span>
  <span m=''2288580''>a</span> <span m=''2288740''>reordering</span> <span m=''2289120''>of</span>
  <span m=''2289180''>data.</span> <span m=''2291320''>Does this transformation</span>
  <span m=''2291770''>make</span> <span m=''2291870''>sense?</span> <span m=''2292660''>Other</span>
  <span m=''2292850''>questions?</span> </p><p><span m=''2293980''>OK,</span> <span
  m=''2294230''>it</span> <span m=''2294360''>turns</span> <span m=''2294660''>out</span>
  <span m=''2295570''>you</span> <span m=''2295770''>can</span> <span m=''2295870''>write</span>
  <span m=''2296020''>this</span> <span m=''2296130''>as</span> <span m=''2296250''>a</span>
  <span m=''2296330''>splitjoin.</span> <span m=''2297940''>And</span> <span m=''2298980''>you</span>
  <span m=''2299110''>just</span> <span m=''2299270''>need</span> <span m=''2299450''>3</span>
  <span m=''2299720''>different</span> <span m=''2300030''>weights</span> <span m=''2300280''>for</span>
  <span m=''2300380''>the</span> <span m=''2300490''>round-robins.</span> <span m=''2301380''>OK</span>
  <span m=''2301610''>round-robin</span> <span m=''2302560''>with</span> <span m=''2302790''>1</span>
  <span m=''2303010''>weight</span> <span m=''2303760''>on</span> <span m=''2303940''>the</span>
  <span m=''2304020''>top</span> <span m=''2304300''>here,</span> <span m=''2305140''>and</span>
  <span m=''2305840''>two</span> <span m=''2306010''>different</span> <span m=''2306300''>round-robin</span>
  <span m=''2306720''>weights</span> <span m=''2306950''>on</span> <span m=''2307080''>the</span>
  <span m=''2307150''>bottom.</span> <span m=''2308480''>And</span> <span m=''2308730''>here</span>
  <span m=''2308840''>I''m</span> <span m=''2308990''>assuming</span> <span m=''2309360''>you</span>
  <span m=''2309470''>have</span> <span m=''2310090''>3</span> <span m=''2310560''>binary</span>
  <span m=''2311040''>digits</span> <span m=''2311840''>in</span> <span m=''2312000''>your</span>
  <span m=''2312100''>index.</span> <span m=''2312460''>So</span> <span m=''2312520''>you''re</span>
  <span m=''2312630''>reordering</span> <span m=''2313130''>in</span> <span m=''2313250''>groups</span>
  <span m=''2313470''>to</span> <span m=''2313640''>8.</span> <span m=''2315290''>OK,</span>
  <span m=''2315610''>so</span> <span m=''2315880''>let</span> <span m=''2316200''>me</span>
  <span m=''2316730''>give</span> <span m=''2316780''>you a second to</span> <span
  m=''2316910''>think</span> <span m=''2317130''>about</span> <span m=''2317360''>this.</span>
  <span m=''2317510''>What</span> <span m=''2317670''>are</span> <span m=''2317730''>the</span>
  <span m=''2317800''>values</span> <span m=''2318070''>for these</span> <span m=''2318390''>weights?</span>
  <span m=''2320670''>I''ll</span> <span m=''2320780''>give</span> <span m=''2320890''>you</span>
  <span m=''2321000''>a</span> <span m=''2321060''>hint</span> <span m=''2321310''>in</span>
  <span m=''2321410''>just</span> <span m=''2321580''>a</span> <span m=''2321620''>second,</span>
  <span m=''2321990''>or</span> <span m=''2322140''>ask</span> <span m=''2322380''>another</span>
  <span m=''2322600''>question.</span> <span m=''2324890''>Yes?</span> </p><p><span
  m=''2326096''>AUDIENCE:</span> <span m=''2326585''>[UNINTELLIGIBLE PHRASE].</span>
  </p><p><span m=''2331170''>BILL THIES: So</span> <span m=''2331360''>what</span>
  <span m=''2331480''>we''re</span> <span m=''2331610''>doing</span> <span m=''2331890''>here,</span>
  <span m=''2332080''>is</span> <span m=''2332180''>we''re</span> <span m=''2332290''>exposing</span>
  <span m=''2332860''>the</span> <span m=''2332960''>communication</span> <span m=''2333530''>pattern.</span>
  <span m=''2334240''>That''s</span> <span m=''2334430''>the</span> <span m=''2334520''>thing.</span>
  <span m=''2334970''>If</span> <span m=''2335130''>you</span> <span m=''2335240''>write</span>
  <span m=''2335420''>this</span> <span m=''2335570''>in</span> <span m=''2335660''>an</span>
  <span m=''2335770''>imperative</span> <span m=''2336280''>way,</span> <span m=''2336960''>you</span>
  <span m=''2337120''>end</span> <span m=''2337240''>up</span> <span m=''2337800''>basically</span>
  <span m=''2338240''>having</span> <span m=''2338650''>your,</span> <span m=''2339110''>you''re</span>
  <span m=''2339630''>conflating</span> <span m=''2340680''>basically</span> <span
  m=''2341050''>the</span> <span m=''2341180''>data</span> <span m=''2341440''>dependencies</span>
  <span m=''2342460''>with</span> <span m=''2342670''>the</span> <span m=''2342750''>reordering</span>
  <span m=''2343260''>pattern.</span> <span m=''2343930''>So</span> <span m=''2344170''>what</span>
  <span m=''2344290''>I''m</span> <span m=''2344380''>trying</span> <span m=''2344590''>to</span>
  <span m=''2344650''>convey</span> <span m=''2344980''>here,</span> <span m=''2345380''>is
  how</span> <span m=''2345520''>you</span> <span m=''2345680''>can</span> <span m=''2345830''>use</span>
  <span m=''2346030''>the</span> <span m=''2346150''>streaming</span> <span m=''2346490''>model</span>
  <span m=''2347170''>to</span> <span m=''2347310''>show</span> <span m=''2347590''>how</span>
  <span m=''2347790''>you''re</span> <span m=''2348430''>sending</span> <span m=''2348760''>data</span>
  <span m=''2349060''>around.</span> <span m=''2349790''>Because</span> <span m=''2349980''>when</span>
  <span m=''2350100''>you''re</span> <span m=''2350210''>on</span> <span m=''2350390''>an</span>
  <span m=''2350480''>architecture-like</span> <span m=''2351130''>cell,</span> <span
  m=''2351410''>everything</span> <span m=''2351860''>is</span> <span m=''2352140''>about</span>
  <span m=''2352410''>the</span> <span m=''2352490''>data</span> <span m=''2352730''>motion.</span>
  <span m=''2353610''>You''re</span> <span m=''2353750''>taking</span> <span m=''2354020''>data</span>
  <span m=''2354250''>from</span> <span m=''2354410''>one</span> <span m=''2354580''>place</span>
  <span m=''2354890''>and</span> <span m=''2354990''>you''re</span> <span m=''2355120''>trying</span>
  <span m=''2355330''>to</span> <span m=''2355460''>efficiently</span> <span m=''2356660''>get</span>
  <span m=''2356910''>it</span> <span m=''2357040''>to</span> <span m=''2357360''>the</span>
  <span m=''2357530''>producers</span> <span m=''2358050''>or</span> <span m=''2358120''>the</span>
  <span m=''2358200''>consumers.</span> <span m=''2359080''>And you</span> <span m=''2359260''>really</span>
  <span m=''2359430''>need</span> <span m=''2359620''>to--</span> <span m=''2359870''>the</span>
  <span m=''2359970''>compiler</span> <span m=''2360550''>needs</span> <span m=''2360780''>to</span>
  <span m=''2360870''>understand</span> <span m=''2361400''>the</span> <span m=''2361470''>data</span>
  <span m=''2361690''>motion.</span> <span m=''2362530''>And</span> <span m=''2362800''>also,</span>
  <span m=''2363320''>it''s</span> <span m=''2363470''>just</span> <span m=''2363610''>another</span>
  <span m=''2363860''>way</span> <span m=''2364000''>of</span> <span m=''2364080''>writing</span>
  <span m=''2364380''>it,</span> <span m=''2364500''>which</span> <span m=''2364640''>I</span>
  <span m=''2364700''>think</span> <span m=''2364860''>it''s</span> <span m=''2364930''>actually</span>
  <span m=''2365180''>easier</span> <span m=''2365490''>to</span> <span m=''2365590''>understand</span>
  <span m=''2366500''>once</span> <span m=''2366740''>you</span> <span m=''2366830''>see</span>
  <span m=''2366960''>it.</span> <span m=''2367100''>It''s</span> <span m=''2367270''>a</span>
  <span m=''2367330''>way</span> <span m=''2367470''>to</span> <span m=''2367580''>think</span>
  <span m=''2367780''>about</span> <span m=''2368110''>the</span> <span m=''2368230''>actual</span>
  <span m=''2368500''>reordering</span> <span m=''2369650''>from</span> <span m=''2369860''>a</span>
  <span m=''2369990''>theoretical</span> <span m=''2370430''>standpoint</span> </p><p><span
  m=''2373060''>Any</span> <span m=''2373400''>wagers</span> <span m=''2373610''>on</span>
  <span m=''2373750''>this?</span> <span m=''2379550''>So</span> <span m=''2379860''>what</span>
  <span m=''2380000''>we</span> <span m=''2380270''>to</span> <span m=''2380390''>do,</span>
  <span m=''2380580''>if</span> <span m=''2380720''>you</span> <span m=''2380810''>think</span>
  <span m=''2381000''>about</span> <span m=''2381230''>the</span> <span m=''2381310''>bit-reverse</span>
  <span m=''2381790''>ordering,</span> <span m=''2382600''>what</span> <span m=''2382740''>we</span>
  <span m=''2382860''>want</span> <span m=''2383090''>to</span> <span m=''2383170''>do</span>
  <span m=''2383300''>is</span> <span m=''2383410''>distribute the</span> <span m=''2384070''>data</span>
  <span m=''2385380''>by</span> <span m=''2385510''>the</span> <span m=''2385630''>low-order</span>
  <span m=''2386140''>bits.</span> <span m=''2388300''>And</span> <span m=''2388480''>then</span>
  <span m=''2388640''>gather</span> <span m=''2389030''>the</span> <span m=''2389110''>data</span>
  <span m=''2389750''>by</span> <span m=''2389860''>the</span> <span m=''2389970''>high-order</span>
  <span m=''2390450''>bits.</span> <span m=''2392080''>So</span> <span m=''2392140''>you</span>
  <span m=''2392200''>want</span> <span m=''2392290''>a</span> <span m=''2392380''>fine-grained</span>
  <span m=''2393070''>parity</span> <span m=''2393910''>when</span> <span m=''2394060''>you''re
  shuffling.</span> <span m=''2394450''>You</span> <span m=''2394540''>can</span>
  <span m=''2394640''>also</span> <span m=''2394840''>do</span> <span m=''2394960''>it
  the</span> <span m=''2395100''>other</span> <span m=''2395240''>way</span> <span
  m=''2395350''>around.</span> <span m=''2395870''>It''s</span> <span m=''2396040''>totally</span>
  <span m=''2396330''>symmetrical.</span> <span m=''2397340''>But</span> <span m=''2397520''>one</span>
  <span m=''2397590''>way to</span> <span m=''2397680''>think</span> <span m=''2397830''>about</span>
  <span m=''2398040''>it</span> <span m=''2398140''>is,</span> <span m=''2398360''>you</span>
  <span m=''2398420''>want a</span> <span m=''2398600''>fine-grained</span> <span
  m=''2399230''>parity</span> <span m=''2399650''>when</span> <span m=''2399820''>you''re</span>
  <span m=''2400230''>distributing</span> <span m=''2400730''>data,</span> <span m=''2401680''>and</span>
  <span m=''2401820''>then</span> <span m=''2401930''>a course-grained</span> <span
  m=''2402540''>when</span> <span m=''2402650''>you''re</span> <span m=''2402750''>coming</span>
  <span m=''2403040''>together.</span> <span m=''2406800''>Anyone</span> <span m=''2407080''>see</span>
  <span m=''2407230''>it?</span> <span m=''2414120''>Give</span> <span m=''2415090''>you
  ten</span> <span m=''2415270''>more</span> <span m=''2415390''>seconds.</span> <span
  m=''2421530''>Come on?</span> <span m=''2422680''>Yeah</span> <span m=''2422950''>it</span>
  <span m=''2423260''>is</span> <span m=''2423370''>a</span> <span m=''2423410''>little</span>
  <span m=''2423560''>bit</span> <span m=''2423660''>tricky.</span> </p><p><span m=''2425860''>OK</span>
  <span m=''2426140''>well</span> <span m=''2426450''>let</span> <span m=''2426550''>me</span>
  <span m=''2426620''>explain</span> <span m=''2426940''>how</span> <span m=''2427070''>it</span>
  <span m=''2427140''>works.</span> <span m=''2429030''>So</span> <span m=''2429830''>1,</span>
  <span m=''2430350''>2,</span> <span m=''2430530''>and</span> <span m=''2430680''>4.</span>
  <span m=''2431370''>Ok</span> <span m=''2431910''>so</span> <span m=''2432490''>what</span>
  <span m=''2432690''>these</span> <span m=''2432820''>round-robin</span> <span m=''2433370''>1</span>
  <span m=''2433980''>splitters</span> <span m=''2434320''>do,</span> <span m=''2435420''>is</span>
  <span m=''2435630''>these</span> <span m=''2435830''>are</span> <span m=''2435900''>basically</span>
  <span m=''2436960''>the</span> <span m=''2437330''>fine-grained</span> <span m=''2438190''>parities.</span>
  <span m=''2438510''>So</span> <span m=''2438740''>OK,</span> <span m=''2438960''>the</span>
  <span m=''2439120''>first</span> <span m=''2439500''>round-robin,</span> <span m=''2440680''>that</span>
  <span m=''2441120''>will send all</span> <span m=''2441290''>the</span> <span m=''2441400''>even</span>
  <span m=''2441740''>bits</span> <span m=''2441980''>to</span> <span m=''2442070''>the</span>
  <span m=''2442150''>left,</span> <span m=''2443230''>and</span> <span m=''2443550''>all</span>
  <span m=''2443720''>the</span> <span m=''2443850''>odd</span> <span m=''2444070''>values</span>
  <span m=''2444310''>to</span> <span m=''2444440''>the</span> <span m=''2444530''>right.</span>
  <span m=''2445450''>Right,</span> <span m=''2445650''>that''s</span> <span m=''2445970''>the</span>
  <span m=''2446110''>lowest</span> <span m=''2446520''>order</span> <span m=''2446770''>bit.</span>
  <span m=''2447060''>Because</span> <span m=''2447220''>it''s</span> <span m=''2447340''>doing</span>
  <span m=''2447630''>every</span> <span m=''2447910''>other</span> <span m=''2448100''>one,</span>
  <span m=''2448370''>shuffling</span> <span m=''2448810''>it</span> <span m=''2448900''>left</span>
  <span m=''2449150''>and</span> <span m=''2449260''>right.</span> <span m=''2450540''>So</span>
  <span m=''2450760''>this</span> <span m=''2451040''>round-robin</span> <span m=''2451510''>is
  seeing</span> <span m=''2451920''>only</span> <span m=''2452150''>the</span> <span
  m=''2452240''>even</span> <span m=''2452500''>values.</span> <span m=''2453630''>Now</span>
  <span m=''2453780''>it''s</span> <span m=''2453930''>going</span> <span m=''2454080''>to</span>
  <span m=''2454190''>split</span> <span m=''2454360''>them</span> <span m=''2454440''>up</span>
  <span m=''2454570''>based</span> <span m=''2454830''>on</span> <span m=''2454950''>who''s</span>
  <span m=''2455170''>divisible</span> <span m=''2455500''>by</span> <span m=''2455800''>4.</span>
  <span m=''2456370''>Now</span> <span m=''2457050''>we''ll</span> <span m=''2457190''>go</span>
  <span m=''2457280''>to</span> <span m=''2457370''>the</span> <span m=''2457470''>left</span>
  <span m=''2457780''>or</span> <span m=''2457910''>go</span> <span m=''2458010''>to</span>
  <span m=''2458100''>the</span> <span m=''2458190''>right.</span> <span m=''2458410''>This
  is</span> <span m=''2458500''>basically</span> <span m=''2458920''>shuffling</span>
  <span m=''2460290''>in</span> <span m=''2460450''>the</span> <span m=''2460540''>order</span>
  <span m=''2460770''>of</span> <span m=''2460870''>the</span> <span m=''2460960''>bits,</span>
  <span m=''2461330''>from</span> <span m=''2461610''>low-order</span> <span m=''2461900''>bits</span>
  <span m=''2462140''>to</span> <span m=''2462230''>high-order</span> <span m=''2462710''>bits.</span>
  <span m=''2463420''>So</span> <span m=''2463530''>these will</span> <span m=''2463730''>be</span>
  <span m=''2463850''>ordered</span> <span m=''2465090''>in</span> <span m=''2465360''>terms</span>
  <span m=''2465570''>of</span> <span m=''2465660''>their</span> <span m=''2465790''>low-order</span>
  <span m=''2466190''>bits.</span> <span m=''2467250''>And</span> <span m=''2467510''>now</span>
  <span m=''2467680''>we just</span> <span m=''2467840''>want to</span> <span m=''2468040''>read</span>
  <span m=''2468310''>them</span> <span m=''2468450''>out</span> <span m=''2469280''>from</span>
  <span m=''2469470''>left</span> <span m=''2469670''>to</span> <span m=''2469760''>right.</span>
  <span m=''2470050''>Just</span> <span m=''2470300''>take</span> <span m=''2470480''>the</span>
  <span m=''2470570''>order</span> <span m=''2470860''>that</span> <span m=''2471010''>we</span>
  <span m=''2471120''>made</span> <span m=''2471670''>with</span> <span m=''2471830''>those</span>
  <span m=''2472020''>round-robins,</span> <span m=''2473010''>and</span> <span m=''2473250''>read</span>
  <span m=''2473460''>them</span> <span m=''2473580''>out</span> <span m=''2473830''>from</span>
  <span m=''2473960''>left</span> <span m=''2474150''>to</span> <span m=''2474240''>right.</span>
  <span m=''2475360''>And</span> <span m=''2475600''>since</span> <span m=''2475750''>they</span>
  <span m=''2475820''>have</span> <span m=''2475930''>8</span> <span m=''2476180''>values,</span>
  <span m=''2476670''>you</span> <span m=''2476780''>can</span> <span m=''2476910''>do</span>
  <span m=''2477020''>that</span> <span m=''2477200''>just</span> <span m=''2477350''>by</span>
  <span m=''2477480''>chunking</span> <span m=''2477860''>them</span> <span m=''2478000''>up.</span>
  <span m=''2478410''>We''ll</span> <span m=''2478590''>read</span> <span m=''2478810''>2,</span>
  <span m=''2479070''>2,</span> <span m=''2480200''>and</span> <span m=''2480340''>then</span>
  <span m=''2480430''>we''ll</span> <span m=''2480520''>read</span> <span m=''2480700''>these</span>
  <span m=''2480920''>two,</span> <span m=''2481240''>2</span> <span m=''2481420''>and
  2,</span> <span m=''2482440''>and</span> <span m=''2482590''>now</span> <span m=''2482700''>put</span>
  <span m=''2482850''>all</span> <span m=''2483000''>8.</span> <span m=''2483320''>Does</span>
  <span m=''2484410''>that</span> <span m=''2484550''>make</span> <span m=''2484690''>sense?</span>
  </p><p><span m=''2488790''>OK,</span> <span m=''2489040''>so</span> <span m=''2489230''>yes,</span>
  <span m=''2489420''>it''s</span> <span m=''2489630''>a</span> <span m=''2489780''>bit</span>
  <span m=''2489960''>clever.</span> <span m=''2490100''>So</span> <span m=''2490190''>I</span>
  <span m=''2490240''>think</span> <span m=''2490530''>it''s</span> <span m=''2490660''>a</span>
  <span m=''2490710''>nice</span> <span m=''2490930''>way</span> <span m=''2491050''>of</span>
  <span m=''2491140''>thinking</span> <span m=''2491410''>about</span> <span m=''2491720''>what</span>
  <span m=''2491850''>a</span> <span m=''2491910''>bit-reversed</span> <span m=''2492440''>ordering</span>
  <span m=''2492810''>means.</span> <span m=''2493540''>And</span> <span m=''2493750''>you</span>
  <span m=''2493810''>can</span> <span m=''2493900''>write</span> <span m=''2494060''>this</span>
  <span m=''2494180''>in</span> <span m=''2494270''>a</span> <span m=''2494320''>very</span>
  <span m=''2494550''>general</span> <span m=''2494970''>way.</span> <span m=''2495870''>You</span>
  <span m=''2496040''>just</span> <span m=''2496190''>have</span> <span m=''2496290''>a</span>
  <span m=''2496340''>recursive</span> <span m=''2496850''>bit-reversed</span> <span
  m=''2497600''>filter</span> <span m=''2497970''>for</span> <span m=''2498230''>N
  values.</span> <span m=''2499930''>And</span> <span m=''2500330''>base</span> <span
  m=''2500620''>case,</span> <span m=''2501150''>you</span> <span m=''2501290''>only</span>
  <span m=''2501480''>have</span> <span m=''2501670''>2.</span> <span m=''2501950''>So</span>
  <span m=''2502060''>there''s</span> <span m=''2502210''>no</span> <span m=''2502350''>reordering</span>
  <span m=''2502780''>to</span> <span m=''2502880''>do</span> <span m=''2503890''>when</span>
  <span m=''2504030''>you</span> <span m=''2504090''>when</span> <span m=''2504200''>you</span>
  <span m=''2504290''>think</span> <span m=''2504470''>about</span> <span m=''2504710''>it.</span>
  <span m=''2505530''>So</span> <span m=''2505630''>you''re</span> <span m=''2505750''>not</span>
  <span m=''2505900''>doing</span> <span m=''2506070''>any</span> <span m=''2506250''>computation.</span>
  <span m=''2507550''>Otherwise</span> <span m=''2508000''>yo have</span> <span m=''2508140''>a</span>
  <span m=''2508210''>round-robin</span> <span m=''2509530''>split</span> <span m=''2509730''>in</span>
  <span m=''2509830''>half,</span> <span m=''2510590''>and</span> <span m=''2510790''>then</span>
  <span m=''2510990''>have</span> <span m=''2511130''>a</span> <span m=''2511200''>coarse-grain</span>
  <span m=''2511750''>joiner.</span> <span m=''2511990''>So,</span> <span m=''2514210''>you</span>
  <span m=''2514360''>get</span> <span m=''2514460''>a</span> <span m=''2514520''>structure</span>
  <span m=''2514840''>like</span> <span m=''2515040''>this.</span> <span m=''2516060''>If</span>
  <span m=''2516200''>you''re,</span> <span m=''2516440''>as</span> <span m=''2516600''>you''re</span>
  <span m=''2516720''>building</span> <span m=''2517060''>up,</span> <span m=''2517550''>just</span>
  <span m=''2517820''>distributing</span> <span m=''2518350''>and</span> <span m=''2518450''>then</span>
  <span m=''2518700''>bringing</span> <span m=''2519030''>back</span> <span m=''2519190''>together</span>
  <span m=''2519470''>in</span> <span m=''2519570''>a</span> <span m=''2519630''>course-grained</span>
  <span m=''2520120''>way.</span> <span m=''2522330''>OK.</span> <span m=''2525290''>Let''s</span>
  <span m=''2525410''>see</span> <span m=''2525550''>how</span> <span m=''2525660''>do</span>
  <span m=''2525730''>I</span> <span m=''2525760''>don''t</span> <span m=''2525930''>do</span>
  <span m=''2526040''>this?</span> <span m=''2527720''>OK</span> <span m=''2528000''>so</span>
  <span m=''2528920''>one</span> <span m=''2529250''>thing</span> <span m=''2529330''>to
  notice,</span> <span m=''2529450''>there''s</span> <span m=''2529700''>one</span>
  <span m=''2529860''>more</span> <span m=''2529990''>example</span> <span m=''2530330''>of</span>
  <span m=''2530420''>a</span> <span m=''2530575''>splitjoin.</span> <span m=''2530730''>Question?</span>
  </p><p><span m=''2531170''>AUDIENCE: [UNINTELLIGIBLE].</span> </p><p><span m=''2533140''>BILL
  THIES: OK</span> <span m=''2533550''>so</span> <span m=''2535020''>in</span> <span
  m=''2535180''>general,</span> <span m=''2536040''>at</span> <span m=''2536210''>the</span>
  <span m=''2536290''>base</span> <span m=''2536530''>of</span> <span m=''2536600''>this</span>
  <span m=''2536700''>hierarchy,</span> <span m=''2536990''>we</span> <span m=''2537230''>could''ve</span>
  <span m=''2537450''>added</span> <span m=''2537730''>some</span> <span m=''2537880''>other</span>
  <span m=''2538040''>filter</span> <span m=''2538660''>to</span> <span m=''2538790''>do</span>
  <span m=''2538890''>some</span> <span m=''2539050''>competition.</span> <span m=''2540260''>Identity</span>
  <span m=''2540820''>just</span> <span m=''2540990''>means</span> <span m=''2541230''>we''re</span>
  <span m=''2541320''>doing</span> <span m=''2541610''>no</span> <span m=''2541760''>computation.</span>
  <span m=''2542980''>It''s</span> <span m=''2543160''>a</span> <span m=''2543390''>predefined</span>
  <span m=''2543970''>filter</span> <span m=''2544260''>that</span> <span m=''2544410''>just</span>
  <span m=''2544580''>does</span> <span m=''2544750''>nothing.</span> </p><p><span
  m=''2545230''>PROFESSOR:</span> <span m=''2545537''>On</span> <span m=''2545845''>complex</span>
  <span m=''2546152''>data.</span> </p><p><span m=''2546460''>BILL THIES: On</span>
  <span m=''2546650''>complex</span> <span m=''2547010''>data.</span> <span m=''2547610''>Sorry
  this</span> <span m=''2548130''>is</span> <span m=''2548220''>a</span> <span m=''2548330''>templated</span>
  <span m=''2548860''>filter.</span> <span m=''2549780''>So</span> <span m=''2549970''>we''re</span>
  <span m=''2550080''>reordering</span> <span m=''2550550''>complex</span> <span m=''2550980''>values.</span>
  <span m=''2552100''>And</span> <span m=''2552330''>we''re</span> <span m=''2552410''>passing</span>
  <span m=''2552650''>the</span> <span m=''2552800''>input</span> <span m=''2552890''>to</span>
  <span m=''2553120''>the</span> <span m=''2553370''>output.</span> <span m=''2555490''>Amir?</span>
  </p><p><span m=''2555740''>AUDIENCE:</span> <span m=''2559660''>[UNINTELLIGIBLE]</span>
  </p><p><span m=''2560050''>BILL THIES: In</span> <span m=''2560260''>general</span>
  <span m=''2560590''>the</span> <span m=''2560680''>language</span> <span m=''2561020''>does</span>
  <span m=''2561120''>not</span> <span m=''2561300''>have</span> <span m=''2561440''>support</span>
  <span m=''2561760''>for</span> <span m=''2561860''>templates.</span> <span m=''2562480''>We</span>
  <span m=''2562660''>only</span> <span m=''2562950''>do</span> <span m=''2563080''>it</span>
  <span m=''2563230''>for</span> <span m=''2563370''>these</span> <span m=''2563960''>base</span>
  <span m=''2564170''>classes.</span> <span m=''2564570''>That''s</span> <span m=''2564720''>more</span>
  <span m=''2564850''>of</span> <span m=''2564910''>an</span> <span m=''2564990''>implementation</span>
  <span m=''2565570''>detail.</span> <span m=''2566570''>Yeah.</span> </p><p><span
  m=''2566860''>AUDIENCE: [UNINTELLIGIBLE].</span> </p><p><span m=''2568010''>BILL
  THIES: Right</span> <span m=''2568210''>now</span> <span m=''2568350''>there</span>
  <span m=''2568520''>isn''t,</span> <span m=''2568800''>but</span> <span m=''2569420''>nothing</span>
  <span m=''2569720''>fundamental</span> <span m=''2570160''>there.</span> <span m=''2570840''>Yeah?</span>
  <span m=''2571060''>Other questions?</span> <span m=''2573410''>Yeah?</span> </p><p><span
  m=''2574000''>AUDIENCE:</span> <span m=''2574212''>How</span> <span m=''2574425''>did</span>
  <span m=''2574638''>you</span> <span m=''2574851''>know</span> <span m=''2575064''>that</span>
  <span m=''2575277''>there</span> <span m=''2575490''>are</span> <span m=''2575948''>two</span>
  <span m=''2576406''>filters</span> <span m=''2576864''>after</span> <span m=''2577322''>that?</span>
  </p><p><span m=''2579510''>BILL THIES: Two</span> <span m=''2579690''>filters,</span>
  <span m=''2580640''>sorry</span> <span m=''2581520''>here?</span> </p><p><span m=''2581830''>AUDIENCE:
  [UNINTELLIGIBLE].</span> </p><p><span m=''2586030''>BILL THIES: OK.</span> <span
  m=''2586570''>OK.</span> <span m=''2587160''>So</span> <span m=''2587740''>we</span>
  <span m=''2587890''>have</span> <span m=''2588020''>two</span> <span m=''2588190''>add</span>
  <span m=''2588510''>statements</span> <span m=''2589690''>between</span> <span m=''2590010''>the</span>
  <span m=''2590180''>split</span> <span m=''2590380''>and</span> <span m=''2590480''>the</span>
  <span m=''2590560''>join.</span> <span m=''2591740''>So</span> <span m=''2591860''>that</span>
  <span m=''2592040''>branches</span> <span m=''2592480''>to</span> <span m=''2592620''>two</span>
  <span m=''2592820''>parallel</span> <span m=''2593220''>streams.</span> <span m=''2593650''>Is</span>
  <span m=''2595140''>that</span> <span m=''2595690''>your</span> <span m=''2595810''>question?</span>
  </p><p><span m=''2600610''>AUDIENCE:</span> <span m=''2600641''>Yeah.</span> <span
  m=''2600673''>How</span> <span m=''2600705''>do</span> <span m=''2600736''>you</span>
  <span m=''2600768''>that</span> <span m=''2600800''>theorem,</span> <span m=''2600831''>that</span>
  <span m=''2600863''>there''s</span> <span m=''2600895''>not</span> <span m=''2600926''>like</span>
  <span m=''2600958''>three.</span> </p><p><span m=''2600990''>BILL THIES: So</span>
  <span m=''2603580''>the</span> <span m=''2603720''>compiler</span> <span m=''2603910''>will</span>
  <span m=''2603970''>analyze</span> <span m=''2604590''>this,</span> <span m=''2604670''>the
  compile</span> <span m=''2605090''>time.</span> <span m=''2605610''>And</span> <span
  m=''2605750''>it''ll</span> <span m=''2606260''>know</span> <span m=''2606460''>these</span>
  <span m=''2606650''>values</span> <span m=''2606980''>of</span> <span m=''2607060''>N</span>
  <span m=''2607350''>and</span> <span m=''2607480''>propagate</span> <span m=''2607920''>them</span>
  <span m=''2608050''>down</span> <span m=''2608300''>at</span> <span m=''2608360''>compile</span>
  <span m=''2608740''>time.</span> <span m=''2609950''>So</span> <span m=''2611060''>it''ll</span>
  <span m=''2611280''>basically</span> <span m=''2611620''>symbolically</span> <span
  m=''2612170''>evaluate</span> <span m=''2612550''>this</span> <span m=''2612660''>code,</span>
  <span m=''2613270''>see</span> <span m=''2613450''>there</span> <span m=''2613555''>are</span>
  <span m=''2613660''>two</span> <span m=''2613790''>branches,</span> <span m=''2614570''>and</span>
  <span m=''2614680''>you</span> <span m=''2614750''>can</span> <span m=''2614880''>unroll</span>
  <span m=''2615010''>this</span> <span m=''2615320''>communication</span> <span m=''2615850''>pattern.</span>
  </p><p><span m=''2616180''>AUDIENCE: I</span> <span m=''2619250''>think</span> <span
  m=''2619810''>another</span> <span m=''2620980''>way of thinking about it is,</span>
  <span m=''2621510''>each add statement</span> <span m=''2622380''>essentially</span>
  <span m=''2622870''>adds another branch</span> <span m=''2623460''>in your</span>
  <span m=''2623580''>splitjoin.</span> </p><p><span m=''2624730''>PROFESSOR:</span>
  <span m=''2628110''>That</span> <span m=''2628320''>is</span> <span m=''2628540''>another</span>
  <span m=''2628980''>box.</span> </p><p><span m=''2629240''>BILL THIES: It''s</span>
  <span m=''2629820''>about</span> <span m=''2629870''>to</span> <span m=''2629920''>get</span>
  <span m=''2629970''>clear</span> <span m=''2630020''>actually.</span> <span m=''2631880''>Other</span>
  <span m=''2632090''>questions?</span> </p><p><span m=''2636090''>AUDIENCE: [UNINTELLIGIBLE]</span>
  </p><p><span m=''2636580''>BILL THIES: That''s one way to</span> <span m=''2636640''>think</span>
  <span m=''2636780''>about</span> <span m=''2636960''>it,</span> <span m=''2637090''>yeah.</span>
  <span m=''2638690''>Wait</span> <span m=''2639290''>say</span> <span m=''2639790''>again,</span>
  <span m=''2640150''>counting?</span> </p><p><span m=''2640590''>AUDIENCE:</span>
  <span m=''2642100''>A rating</span> <span m=''2642710''>sort.</span> </p><p><span
  m=''2643060''>BILL THIES: A</span> <span m=''2643890''>rating</span> <span m=''2644143''>sort,</span>
  <span m=''2644396''>right.</span> <span m=''2645630''>OK,</span> <span m=''2646350''>well</span>
  <span m=''2647080''>is it</span> <span m=''2647350''>sorting?</span> <span m=''2647890''>It''s</span>
  <span m=''2647980''>not</span> <span m=''2648120''>really</span> <span m=''2648290''>sorting.</span>
  </p><p><span m=''2649460''>AUDIENCE:</span> <span m=''2649486''>Well</span> <span
  m=''2649513''>it''s</span> <span m=''2649540''>not</span> <span m=''2649566''>really</span>
  <span m=''2649593''>sorting.</span> </p><p><span m=''2649620''>BILL THIES: It''s</span>
  <span m=''2649830''>a</span> <span m=''2649980''>permutation.</span> </p><p><span
  m=''2650730''>AUDIENCE:</span> <span m=''2651230''>Could you do a rating sort?</span>
  </p><p><span m=''2653730''>BILL THIES: You could</span> <span m=''2654270''>do a</span>
  <span m=''2654300''>rating</span> <span m=''2654630''>sort.</span> <span m=''2654940''>So</span>
  <span m=''2655090''>actually,</span> <span m=''2655910''>what</span> <span m=''2656080''>I</span>
  <span m=''2656410''>want</span> <span m=''2656620''>to</span> <span m=''2656680''>show</span>
  <span m=''2656830''>next</span> <span m=''2657150''>is</span> <span m=''2657240''>how</span>
  <span m=''2657330''>you</span> <span m=''2657460''>can</span> <span m=''2657760''>morph</span>
  <span m=''2658050''>this</span> <span m=''2658220''>program</span> <span m=''2658600''>into</span>
  <span m=''2658766''>a</span> <span m=''2658933''>merge</span> <span m=''2659100''>sort</span>
  <span m=''2659900''>by</span> <span m=''2660010''>changing</span> <span m=''2660390''>only</span>
  <span m=''2660610''>a</span> <span m=''2660670''>few</span> <span m=''2660860''>lines.</span>
  <span m=''2661890''>OK</span> <span m=''2662040''>look</span> <span m=''2662230''>carefully.</span>
  <span m=''2662640''>Don''t</span> <span m=''2662850''>blink.</span> <span m=''2664710''>OK</span>
  <span m=''2664960''>there''s</span> <span m=''2665150''>merge</span> <span m=''2665390''>sort.</span>
  <span m=''2666500''>So</span> <span m=''2666780''>very</span> <span m=''2667010''>similar</span>
  <span m=''2667340''>pattern.</span> <span m=''2667710''>This is</span> <span m=''2667810''>one</span>
  <span m=''2667920''>of</span> <span m=''2667990''>those</span> <span m=''2668100''>idioms.</span>
  <span m=''2668600''>It''s</span> <span m=''2668720''>a</span> <span m=''2668770''>recursive</span>
  <span m=''2669130''>idiom</span> <span m=''2669280''>with</span> <span m=''2669440''>splitjoins.</span>
  <span m=''2670860''>But</span> <span m=''2671040''>now</span> <span m=''2671260''>in
  the</span> <span m=''2671350''>base</span> <span m=''2671640''>case,</span> <span
  m=''2671900''>we</span> <span m=''2672000''>have</span> <span m=''2672130''>a</span>
  <span m=''2672190''>sort.</span> <span m=''2673130''>So</span> <span m=''2673350''>we</span>
  <span m=''2673490''>would</span> <span m=''2673580''>basically</span> <span m=''2674240''>branch</span>
  <span m=''2674630''>down.</span> <span m=''2675840''>What</span> <span m=''2675970''>we</span>
  <span m=''2676070''>ended</span> <span m=''2676260''>up</span> <span m=''2676390''>with</span>
  <span m=''2676550''>was</span> <span m=''2676690''>a</span> <span m=''2676780''>sort</span>
  <span m=''2677100''>in</span> <span m=''2677260''>the</span> <span m=''2677330''>base</span>
  <span m=''2677570''>case.</span> <span m=''2677760''>We''re</span> <span m=''2677940''>just</span>
  <span m=''2678010''>sorting</span> <span m=''2678340''>a</span> <span m=''2678400''>few</span>
  <span m=''2678590''>values.</span> <span m=''2679800''>And</span> <span m=''2680090''>we</span>
  <span m=''2680160''>call</span> <span m=''2680660''>[? merge sort ?]</span> <span
  m=''2680780''>twice</span> <span m=''2681080''>again,</span> <span m=''2681930''>and</span>
  <span m=''2682080''>then</span> <span m=''2682180''>we</span> <span m=''2682280''>do</span>
  <span m=''2682390''>a merge.</span> <span m=''2683410''>So</span> <span m=''2683710''>instead</span>
  <span m=''2683990''>of</span> <span m=''2684070''>identity</span> <span m=''2684600''>at
  the</span> <span m=''2684740''>base</span> <span m=''2684980''>case</span> <span
  m=''2685240''>here,</span> <span m=''2685440''>we</span> <span m=''2685540''>now</span>
  <span m=''2685710''>have</span> <span m=''2686060''>a</span> <span m=''2686150''>basic</span>
  <span m=''2686480''>sorting</span> <span m=''2686800''>routine.</span> <span m=''2687680''>And</span>
  <span m=''2687900''>we</span> <span m=''2688000''>merge</span> <span m=''2688360''>those</span>
  <span m=''2688580''>results</span> <span m=''2688930''>from</span> <span m=''2689070''>both</span>
  <span m=''2689280''>sides.</span> <span m=''2690260''>And</span> <span m=''2690510''>the</span>
  <span m=''2690570''>only</span> <span m=''2690720''>thing</span> <span m=''2690850''>I</span>
  <span m=''2690930''>changed</span> <span m=''2691720''>in</span> <span m=''2691840''>terms</span>
  <span m=''2692050''>of</span> <span m=''2692150''>the</span> <span m=''2692240''>communication</span>
  <span m=''2692850''>rate,</span> <span m=''2693540''>is</span> <span m=''2693760''>to</span>
  <span m=''2693850''>be</span> <span m=''2693950''>more</span> <span m=''2694160''>efficient</span>
  <span m=''2694520''>we</span> <span m=''2694620''>just</span> <span m=''2694790''>distributed</span>
  <span m=''2695320''>data</span> <span m=''2695920''>in</span> <span m=''2696100''>chuncks</span>
  <span m=''2696900''>instead</span> <span m=''2697190''>of</span> <span m=''2697280''>doing</span>
  <span m=''2697850''>a</span> <span m=''2697940''>fine-grained</span> <span m=''2698740''>splitting.</span>
  <span m=''2699120''>Actually</span> <span m=''2699390''>you</span> <span m=''2699530''>do</span>
  <span m=''2699620''>it</span> <span m=''2699710''>however</span> <span m=''2699960''>you</span>
  <span m=''2700090''>want</span> <span m=''2700520''>in</span> <span m=''2700660''>a
  merge</span> <span m=''2700960''>sort.</span> <span m=''2701550''>But this</span>
  <span m=''2701770''>is</span> <span m=''2701900''>chunked</span> <span m=''2702210''>up.</span>
  <span m=''2702360''>And</span> <span m=''2702450''>let''s</span> <span m=''2702560''>just</span>
  <span m=''2702720''>zoom</span> <span m=''2702900''>in</span> <span m=''2703110''>here.</span>
  <span m=''2703960''>This</span> <span m=''2704100''>is</span> <span m=''2704270''>how</span>
  <span m=''2704440''>a</span> <span m=''2704530''>merger</span> <span m=''2704660''>sort</span>
  <span m=''2704940''>looks</span> <span m=''2705490''>in StreamIt.</span> <span m=''2706420''>So</span>
  <span m=''2706810''>we</span> <span m=''2706910''>split</span> <span m=''2707190''>the</span>
  <span m=''2707270''>data</span> <span m=''2708300''>two</span> <span m=''2708590''>ways,</span>
  <span m=''2708920''>both</span> <span m=''2709140''>directions,</span> <span m=''2710260''>come</span>
  <span m=''2710480''>together,</span> <span m=''2711270''>do</span> <span m=''2711410''>a</span>
  <span m=''2711470''>sort</span> <span m=''2711820''>on</span> <span m=''2711950''>both</span>
  <span m=''2712160''>sides,</span> <span m=''2712710''>and</span> <span m=''2712840''>then</span>
  <span m=''2712930''>you</span> <span m=''2713040''>merge.</span> </p><p><span m=''2714210''>And</span>
  <span m=''2714400''>so</span> <span m=''2714520''>by</span> <span m=''2714640''>having</span>
  <span m=''2714880''>the,</span> <span m=''2715110''>you</span> <span m=''2715300''>know</span>
  <span m=''2715380''>you</span> <span m=''2715490''>can</span> <span m=''2715600''>interleave</span>
  <span m=''2716060''>pipelines</span> <span m=''2716840''>and</span> <span m=''2717000''>splitjoins</span>
  <span m=''2717270''>like</span> <span m=''2717450''>this.</span> <span m=''2718030''>So</span>
  <span m=''2718140''>you</span> <span m=''2718210''>have these</span> <span m=''2718360''>hierarchical</span>
  <span m=''2718890''>structures</span> <span m=''2719310''>that</span> <span m=''2719420''>are</span>
  <span m=''2719480''>coming</span> <span m=''2719720''>back</span> <span m=''2719940''>together.</span>
  <span m=''2721350''>Does</span> <span m=''2721480''>this</span> <span m=''2721640''>make
  sense?</span> <span m=''2724420''>OK.</span> <span m=''2725890''>I''m</span> <span
  m=''2725970''>going to</span> <span m=''2726110''>hold</span> <span m=''2726360''>off</span>
  <span m=''2726500''>on</span> <span m=''2726580''>messaging</span> <span m=''2726950''>actually.</span>
  <span m=''2729830''>Let</span> <span m=''2729970''>me</span> <span m=''2730040''>see,</span>
  <span m=''2730250''>what</span> <span m=''2730390''>do I</span> <span m=''2730440''>want</span>
  <span m=''2730580''>to</span> <span m=''2730640''>cover?</span> <span m=''2732830''>OK</span>
  <span m=''2732920''>let</span> <span m=''2733130''>me</span> <span m=''2733390''>actually</span>
  <span m=''2733660''>skip</span> <span m=''2733870''>to</span> <span m=''2733950''>the</span>
  <span m=''2734040''>end.</span> <span m=''2737330''>Oh,</span> <span m=''2737560''>I</span>
  <span m=''2737660''>can</span> <span m=''2737790''>show</span> <span m=''2737920''>you</span>
  <span m=''2738000''>this.</span> <span m=''2740870''>Yeah,</span> <span m=''2741060''>I''m</span>
  <span m=''2741120''>going to</span> <span m=''2741340''>cut</span> <span m=''2741550''>short</span>
  <span m=''2741790''>a</span> <span m=''2741830''>little</span> <span m=''2742020''>bit.</span>
  <span m=''2742380''>So</span> <span m=''2742560''>here''s</span> <span m=''2742750''>how</span>
  <span m=''2742910''>other</span> <span m=''2743090''>programs</span> <span m=''2743500''>look</span>
  <span m=''2743720''>written</span> <span m=''2743930''>in StreamIt.</span> <span
  m=''2744860''>OK,</span> <span m=''2745050''>you</span> <span m=''2745110''>can
  have</span> <span m=''2745240''>a</span> <span m=''2745300''>Bitonic</span> <span
  m=''2745830''>sort.</span> <span m=''2747110''>OK</span> <span m=''2747300''>so</span>
  <span m=''2747430''>you see</span> <span m=''2747700''>a lot of these</span> <span
  m=''2748020''>regular</span> <span m=''2748350''>structures.</span> <span m=''2748840''>And</span>
  <span m=''2748910''>the</span> <span m=''2748980''>compiler</span> <span m=''2749360''>can</span>
  <span m=''2749480''>unroll</span> <span m=''2749890''>this</span> <span m=''2750120''>and</span>
  <span m=''2750220''>then</span> <span m=''2750340''>match</span> <span m=''2750700''>it
  to</span> <span m=''2750830''>the</span> <span m=''2750910''>substrate.</span> <span
  m=''2752320''>This is</span> <span m=''2752410''>how and</span> <span m=''2752620''>FFT</span>
  <span m=''2753080''>looks.</span> <span m=''2753380''>It''s</span> <span m=''2753600''>quite</span>
  <span m=''2753790''>an</span> <span m=''2754110''>ah</span> <span m=''2754500''>elegant</span>
  <span m=''2754850''>implementation</span> <span m=''2755390''>of</span> <span m=''2755450''>an</span>
  <span m=''2755540''>FFT.</span> <span m=''2756740''>It''d</span> <span m=''2756980''>be</span>
  <span m=''2757080''>good</span> <span m=''2757230''>to</span> <span m=''2757300''>go</span>
  <span m=''2757410''>into</span> <span m=''2757670''>in</span> <span m=''2757760''>more</span>
  <span m=''2757900''>detail.</span> </p><p><span m=''2759430''>You</span> <span m=''2759810''>can</span>
  <span m=''2760040''>do</span> <span m=''2760140''>things</span> <span m=''2760380''>like</span>
  <span m=''2760530''>block</span> <span m=''2760830''>matrix</span> <span m=''2761160''>multiply.</span>
  <span m=''2761560''>You</span> <span m=''2761700''>don''t</span> <span m=''2761900''>always</span>
  <span m=''2762240''>have</span> <span m=''2762390''>to</span> <span m=''2762470''>have</span>
  <span m=''2762860''>column</span> <span m=''2763310''>or row-wise</span> <span m=''2763740''>ordering.</span>
  <span m=''2764420''>It''s</span> <span m=''2764580''>natural</span> <span m=''2764990''>to</span>
  <span m=''2765480''>split</span> <span m=''2765690''>things</span> <span m=''2765900''>up</span>
  <span m=''2766040''>like</span> <span m=''2766190''>this.</span> <span m=''2767420''>We</span>
  <span m=''2767510''>have</span> <span m=''2767620''>a</span> <span m=''2767650''>lot</span>
  <span m=''2767770''>of</span> <span m=''2767860''>DSP</span> <span m=''2768240''>algorithms,</span>
  <span m=''2768700''>the</span> <span m=''2768780''>filter</span> <span m=''2769070''>bank,</span>
  <span m=''2769400''>FM</span> <span m=''2769690''>radio with</span> <span m=''2770080''>equalizer,</span>
  <span m=''2771220''>radar</span> <span m=''2771690''>array</span> <span m=''2771760''>front</span>
  <span m=''2772040''>end.</span> <span m=''2772790''>Here''s</span> <span m=''2772990''>an</span>
  <span m=''2773050''>MP3</span> <span m=''2773500''>decoder.</span> <span m=''2776190''>And</span>
  <span m=''2776780''>let''s</span> <span m=''2776940''>see,</span> <span m=''2777020''>I''m</span>
  <span m=''2777110''>going to</span> <span m=''2777280''>skip</span> <span m=''2777490''>this</span>
  <span m=''2777640''>section</span> <span m=''2777980''>and</span> <span m=''2778080''>just
  give</span> <span m=''2778240''>you</span> <span m=''2778400''>a taste</span> <span
  m=''2778620''>for the</span> <span m=''2778860''>end</span> <span m=''2779060''>here.</span>
  <span m=''2783880''>I''m skipping</span> <span m=''2784090''>a</span> <span m=''2784140''>hundred</span>
  <span m=''2784410''>slides.</span> <span m=''2787190''>Yeah.</span> </p><p><span
  m=''2789840''>OK</span> <span m=''2790130''>so</span> <span m=''2790260''>if</span>
  <span m=''2790420''>I</span> <span m=''2790520''>give</span> <span m=''2790620''>you</span>
  <span m=''2790720''>a feel.</span> <span m=''2791100''>Our</span> <span m=''2791220''>biggest</span>
  <span m=''2791490''>program</span> <span m=''2791820''>written</span> <span m=''2792120''>in
  StreamIt</span> <span m=''2792440''>so</span> <span m=''2792560''>far,</span> <span
  m=''2792780''>is</span> <span m=''2792900''>the</span> <span m=''2792990''>complete</span>
  <span m=''2793380''>MPEG-2</span> <span m=''2794070''>encoder</span> <span m=''2794490''>and</span>
  <span m=''2794560''>decoder.</span> <span m=''2795680''>So</span> <span m=''2795780''>here
  is</span> <span m=''2796030''>MPEG-2</span> <span m=''2796770''>decoder.</span>
  <span m=''2796940''>And</span> <span m=''2797000''>I think</span> <span m=''2797210''>you''ve</span>
  <span m=''2797300''>seen</span> <span m=''2797490''>block</span> <span m=''2797730''>diagrams</span>
  <span m=''2798140''>of</span> <span m=''2798230''>this</span> <span m=''2798720''>already</span>
  <span m=''2799090''>in</span> <span m=''2799200''>the</span> <span m=''2799270''>class.</span>
  <span m=''2800420''>And</span> <span m=''2800640''>so</span> <span m=''2800830''>it''s  a
  pretty</span> <span m=''2801010''>natural</span> <span m=''2801360''>expression.</span>
  <span m=''2801800''>You</span> <span m=''2801870''>can</span> <span m=''2801990''>really</span>
  <span m=''2802180''>get</span> <span m=''2802320''>a</span> <span m=''2802350''>feel</span>
  <span m=''2802600''>for</span> <span m=''2802700''>the</span> <span m=''2802770''>high-level</span>
  <span m=''2803180''>structure</span> <span m=''2803520''>of the</span> <span m=''2803660''>algorithm</span>
  <span m=''2804570''>mapping</span> <span m=''2804920''>down.</span> <span m=''2805250''>And</span>
  <span m=''2805570''>for</span> <span m=''2805750''>example,</span> <span m=''2806050''>here</span>
  <span m=''2806230''>on</span> <span m=''2806320''>the</span> <span m=''2806390''>top</span>
  <span m=''2806670''>we''re</span> <span m=''2806770''>doing</span> <span m=''2806950''>the</span>
  <span m=''2807040''>spatial</span> <span m=''2807430''>decoding</span> <span m=''2808220''>looking</span>
  <span m=''2808490''>inside</span> <span m=''2808890''>each</span> <span m=''2809070''>frame.</span>
  <span m=''2809980''>Whereas</span> <span m=''2810240''>at</span> <span m=''2810310''>the</span>
  <span m=''2810380''>bottom</span> <span m=''2810680''>we''re</span> <span m=''2810800''>doing</span>
  <span m=''2810990''>the</span> <span m=''2811100''>temporal</span> <span m=''2811700''>decoding</span>
  <span m=''2812170''>between</span> <span m=''2812560''>two</span> <span m=''2812710''>frames,</span>
  <span m=''2813070''>the</span> <span m=''2813160''>motion</span> <span m=''2813470''>compensation.</span>
  <span m=''2815580''>And</span> <span m=''2815810''>one</span> <span m=''2815930''>thing</span>
  <span m=''2816060''>that</span> <span m=''2816170''>I</span> <span m=''2816260''>didn''t</span>
  <span m=''2816460''>have</span> <span m=''2816560''>a</span> <span m=''2816590''>chance</span>
  <span m=''2816860''>to</span> <span m=''2816970''>mention,</span> <span m=''2818790''>is</span>
  <span m=''2818970''>that</span> <span m=''2819070''>we</span> <span m=''2819140''>have</span>
  <span m=''2819240''>a</span> <span m=''2819290''>concept</span> <span m=''2820200''>of</span>
  <span m=''2820460''>teleport</span> <span m=''2820910''>messaging.</span> <span
  m=''2821540''>What</span> <span m=''2821710''>this</span> <span m=''2821840''>means</span>
  <span m=''2822190''>is,</span> <span m=''2822900''>I</span> <span m=''2823100''>showed</span>
  <span m=''2823340''>you</span> <span m=''2823480''>how</span> <span m=''2823650''>the</span>
  <span m=''2824010''>steady</span> <span m=''2824410''>state</span> <span m=''2824800''>flow</span>
  <span m=''2825070''>data</span> <span m=''2825670''>goes</span> <span m=''2825890''>between</span>
  <span m=''2826280''>these</span> <span m=''2826430''>actors</span> <span m=''2827090''>in</span>
  <span m=''2827220''>the</span> <span m=''2827300''>stream.</span> <span m=''2828270''>But</span>
  <span m=''2828390''>sometimes</span> <span m=''2828700''>you</span> <span m=''2828760''>want</span>
  <span m=''2828900''>to</span> <span m=''2828960''>control</span> <span m=''2829550''>the</span>
  <span m=''2829650''>stream</span> <span m=''2829950''>as</span> <span m=''2830080''>well.</span>
  </p><p><span m=''2830820''>For</span> <span m=''2830940''>example,</span> <span
  m=''2831600''>this</span> <span m=''2831730''>is</span> <span m=''2831860''>a</span>
  <span m=''2832660''>variable</span> <span m=''2833060''>length</span> <span m=''2833280''>decoder</span>
  <span m=''2833650''>at</span> <span m=''2833730''>the</span> <span m=''2833820''>top.</span>
  <span m=''2834050''>It''s</span> <span m=''2834200''>parsing</span> <span m=''2834570''>the</span>
  <span m=''2834660''>input</span> <span m=''2834950''>data.</span> <span m=''2836010''>It</span>
  <span m=''2836120''>might</span> <span m=''2836320''>want to</span> <span m=''2836510''>change</span>
  <span m=''2837070''>how</span> <span m=''2837190''>the</span> <span m=''2837300''>processing</span>
  <span m=''2837830''>is</span> <span m=''2837920''>happening</span> <span m=''2838390''>downstream.</span>
  <span m=''2839260''>For</span> <span m=''2839390''>example,</span> <span m=''2839770''>say</span>
  <span m=''2839960''>that</span> <span m=''2840080''>you</span> <span m=''2840200''>have--</span>
  <span m=''2840900''>you</span> <span m=''2841000''>know</span> <span m=''2841430''>in</span>
  <span m=''2841750''>this</span> <span m=''2841910''>case</span> <span m=''2842180''>you</span>
  <span m=''2842430''>have</span> <span m=''2842610''>different</span> <span m=''2842900''>picture</span>
  <span m=''2843250''>types</span> <span m=''2843530''>coming</span> <span m=''2843800''>in.</span>
  <span m=''2844430''>And you</span> <span m=''2844570''>want to</span> <span m=''2844750''>tell</span>
  <span m=''2845070''>other</span> <span m=''2845270''>components</span> <span m=''2845780''>to</span>
  <span m=''2845880''>change</span> <span m=''2846210''>their</span> <span m=''2846320''>processing</span>
  <span m=''2847000''>based</span> <span m=''2847280''>on</span> <span m=''2847410''>a</span>
  <span m=''2847640''>non-local</span> <span m=''2848250''>effect.</span> <span m=''2849370''>And</span>
  <span m=''2849580''>that''s</span> <span m=''2849730''>hard</span> <span m=''2849980''>to</span>
  <span m=''2850080''>do</span> <span m=''2850300''>if</span> <span m=''2850410''>you</span>
  <span m=''2850500''>just</span> <span m=''2850700''>want</span> <span m=''2850900''>static</span>
  <span m=''2851300''>data</span> <span m=''2851540''>rates.</span> <span m=''2852340''>But</span>
  <span m=''2852470''>what</span> <span m=''2852580''>we</span> <span m=''2852660''>have</span>
  <span m=''2853000''>is this limited</span> <span m=''2853140''>notion</span> <span
  m=''2853470''>of</span> <span m=''2854630''>limited</span> <span m=''2855180''>dynamism,</span>
  <span m=''2856030''>where</span> <span m=''2856250''>you''re</span> <span m=''2856450''>basically</span>
  <span m=''2856810''>poking</span> <span m=''2857230''>into</span> <span m=''2857420''>somebody</span>
  <span m=''2857660''>else''s</span> <span m=''2857970''>stream.</span> <span m=''2858730''>And
  we</span> <span m=''2858920''>let</span> <span m=''2859070''>you</span> <span m=''2859150''>do</span>
  <span m=''2859240''>that</span> <span m=''2859420''>very</span> <span m=''2859630''>precisely.</span>
  <span m=''2860600''>I</span> <span m=''2860770''>don''t</span> <span m=''2860950''>have</span>
  <span m=''2861050''>time</span> <span m=''2861230''>to</span> <span m=''2861310''>go</span>
  <span m=''2861410''>into</span> <span m=''2861570''>the</span> <span m=''2861680''>details,</span>
  <span m=''2862190''>but you</span> <span m=''2862320''>can</span> <span m=''2862440''>basically</span>
  <span m=''2862800''>synchronize</span> <span m=''2863470''>the</span> <span m=''2863570''>arrival</span>
  <span m=''2864050''>of</span> <span m=''2864130''>these</span> <span m=''2864320''>messages</span>
  <span m=''2865140''>with</span> <span m=''2865500''>the</span> <span m=''2865620''>data</span>
  <span m=''2865890''>that''s</span> <span m=''2866050''>also</span> <span m=''2866300''>flowing</span>
  <span m=''2866620''>through</span> <span m=''2866730''>the</span> <span m=''2866850''>stream,</span>
  <span m=''2867770''>And</span> <span m=''2868020''>so</span> <span m=''2868140''>in</span>
  <span m=''2868220''>this</span> <span m=''2868360''>case,</span> <span m=''2868640''>were</span>
  <span m=''2868860''>sending</span> <span m=''2869140''>through</span> <span m=''2869290''>the</span>
  <span m=''2869380''>picture</span> <span m=''2869670''>type.</span> <span m=''2870340''>And</span>
  <span m=''2870530''>it</span> <span m=''2870590''>really</span> <span m=''2870780''>simplifies</span>
  <span m=''2871280''>the</span> <span m=''2871360''>program</span> <span m=''2871720''>code.</span>
  <span m=''2872320''>I</span> <span m=''2872510''>didn''t have</span> <span m=''2872670''>time</span>
  <span m=''2872880''>for</span> <span m=''2872980''>details,</span> <span m=''2873370''>but</span>
  <span m=''2873750''>why</span> <span m=''2873950''>don''t</span> <span m=''2874140''>we</span>
  <span m=''2874270''>put</span> <span m=''2874430''>in</span> <span m=''2874520''>the</span>
  <span m=''2874610''>slides</span> <span m=''2874970''>anyway,</span> <span m=''2875840''>if</span>
  <span m=''2875980''>you''re</span> <span m=''2876090''>interested.</span> </p><p><span
  m=''2877530''>And</span> <span m=''2877920''>if</span> <span m=''2878000''>you</span>
  <span m=''2878080''>do</span> <span m=''2878200''>a</span> <span m=''2878400''>similar</span>
  <span m=''2878720''>communication</span> <span m=''2879260''>pattern</span> <span
  m=''2879580''>in</span> <span m=''2879740''>C,</span> <span m=''2880350''>it''s</span>
  <span m=''2880550''>a</span> <span m=''2880600''>little</span> <span m=''2880790''>bit</span>
  <span m=''2880900''>of</span> <span m=''2880970''>a</span> <span m=''2881020''>nightmare.</span>
  <span m=''2881760''>You</span> <span m=''2881920''>have all</span> <span m=''2882040''>these</span>
  <span m=''2882200''>different,</span> <span m=''2883890''>basically</span> <span
  m=''2884290''>memory</span> <span m=''2884600''>spaces,</span> <span m=''2885020''>different</span>
  <span m=''2885430''>files.</span> <span m=''2886320''>And</span> <span m=''2886540''>the</span>
  <span m=''2886600''>control</span> <span m=''2886940''>information</span> <span
  m=''2887690''>is</span> <span m=''2887800''>basically</span> <span m=''2888100''>going</span>
  <span m=''2888360''>left</span> <span m=''2888570''>and</span> <span m=''2888700''>right</span>
  <span m=''2888930''>all</span> <span m=''2889100''>over.</span> <span m=''2889980''>So</span>
  <span m=''2890610''>this</span> <span m=''2890810''>really</span> <span m=''2891010''>helps</span>
  <span m=''2891280''>both</span> <span m=''2891420''>the</span> <span m=''2891490''>compiler</span>
  <span m=''2891960''>and</span> <span m=''2892040''>the</span> <span m=''2892110''>programmer</span>
  <span m=''2892550''>as</span> <span m=''2892650''>well</span> <span m=''2893070''>in
  StreamIt.</span> </p><p><span m=''2895080''>So</span> <span m=''2895260''>it''s</span>
  <span m=''2895420''>all</span> <span m=''2895770''>implemented.</span> <span m=''2896220''>It''s
  about</span> <span m=''2896430''>2,000</span> <span m=''2896890''>lines</span> <span
  m=''2897200''>of</span> <span m=''2897630''>code</span> <span m=''2897920''>in</span>
  <span m=''2898060''>StreamIt.</span> <span m=''2898720''>Which</span> <span m=''2899010''>is</span>
  <span m=''2899200''>about</span> <span m=''2899400''>2/3</span> <span m=''2899890''>of</span>
  <span m=''2899960''>the</span> <span m=''2900050''>size</span> <span m=''2900370''>of</span>
  <span m=''2900440''>the</span> <span m=''2900540''>C</span> <span m=''2900760''>code,</span>
  <span m=''2901640''>taking</span> <span m=''2901880''>into</span> <span m=''2902100''>account</span>
  <span m=''2902420''>similar</span> <span m=''2902690''>functionality</span> <span
  m=''2903290''>there.</span> <span m=''2904020''>And</span> <span m=''2904290''>it''s
  a pretty</span> <span m=''2904500''>big</span> <span m=''2904690''>program.</span>
  <span m=''2905120''>You</span> <span m=''2905230''>can</span> <span m=''2905340''>write</span>
  <span m=''2905560''>48</span> <span m=''2905980''>static</span> <span m=''2906170''>streams.</span>
  <span m=''2906970''>And</span> <span m=''2907090''>then</span> <span m=''2907180''>we</span>
  <span m=''2907260''>expand</span> <span m=''2907780''>that</span> <span m=''2908030''>to</span>
  <span m=''2908220''>more</span> <span m=''2908420''>than</span> <span m=''2908540''>600</span>
  <span m=''2909020''>instantiated</span> <span m=''2909600''>filters.</span> <span
  m=''2910400''>So this</span> <span m=''2910540''>gives</span> <span m=''2910670''>you</span>
  <span m=''2910740''>a</span> <span m=''2910780''>lot</span> <span m=''2910920''>of</span>
  <span m=''2911010''>flexibility</span> <span m=''2911600''>when</span> <span m=''2911720''>you''re</span>
  <span m=''2911810''>trying</span> <span m=''2911970''>to</span> <span m=''2912030''>get</span>
  <span m=''2912280''>parallelism.</span> <span m=''2912750''>Question?</span> </p><p><span
  m=''2913260''>AUDIENCE: When a compiler downloads all bytes?</span> </p><p><span
  m=''2915920''>BILL THIES: Oh</span> <span m=''2916770''>the</span> <span m=''2916910''>object</span>
  <span m=''2917260''>code,</span> <span m=''2917690''>you mean.</span> <span m=''2919780''>OK,
  so</span> <span m=''2919950''>right</span> <span m=''2920210''>now</span> <span
  m=''2920360''>our</span> <span m=''2920510''>current</span> <span m=''2920740''>implementation,</span>
  <span m=''2921330''>we</span> <span m=''2921440''>duplicate</span> <span m=''2921870''>a</span>
  <span m=''2921920''>lot</span> <span m=''2922080''>of</span> <span m=''2922160''>code.</span>
  <span m=''2922990''>So</span> <span m=''2923290''>it</span> <span m=''2923580''>end</span>
  <span m=''2923690''>up being</span> <span m=''2924080''>bigger</span> <span m=''2924670''>than</span>
  <span m=''2924780''>it</span> <span m=''2924870''>needs</span> <span m=''2925080''>to</span>
  <span m=''2925170''>be.</span> <span m=''2925600''>There''s</span> <span m=''2925820''>no</span>
  <span m=''2925940''>reason</span> <span m=''2926210''>for</span> <span m=''2926330''>us</span>
  <span m=''2926450''>to</span> <span m=''2926540''>do</span> <span m=''2926650''>that.</span>
  <span m=''2926820''>That''s</span> <span m=''2926950''>kind</span> <span m=''2927150''>of</span>
  <span m=''2927240''>a--</span> <span m=''2927650''>we</span> <span m=''2927716''>have</span>
  <span m=''2927783''>a</span> <span m=''2927850''>research</span> <span m=''2928140''>compiler</span>
  <span m=''2928630''>that</span> <span m=''2929010''>make</span> <span m=''2929180''>that</span>
  <span m=''2929330''>easy.</span> </p><p><span m=''2929640''>AUDIENCE: So object-wise</span>
  <span m=''2930160''>, its not data.</span> </p><p><span m=''2932240''>BILL THIES:</span>
  <span m=''2933000''>Object-wise</span> <span m=''2933720''>we</span> <span m=''2933840''>still</span>
  <span m=''2934120''>need</span> <span m=''2934220''>to do that</span> <span m=''2934350''>comparison.</span>
  <span m=''2935120''>Yeah</span> <span m=''2935810''>that''s</span> <span m=''2935960''>a</span>
  <span m=''2936020''>good</span> <span m=''2936130''>question.</span> <span m=''2936830''>Yeah.</span>
  <span m=''2938660''>Other</span> <span m=''2938820''>questions?</span> <span m=''2940940''>OK</span>
  <span m=''2941250''>so let</span> <span m=''2941370''>me</span> <span m=''2941560''>cut</span>
  <span m=''2941760''>to</span> <span m=''2942210''>the end.</span> <span m=''2943070''>OK,</span>
  <span m=''2943380''>so</span> <span m=''2944300''>we</span> <span m=''2944430''>have</span>
  <span m=''2944570''>the</span> <span m=''2944650''>StreamIt</span> <span m=''2944970''>language.</span>
  <span m=''2945360''>And we</span> <span m=''2945490''>think</span> <span m=''2945630''>it</span>
  <span m=''2945720''>really</span> <span m=''2945940''>preserves</span> <span m=''2946320''>the</span>
  <span m=''2946400''>program</span> <span m=''2946730''>structure.</span> <span m=''2947570''>It''s</span>
  <span m=''2947730''>a</span> <span m=''2947780''>new</span> <span m=''2947910''>way</span>
  <span m=''2948100''>of</span> <span m=''2948180''>thinking</span> <span m=''2948460''>about</span>
  <span m=''2948720''>how</span> <span m=''2948850''>you</span> <span m=''2948990''>orchestrate</span>
  <span m=''2949540''>the</span> <span m=''2949620''>data</span> <span m=''2949850''>reordering</span>
  <span m=''2950490''>with</span> <span m=''2950630''>the</span> <span m=''2950770''>splitjoins,</span>
  <span m=''2951470''>showing</span> <span m=''2951750''>you</span> <span m=''2951850''>who
  is</span> <span m=''2952100''>communicating</span> <span m=''2952620''>to</span>
  <span m=''2952710''>who,</span> <span m=''2953240''>and</span> <span m=''2953430''>how</span>
  <span m=''2953540''>you</span> <span m=''2953640''>can</span> <span m=''2953790''>stitch</span>
  <span m=''2954100''>together</span> <span m=''2954470''>different</span> <span m=''2955000''>pieces</span>
  <span m=''2955420''>in</span> <span m=''2955490''>your</span> <span m=''2955600''>program</span>
  <span m=''2955930''>development.</span> <span m=''2956980''>And</span> <span m=''2957390''>again,</span>
  <span m=''2957730''>really</span> <span m=''2957940''>our</span> <span m=''2958060''>goal</span>
  <span m=''2958310''>is</span> <span m=''2958470''>to</span> <span m=''2959050''>get</span>
  <span m=''2959210''>this</span> <span m=''2959400''>scalable</span> <span m=''2960000''>multicore</span>
  <span m=''2960400''>performance.</span> <span m=''2961170''>But</span> <span m=''2961280''>you</span>
  <span m=''2961360''>can''t</span> <span m=''2961570''>get</span> <span m=''2961680''>people</span>
  <span m=''2961900''>on</span> <span m=''2962080''>board</span> <span m=''2962360''>just</span>
  <span m=''2962690''>on</span> <span m=''2962840''>a</span> <span m=''2962900''>performance</span>
  <span m=''2963400''>stat.</span> <span m=''2963840''>You</span> <span m=''2964010''>need</span>
  <span m=''2964150''>to</span> <span m=''2964250''>show</span> <span m=''2964420''>them
  a</span> <span m=''2964520''>new</span> <span m=''2964740''>programming</span> <span
  m=''2965200''>model</span> <span m=''2965430''>that</span> <span m=''2965540''>actually</span>
  <span m=''2965800''>makes</span> <span m=''2965980''>their</span> <span m=''2966120''>lives</span>
  <span m=''2966410''>easier.</span> <span m=''2967250''>So</span> <span m=''2967660''>that''s</span>
  <span m=''2967830''>what</span> <span m=''2967920''>we''re</span> <span m=''2968040''>working</span>
  <span m=''2968350''>on.</span> <span m=''2968870''>And</span> <span m=''2969450''>thinks</span>
  <span m=''2969680''>with</span> <span m=''2969880''>listening.</span> </p><p><span
  m=''2970060''>[APPLAUSE]</span> </p><p><span m=''2975520''>BILL THIES: Any</span>
  <span m=''2975640''>last</span> <span m=''2975900''>questions?</span> <span m=''2977450''>Yes?</span>
  </p><p><span m=''2977940''>AUDIENCE: So</span> <span m=''2979520''>in</span> <span
  m=''2980940''>the anti-decoder,</span> <span m=''2981290''>you</span> <span m=''2982090''>have</span>
  <span m=''2982190''>a lot</span> <span m=''2982770''>of computations</span> <span
  m=''2983430''>size</span> <span m=''2985140''>that</span> <span m=''2985920''>were
  not sequential streams.</span> <span m=''2986790''>Like</span> <span m=''2987110''>for
  example,</span> <span m=''2987200''>the</span> <span m=''2987330''>output</span>
  <span m=''2989430''>of</span> <span m=''2989690''>the distinct</span> <span m=''2990910''>cosine</span>
  <span m=''2991700''>transform</span> <span m=''2991990''>is</span> <span m=''2992300''>not</span>
  <span m=''2993320''>a</span> <span m=''2993780''>stream</span> <span m=''2994560''>of</span>
  <span m=''2994680''>pixel,</span> <span m=''2994970''>you</span> <span m=''2995750''>are</span>
  <span m=''2996360''>going</span> <span m=''2996580''>to</span> <span m=''2997040''>have</span>
  <span m=''2997530''>coefficients and things like that.</span> <span m=''2998080''>Which</span>
  <span m=''2998240''>are a logical</span> <span m=''2998950''>sort</span> <span m=''2999133''>of</span>
  <span m=''2999316''>chunk.</span> </p><p><span m=''2999500''>BILL THIES: Yes</span>
  <span m=''3002830''>so</span> <span m=''3003360''>depending</span> <span m=''3003780''>on</span>
  <span m=''3003890''>the</span> <span m=''3003970''>granularity</span> <span m=''3004600''>of</span>
  <span m=''3004700''>the</span> <span m=''3004780''>competition,</span> <span m=''3005650''>you</span>
  <span m=''3005880''>don''t</span> <span m=''3006080''>need</span> <span m=''3006240''>to</span>
  <span m=''3006330''>pass</span> <span m=''3006700''>individual</span> <span m=''3007180''>values</span>
  <span m=''3007570''>over</span> <span m=''3007730''>the</span> <span m=''3007840''>stream.</span>
  <span m=''3008610''>For</span> <span m=''3008700''>example,</span> <span m=''3009070''>you</span>
  <span m=''3009170''>can</span> <span m=''3009270''>have</span> <span m=''3009420''>a</span>
  <span m=''3009480''>stream</span> <span m=''3009850''>that</span> <span m=''3009970''>inputs</span>
  <span m=''3010160''>the</span> <span m=''3010290''>whole</span> <span m=''3010540''>array</span>
  <span m=''3011400''>at</span> <span m=''3011550''>a</span> <span m=''3011610''>time.</span>
  <span m=''3012980''>And</span> <span m=''3013190''>so</span> <span m=''3013800''>we</span>
  <span m=''3013910''>basically</span> <span m=''3014250''>advocate</span> <span m=''3014800''>that</span>
  <span m=''3015470''>if</span> <span m=''3015620''>you</span> <span m=''3015690''>have</span>
  <span m=''3015840''>something</span> <span m=''3016120''>that</span> <span m=''3016340''>course-grained,</span>
  <span m=''3017150''>you</span> <span m=''3017340''>should</span> <span m=''3017470''>be</span>
  <span m=''3017560''>passing</span> <span m=''3017990''>an</span> <span m=''3018080''>array</span>
  <span m=''3018440''>or a</span> <span m=''3018600''>macroblock,</span> <span m=''3019340''>in</span>
  <span m=''3019490''>the</span> <span m=''3019550''>case</span> <span m=''3019750''>of</span>
  <span m=''3019830''>MPEG,</span> <span m=''3020260''>or a</span> <span m=''3020720''>set</span>
  <span m=''3020970''>of</span> <span m=''3021060''>coefficients</span> <span m=''3021660''>in</span>
  <span m=''3021740''>a</span> <span m=''3021810''>structure.</span> <span m=''3022650''>So</span>
  <span m=''3023180''>when</span> <span m=''3023460''>you</span> <span m=''3023540''>have</span>
  <span m=''3023710''>coarse-grain</span> <span m=''3024180''>parallelism,</span>
  <span m=''3024680''>you</span> <span m=''3024790''>write</span> <span m=''3024940''>your</span>
  <span m=''3025060''>program</span> <span m=''3025400''>in</span> <span m=''3025470''>a</span>
  <span m=''3025520''>course-grained</span> <span m=''3026030''>way.</span> <span
  m=''3026630''>The</span> <span m=''3026860''>fine-grained</span> <span m=''3027330''>things</span>
  <span m=''3027570''>I</span> <span m=''3027660''>showed</span> <span m=''3027920''>for</span>
  <span m=''3028020''>the</span> <span m=''3028130''>bit</span> <span m=''3028600''>interleaving</span>
  <span m=''3029090''>and</span> <span m=''3029220''>so</span> <span m=''3029350''>on,</span>
  <span m=''3029510''>is</span> <span m=''3029610''>more</span> <span m=''3029750''>for</span>
  <span m=''3029850''>the</span> <span m=''3030120''>fine-grained</span> <span m=''3030560''>programs.</span>
  <span m=''3032930''>AUDIENCE: Can you do both?</span> <span m=''3033260''>In</span>
  <span m=''3033530''>the</span> <span m=''3035070''>sense that can</span> <span m=''3035600''>you
  stream</span> <span m=''3036070''>over an</span> <span m=''3036190''>array,</span>
  <span m=''3037660''>so</span> <span m=''3038090''>it''s stream of stream,</span>
  <span m=''3039340''>so</span> <span m=''3039440''>to</span> <span m=''3039590''>speak.</span>
  </p><p><span m=''3039780''>BILL THIES: So there''s an</span> <span m=''3039880''>interesting</span>
  <span m=''3040540''>multidimensional</span> <span m=''3041270''>problem</span> <span
  m=''3041650''>there.</span> <span m=''3042760''>Right</span> <span m=''3043010''>now</span>
  <span m=''3043160''>we''ve</span> <span m=''3043320''>taken</span> <span m=''3043570''>a</span>
  <span m=''3043650''>1-dimensional</span> <span m=''3044230''>approach.</span> <span
  m=''3045700''>So</span> <span m=''3045870''>far</span> <span m=''3046220''>it''s</span>
  <span m=''3046340''>basically</span> <span m=''3046760''>the</span> <span m=''3046870''>programmer</span>
  <span m=''3047450''>has</span> <span m=''3047680''>to</span> <span m=''3047800''>set</span>
  <span m=''3048190''>an</span> <span m=''3048360''>iteration</span> <span m=''3048810''>order,</span>
  <span m=''3049470''>and</span> <span m=''3049630''>end</span> <span m=''3049740''>up</span>
  <span m=''3049840''>with</span> <span m=''3049960''>a</span> <span m=''3050010''>1-dimensional</span>
  <span m=''3050650''>stream</span> <span m=''3051500''>coming</span> <span m=''3051780''>into</span>
  <span m=''3052040''>and</span> <span m=''3052120''>out</span> <span m=''3052280''>of</span>
  <span m=''3052350''>every</span> <span m=''3052580''>filter.</span> <span m=''3053200''>We''re</span>
  <span m=''3053330''>working</span> <span m=''3053720''>on</span> <span m=''3053840''>extending</span>
  <span m=''3054240''>that.</span> <span m=''3054780''>Yeah,</span> <span m=''3055030''>but</span>
  <span m=''3055210''>when you</span> <span m=''3055290''>have</span> <span m=''3055750''>basically</span>
  <span m=''3056160''>streams</span> <span m=''3056840''>of</span> <span m=''3057020''>2-dimensional</span>
  <span m=''3057620''>data,</span> <span m=''3058220''>you</span> <span m=''3058440''>like</span>
  <span m=''3058630''>the</span> <span m=''3058720''>freedom</span> <span m=''3059220''>to
  either</span> <span m=''3059490''>iterate</span> <span m=''3060210''>basically</span>
  <span m=''3060520''>in</span> <span m=''3060670''>time</span> <span m=''3061130''>or</span>
  <span m=''3061250''>in</span> <span m=''3061410''>space,</span> <span m=''3061980''>depending</span>
  <span m=''3062340''>on</span> <span m=''3062420''>what</span> <span m=''3062550''>you''re</span>
  <span m=''3062670''>doing.</span> <span m=''3063350''>And</span> <span m=''3063510''>so</span>
  <span m=''3063610''>I</span> <span m=''3063710''>think</span> <span m=''3064030''>that''s</span>
  <span m=''3064190''>more of a</span> <span m=''3064370''>research</span> <span m=''3064820''>problem.</span>
  <span m=''3065180''>So</span> <span m=''3065280''>far</span> <span m=''3065530''>we''re
  just</span> <span m=''3065730''>been</span> <span m=''3065850''>doing</span> <span
  m=''3066040''>a</span> <span m=''3066100''>1-dimensional</span> <span m=''3066910''>representation.</span>
  <span m=''3068240''>Yeah</span> <span m=''3069350''>good</span> <span m=''3069480''>point.</span>
  <span m=''3071590''>Other</span> <span m=''3071800''>questions?</span> <span m=''3073650''>Yeah?</span>
  </p><p><span m=''3074370''>AUDIENCE: Why</span> <span m=''3075730''>did you decide</span>
  <span m=''3076180''>on</span> <span m=''3076370''>this synchronous</span> <span
  m=''3076700''>dataflow</span> <span m=''3078290''>model</span> <span m=''3078496''>as</span>
  <span m=''3078703''>opposed</span> <span m=''3078910''>to</span> <span m=''3079087''>something</span>
  <span m=''3079265''>more</span> <span m=''3079442''>general?</span> </p><p><span
  m=''3079620''>BILL THIES: So</span> <span m=''3080250''>our</span> <span m=''3080470''>philosophy</span>
  <span m=''3080900''>has</span> <span m=''3081060''>been</span> <span m=''3081300''>that</span>
  <span m=''3081410''>you</span> <span m=''3081520''>want to</span> <span m=''3082180''>start</span>
  <span m=''3083620''>with</span> <span m=''3083830''>the</span> <span m=''3084000''>most</span>
  <span m=''3085000''>kind of</span> <span m=''3085270''>basic</span> <span m=''3085720''>block</span>
  <span m=''3086720''>of</span> <span m=''3086880''>a</span> <span m=''3086940''>stream</span>
  <span m=''3087180''>program,</span> <span m=''3087860''>and</span> <span m=''3088020''>optimize</span>
  <span m=''3088510''>it</span> <span m=''3088610''>really</span> <span m=''3088890''>well.</span>
  <span m=''3089850''>And</span> <span m=''3090020''>then</span> <span m=''3090120''>you</span>
  <span m=''3090180''>can</span> <span m=''3090320''>stitch</span> <span m=''3090590''>those</span>
  <span m=''3090820''>together</span> <span m=''3091180''>into</span> <span m=''3091340''>higher</span>
  <span m=''3091610''>level</span> <span m=''3091860''>blocks.</span> <span m=''3092510''>So</span>
  <span m=''3092680''>we</span> <span m=''3092830''>think</span> <span m=''3093000''>of</span>
  <span m=''3093090''>synchronous</span> <span m=''3093360''>dataflow</span> <span
  m=''3093630''>as</span> <span m=''3094000''>being</span> <span m=''3094170''>kind</span>
  <span m=''3094380''>of</span> <span m=''3094620''>the</span> <span m=''3094770''>basic</span>
  <span m=''3095150''>block</span> <span m=''3095840''>of</span> <span m=''3096000''>streaming.</span>
  <span m=''3096750''>You</span> <span m=''3096910''>know</span> <span m=''3097070''>what''s</span>
  <span m=''3097230''>coming</span> <span m=''3097510''>in,</span> <span m=''3097680''>you</span>
  <span m=''3097780''>know</span> <span m=''3097890''>what''s</span> <span m=''3098050''>coming</span>
  <span m=''3098360''>out.</span> <span m=''3098790''>And</span> <span m=''3098980''>even</span>
  <span m=''3099120''>if</span> <span m=''3099210''>you</span> <span m=''3099300''>have</span>
  <span m=''3099480''>a</span> <span m=''3099760''>more</span> <span m=''3099950''>general</span>
  <span m=''3100400''>model,</span> <span m=''3101140''>they''ll</span> <span m=''3101290''>be</span>
  <span m=''3101390''>pieces</span> <span m=''3101950''>that</span> <span m=''3102080''>fit</span>
  <span m=''3102170''>under</span> <span m=''3102380''>their</span> <span m=''3102450''>synchronous</span>
  <span m=''3103160''>dataflow</span> <span m=''3104180''>model.</span> <span m=''3104750''>And</span>
  <span m=''3104950''>so</span> <span m=''3105310''>we</span> <span m=''3105420''>saw</span>
  <span m=''3105550''>a</span> <span m=''3105630''>lot</span> <span m=''3105800''>of</span>
  <span m=''3105860''>optimizations</span> <span m=''3106490''>opportunities</span>
  <span m=''3107090''>in</span> <span m=''3107200''>there.</span> <span m=''3107720''>And</span>
  <span m=''3107890''>really</span> <span m=''3108060''>knowing</span> <span m=''3108370''>those</span>
  <span m=''3108600''>IO</span> <span m=''3108930''>rates</span> <span m=''3109260''>can</span>
  <span m=''3109370''>let</span> <span m=''3109520''>you</span> <span m=''3109600''>do</span>
  <span m=''3109670''>a</span> <span m=''3109760''>lot</span> <span m=''3110000''>of</span>
  <span m=''3110100''>things</span> <span m=''3110400''>that</span> <span m=''3110500''>you</span>
  <span m=''3110580''>can''t</span> <span m=''3110810''>do</span> <span m=''3110990''>in
  a</span> <span m=''3111040''>general</span> <span m=''3111340''>model.</span> <span
  m=''3112180''>So</span> <span m=''3112290''>I wanted</span> <span m=''3112480''>to</span>
  <span m=''3112540''>get</span> <span m=''3112670''>the</span> <span m=''3112740''>simple</span>
  <span m=''3113060''>case</span> <span m=''3113340''>right</span> <span m=''3113800''>first.</span>
  <span m=''3114280''>And</span> <span m=''3114550''>actually</span> <span m=''3115010''>kind</span>
  <span m=''3115160''>of</span> <span m=''3115220''>our</span> <span m=''3115310''>focus</span>
  <span m=''3115690''>now</span> <span m=''3116340''>is</span> <span m=''3116480''>on</span>
  <span m=''3116620''>expanding,</span> <span m=''3117490''>and</span> <span m=''3117630''>how</span>
  <span m=''3117720''>do</span> <span m=''3117800''>you</span> <span m=''3117870''>look</span>
  <span m=''3118010''>at</span> <span m=''3118080''>the</span> <span m=''3118150''>heterogeneous</span>
  <span m=''3118750''>system,</span> <span m=''3119140''>and how</span> <span m=''3119280''>do
  you</span> <span m=''3119380''>optimize</span> <span m=''3119810''>a more</span>
  <span m=''3119960''>dynamic</span> <span m=''3120300''>system.</span> <span m=''3121980''>Yep.</span>
  <span m=''3125270''>Other questions?</span> <span m=''3130520''>OK.</span> <span
  m=''3132420''>Yes.</span> <span m=''3133180''>You</span> <span m=''3133410''>can</span>
  <span m=''3133520''>check</span> <span m=''3133680''>out</span> <span m=''3133780''>our</span>
  <span m=''3133890''>web</span> <span m=''3134080''>page.</span> <span m=''3135140''>Yeah</span>
  <span m=''3135290''>if</span> <span m=''3135370''>you</span> <span m=''3135570''>Google</span>
  <span m=''3135660''>for</span> <span m=''3135800''>StreamIt,</span> <span m=''3136290''>I''m</span>
  <span m=''3136390''>sure</span> <span m=''3136550''>you</span> <span m=''3136630''>can</span>
  <span m=''3136760''>find</span> <span m=''3137010''>it.</span> <span m=''3137770''>Yeah,</span>
  <span m=''3137930''>we</span> <span m=''3138020''>have</span> <span m=''3138120''>a</span>
  <span m=''3138180''>public</span> <span m=''3138460''>release.</span> <span m=''3139930''>Yes,</span>
  <span m=''3140210''>send</span> <span m=''3140350''>us</span> <span m=''3140430''>any</span>
  <span m=''3140560''>problems.</span> <span m=''3140970''>It''s</span> <span m=''3141210''>actually</span>
  <span m=''3141980''>it''s</span> <span m=''3142140''>a</span> <span m=''3142210''>good</span>
  <span m=''3142380''>test.</span> <span m=''3142610''>We want to</span> <span m=''3142810''>make</span>
  <span m=''3142920''>sure</span> <span m=''3143500''>it</span> <span m=''3143620''>works</span>
  <span m=''3143840''>for</span> <span m=''3143920''>everyone.</span> <span m=''3145050''>But</span>
  <span m=''3145190''>I</span> <span m=''3145260''>mean,</span> <span m=''3145560''>we''ve</span>
  <span m=''3145710''>had,</span> <span m=''3146080''>you</span> <span m=''3146190''>know,</span>
  <span m=''3146290''>hundreds</span> <span m=''3146560''>of</span> <span m=''3146620''>downloads.</span>
  <span m=''3146830''>There</span> <span m=''3147020''>are</span> <span m=''3147100''>a</span>
  <span m=''3147140''>lot</span> <span m=''3147250''>of</span> <span m=''3147310''>people</span>
  <span m=''3147490''>using</span> <span m=''3147780''>StreamIt.</span> <span m=''3148930''>It</span>
  <span m=''3149330''>shouldn''t</span> <span m=''3149600''>break</span> <span m=''3150200''>if</span>
  <span m=''3150360''>you</span> <span m=''3150450''>download</span> <span m=''3150770''>it.</span>
  <span m=''3151440''>Yeah.</span> <span m=''3154360''>OK</span> <span m=''3154740''>good.</span>
  <span m=''3155500''>Thanks.</span> </p>'
type: course
uid: 05895c8b07594f57d7ce450c591b7c08

---
None